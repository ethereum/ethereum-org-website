---
title: مکانیزم‌های اجماع
description: توضیحی درباره پروتکل‌های اجماع در سیستم‌های توزیع‌شده و نقشی که در اتریوم ایفا می‌کنند.
lang: fa
incomplete: true
---

وقتی صحبت از زنجیره‌های بلوکی مانند اتریوم می‌شود که در اصل پایگاه داده‌های توزیع‌شده هستند، گره‌های شبکه باید بتوانند در مورد وضعیت فعلی سیستم به توافق برسند. این امر با استفاده از مکانیزم‌های اجماع حاصل می‌شود.

گرچه مکانیزم‌های اجماع مستقیماً به ساختن برنامه‌ی غیرمتمرکز مرتبط نیستند، درک آن‌ها سبب روشن شدن مفاهیم مرتبط با شما و تجربه‌ی کاربری‌تان، مانند قیمت گاز و زمان تراکنش، می‌شود.

## پیش‌نیازها {#prerequisites}

برای درک بهتر این صفحه،‌ توصیه می‌شود که ابتدا [مقدمه‌ای بر اتریوم](/developers/docs/intro-to-ethereum/) مطالعه شود.

## اجماع چیست؟ {#what-is-consensus}

منظور از اجماع، یک توافقنامه‌ی کلی است که به آن دست یافته‌ایم. فرض کنید گروهی از افراد به سینما می‌روند. اگر هیچ اختلاف‌نظری درباره‌ی فیلم انتخاب‌شده وجود نداشته باشد، آنگاه اجماع حاصل شده است. در بدترین حالت گروه در نهایت تقسیم می‌شوند.

در رابطه با زنجیره‌ی بلوکی،‌ این فرایند رسمی‌سازی شده است، و اجماع زمانی اتفاق می‌افتد که حداقل ‏‎51% گره‌های شبکه روی وضعیت همگانی بعدی شبکه توافق داشته باشند.

## مکانیزم اجماع چیست؟ {#what-is-a-consensus-mechanism}

مکانیزم‌های اجماع (که به نام پروتکل‌های اجماع یا الگوریتم‌های اجماع هم شناخته می‌شوند) این امکان را می‌دهند که سیستم‌های توزیع شده (شبکه‌های کامپیوترها) با هم کار کنند و امن بمانند.

برای دهه‌ها،‌ این مکانیزم در برقرار کردن اجماع بین گره‌های پایگاه داده‌ها، سرور‌های برنامه‌های کاربردی و سایر زیرساخت‌ها مورد استفاده قرار می‌گرفت. در سال های گذشته، مکانیزم اجماع جدیدی اختراع شده تا به سیستم‌های رمزنگاری شده مانند اتریوم اجازه دهد که در مورد وضعیت شبکه توافق کنند.

یک مکانیزم اجماع در سیستم اقتصاد رمزارزی هم‌چنین به جلوگیری از حمله‌های مشخص اقتصادی کمک می‌کند. در تئوری،‌ یک مهاجم می‌تواند با کنترل ‏‎51% شبکه اجماع را به خطر بیاندازد. مکانیزم‌های اجماع با هدف ناممکن ساختن این «حمله‌ی ‎51%‏» طراحی شده‌اند. مکانیزم های مختلفی طراحی‌شده‌اند تا این مشکل امنیتی را با روش‌های مختلفی حل کنند.

<YouTube id="dylgwcPH4EA" />

## انواع مکانیزم‌های اجماع {#types-of-consensus-mechanisms}

### اثبات کار {#proof-of-work}

در حال حاضر اتریوم به مانند بیت‌کوین، از مکانیزم اجماع **اثبات کار (PoW)** استفاده می‌کند.

#### ساخت بلوک {#pow-block-creation}

اثبات کار توسط [استخراج‌گرها](/developers/docs/consensus-mechanisms/pow/mining/)، که برای درست‌کردن بلوک‌های پر از تراکنش‌ رقابت می‌کنند، انجام می‌شود. برنده، بلوک را با بقیه شبکه به اشتراک می‌گذارد و مقداری اتر تازه ضرب‌شده به دست می‌آورد. رایانه‌ای در رقابت برنده می‌شود که بتواند پازل ریاضی را سریع‌تر حل کند - این کار یک لینک رمزنگاری شده بین بلوک فعلی و بلوک قبل ایجاد می‌کند. حل این معما همان کار در «اثبات کار» است.

#### ایمنی {#pow-security}

شبکه با توجه به این حقیقت که برای فریب دادن زنجیره نیاز به ‎51%‏ توان پردازشی شبکه دارید، ایمن می‌ماند. این کار نیاز به چنان سرمایه‌گذاری زیادی برای تجهیزات و انرژی دارد که احتمالاً خرج شما از سودی که به دست خواهید آورد بیشتر خواهد بود.

اطلاعات بیشتر درباره‌ی [اثبات کار](/developers/docs/consensus-mechanisms/pow/)

### اثبات سهام {#proof-of-stake}

اتریوم برنامه دارد که پروتکل اجماع خود را به **اثبات سهام (PoS)** ارتقا دهد.

#### ساخت بلوک {#pos-block-creation}

اثبات سهام توسط اعتبارسنج‌هایی که برای مشارکت در سیستم اتر سهام‌گذاری کرده‌اند انجام می‌شود. اعتبارسنج به شکل تصادفی برای ساخت بلوک جدید انتخاب می‌شود و آن را با بقیه‌ی شبکه به اشتراک گذاشته و پاداش دریافت می‌کند. به جای کار محاسباتی بسیار زیاد، کافی است که اتر خود را در شبکه سهام‌گذاری کنید. این مشوقی است که برای رفتار سالم در شبکه تعیین شده است.

#### ایمنی {#pos-security}

یک سیستم اثبات سهام با توجه به این حقیقت که برای فریب دادن زنجیره نیاز به ‎51%‏ اتر سهام‌گذاری‌شده نیاز دارید، ایمن می‌ماند. و همچنین برای رفتارهای بداندیش سهام شما تقطیع می‌شود.

اطلاعات بیشتر درباره‌ی [اثبات سهام](/developers/docs/consensus-mechanisms/pos/)

### یک راهنمای تصویری {#types-of-consensus-video}

برای کسب اطلاعات بیشتر درباره‌ی مکانیزم‌های اجماع مختلف استفاده‌شده در اتریوم تماشا کنید:

<YouTube id="ojxfbN78WFQ" />

### مقاومت سیبیل و انتخاب زنجیره {#sybil-chain}

از دید فنی، اثبات کار و اثبات سهام خود پروتکل‌های اجماع نیستند، اما معمولاً برای راحتی به این نام خطاب می‌شوند. این‌ها در واقع مکانیزم‌های مقاومت سیبیل و انتخاب‌کننده‌ی نویسنده‌ی بلوک‌ هستند؛ روشی هستند برای انتخاب اینکه چه کسی آخرین بلوک را بنویسد. این مکانیزم مقاومت سیبیل ترکیب‌شده با قانون انتخاب زنجیره‌ است که در مجموع مکانیزم اجماع را می‌سازد.

**مقاومت سیبیل** میزان گذر یک پروتکل در مقابل یک [حمله‌ی سیبیل](https://wikipedia.org/wiki/Sybil_attack) را می‌سنجد. حملات سیبیل وقتی اتفاق می‌افتند که یک کاربر یا گروه تظاهر می‌کند چند کاربر مختلف است. مقاومت در برابر چنین حملاتی برای یک زنجیره‌ی بلوکی غیرمتمرکز بسیار ضروری است و به استخراج‌گرها و اعتبارسنج‌ها امکان می‌دهد بر اساس منابعی که در اختیار گذاشته‌اند به‌صورت مساوی پاداش دریافت کنند. اثبات سهام و اثبات کار با مجبور کردن کاربر به هزینه کردن انرژی بسیار یا گذاشتن وثیقه‌ی زیاد، جلوی این حمله را می‌گیرند. این تمهیدات محافظتی، مانعی به‌صرفه علیه حملات سیبیل هستند.

یک **قانون انتخاب زنجیره** برای تصمیم‌گیری در این باره که کدام زنجیره، زنجیره‌ی «درست» است، استفاده می‌شود. اتریوم و بیت‌کوین هم‌اکنون از قانون «بلندترین زنجیره» استفاده می‌کنند، به این معنی که بلندترین زنجیره آنی خواهد بود که بقیه‌ی گره‌ها آن را معتبر دانسته و با آن کار می‌کنند. برای زنجیره‌های اثبات کار، بلندترین زنجیره بر اساس سختی اثبات کار تجمیعی کل زنجیره مشخص می‌شود.

ترکیب اثبات کار و قانون بلندترین زنجیره به عنوان «اجماع ناکاموتو» شناخته می‌شود.

[زنجیره‌ی بیکن](/roadmap/beacon-chain/) از یک مکانیزم اجماعی به نام [گجت قطعیت دوستانه‌ی Casper‏ (Casper the Friendly Finality Gadget)‏](https://arxiv.org/abs/1710.09437) استفاده می‌کند که مبتنی بر اثبات سهام است.

## بیشتر بخوانید {#further-reading}

- [الگوریتم اجماع زنجیره‌ی بلوکی چیست؟](https://academy.binance.com/en/articles/what-is-a-blockchain-consensus-algorithm)
- [اجماع ناکاموتو چیست؟ راهنمای کامل مبتدی‌ها](https://blockonomi.com/nakamoto-consensus/)
- [Casper چگونه کار می‌کند؟](https://medium.com/unitychain/intro-to-casper-ffg-9ed944d98b2d)
- [درباره‌ی ایمنی و کارایی زنجیره‌های بلوکی مبتنی بر اثبات کار](https://eprint.iacr.org/2016/555.pdf)

_آیا منبعی اجتماعی می‌شناسید که به شما کمک کرده باشد؟ این صفحه را ویرایش کنید و آن را اضافه کنید!_

## موضوعات مرتبط {#related-topics}

- [اثبات کار](/developers/docs/consensus-mechanisms/pow/)
- [استخراج](/developers/docs/consensus-mechanisms/pow/mining/)
- [اثبات سهام](/developers/docs/consensus-mechanisms/pos/)
