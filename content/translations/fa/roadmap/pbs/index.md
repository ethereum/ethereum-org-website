---
title: جداسازی سازنده-پیشنهاددهنده
description: درباره چگونگی و علت جداسازی مسئولیت ساخت و پخش بلوک توسط اعتبارسنج‌های اتریوم بیاموزید.
lang: fa
---

# جداسازی سازنده-پیشنهاددهنده {#proposer-builder-separation}

اعتبارسنج‌های کنونی اتریوم بلوک‌های مجزا ایجاد _و_ پخش می‌کنند. آن‌ها تراکنش‌هایی را که از طریق شبکه شایعه (گاسیپ) شنیده‌اند با هم ترکیب می‌کنند و آن‌ها را در بلوکی بسته‌بندی می‌کنند که برای همتایان حاضر در شبکه اتریوم ارسال می‌شود. **جداسازی پیشنهاد دهنده-سازنده (PBS)‏** این وظایف را بین چند اعتبارسنج تقسیم می‌کند. سازندگان بلوک مسئول ایجاد بلوک‌ها و ارائه آنها به پیشنهاددهنده بلوک در هر اسلات هستند. پیشنهاددهنده بلوک نمی‌تواند محتویات بلوک را ببیند؛ او صرفاً سودآورترین را انتخاب می‌کند و قبل از ارسال بلوک به همتایان خود، کارمزدی را به سازنده بلوک می‌پردازد.

این ارتقا به چند دلیل مهم است. اول اینکه فرصت‌هایی برای جلوگیری از سانسور تراکنش‌ها در سطح پروتکل ایجاد می‌کند. دوم اینکه، مانع از عقب افتادن اعتبارسنج‌های تفریحی از بازیگران سازمانی می‌شود که می‌توانند سودآوری سازندگان بلوک خود را بهینه‌تر کنند. ثانیاً، با فعال کردن ارتقاهای Danksharding به مقیاس‌پذیری اتریوم کمک می‌کند.

## PBS و مقامت در برابر سانسور {#pbs-and-censorship-resistance}

جداسازی سازنده‌های بلوک و پیشنهاددهندگان بلوک باعث می‌شود سانسور تراکنش‌ها برای سازندگان بلوک بسیار سخت‌تر گردد. چراکه می‌توان معیارهای نسبتاً پیچیده‌ای را برای شمول اضافه کرد تا اطمینان حاصل شود که قبل از پیشنهاد بلوک، هیچ سانسوری صورت نگرفته باشد. از آنجایی که پیشنهاددهنده بلوک از سازنده بلوک مجزا است، می‌تواند نقش محافظ در برابر سانسور سازندگان بلوک را بر عهده بگیرد.

به عنوان مثال، می‌توان فهرست‌های شمول را معرفی کرد تا وقتی اعتبارسنج‌ها از تراکنش‌ها اطلاع دارند اما آن‌ها را در بلوک‌ها نمی‌بینند، بتوانند آن‌ها را به عنوان موارد ضروری در بلوک بعدی اعمال کنند. این فهرست شمول از استخر حافظه محلی پیشنهادکنندگان بلوک (لیست تراکنش‌هایی که از آن آگاه است) تولید می‌شود و درست قبل از پیشنهاد بلوک برای همتایان آنها ارسال می‌شود. اگر هریک از تراکنش‌ها در فهرست شمول از قلم افتاده باشد، پیشنهاددهنده می‌تواند بلوک را رد کند، یا تراکنش‌های گمشده را قبل از پیشنهاد آن اضافه کند، یا آن را پیشنهاد کند و اجازه دهد وقتی اعتبارسنج‌های دیگر آن را دریافت کردند، رد شود. همچنین یک نسخه بالقوه کارآمدتر از این ایده وجود دارد که می‌گوید سازندگان باید به‌طور کامل از فضای بلوک موجود استفاده کنند و در صورت عدم استفاده، تراکنش‌ها از فهرست مشمول پیشنهاددهنده اضافه می‌شوند. این هنوز یک حوزه تحقیقات فعال است و پیکربندی بهینه برای فهرست‌های شمول هنوز مشخص نشده است.

[استخرهای حافظه رمزگذاری‌‌شده](https://www.youtube.com/watch?v=fHDjgFcha0M&list=PLpktWkixc1gUqkyc1-iE6TT0RWQTBJELe&index=3) همچنین می‌توانند این امکان را از سازندگان و پیشنهاددهندگان سلب کنند که تا قبل از اینکه بلوکی پخش شود، بفهمند کدام تراکنش‌ها در یک بلوک قرار می‌گیرند.

<ExpandableCard title="PBS کدام نوع از سانسور را رفع می‌کند؟" eventCategory="/roadmap/pbs" eventName="clicked what kinds of censorship does PBS solve?">

سازمان‌های قدرتمند می‌توانند اعتبارسنج‌ها را تحت فشار قرار دهند که تراکنش‌ها را از آدرس‌هایی مشخص یا به آدرس‌هایی مشخص سانسور کنند. اعتبارسنجها با شناسایی آدرس‌های لیست سیاه در مخزن تراکنش‌ها و حذف آن‌ها از بلوک‌هایی که پیشنهاد می‌کنند، با این فشار سازگار می‌شوند. پس از PBS این دیگر امکان‌پذیر نخواهد بود، چراکه پیشنهاددهندگان بلوک نمی‌دانند کدام تراکنش‌ها را در بلوک‌های خود پخش می‌کنند. ممکن است برای افراد یا برنامه‌های خاصی رعایت قوانین سانسور مهم باشد، برای مثال زمانی که این قانون در منطقه آنها اجرایی شده است. در این موارد، پیروی از قوانین در سطح برنامه اتفاق می‌افتد، در حالی که پروتکل بدون مجوز و بدون سانسور باقی می‌ماند.

</ExpandableCard>

## PBS و MEV {#pbs-and-mev}

**حداکثر ارزش قابل استخراج (MEV)** به اعتبارسنج‌هایی اشاره دارد که سودآوری خود را با سفارش تراکنش‌های مورد نظرشان به حداکثر می‌رسانند. نمونه‌های رایج عبارتند از آربیتراژ مبادله‌ها در صرافی‌های غیرمتمرکز (مثلاً فرانت‌رانینگ برای خرید یا فروش بزرگ) یا شناسایی فرصت‌ها برای انحلال موقعیت‌های دیفای. به حداکثر رساندن MEV نیازمند دانش فنی پیچیده و نرم‌افزار سفارشی است که به اعتبارسنج‌های معمولی اضافه می‌شود، و این احتمال را بسیار بیشتر می‌کند که اپراتورهای سازمانی در استخراج MEV از افراد و اعتبارسنج‌های تفریحی بهتر عمل کنند. به‌عبارتی، بازده سهام‌گذاری احتمالاً با اپراتورهای متمرکز بالاتر خواهد بود و نیروی متمرکزکننده‌ای ایجاد می‌کند که باعث بی‌انگیزگی برای سهام‌گذاری خانگی می‌شود.

PBS این مشکل را با پیکربندی مجدد جنبۀ اقتصادی MEV حل می‌کند. به جای اینکه پیشنهاددهندۀ بلوک جستجوی MEV خود را انجام دهد، او به سادگی یک بلوک را از بسیاری از میان بلوک‌هایی که سازنده‌های بلوک به آنها پیشنهاد کرده‌اند، انتخاب می‌کند. سازندگان بلوک ممکن است برای استخراج MEV مسیر پیچیده‌ای را طی کرده باشند، اما پاداش آن به پیشنهاددهنده بلوک می‌رسد. این بدان معناست که حتی اگر استخر کوچکی از سازندگان بلوک‌های تخصصی بر استخراج MEV مسلط باشند، پاداش آن می‌تواند به هر اعتبارسنجی در شبکه، ازجمله سهام گذاران منفرد خانگی، تعلق گیرد.

<ExpandableCard title="چرا متمرکز کردن بلوک‌سازی ایرادی ندارد؟" eventCategory="/roadmap/pbs" eventName="clicked why is it OK to centralize block building?">

به دلیل پیشنهاد پاداش‌های افزایش‌یافته‌ای که توسط راهبردهای پیچیده MEV ارائه می‌شود، می‌توان افراد را به‌جای سهام‌گذاری انفرادی، تشویق به سهام‌گذاری در استخرها کرد. جداسازی ساخت بلوک از پیشنهاد بلوک به این معنی است که MEV استخراج‌شده به جای متمرکز شدن با مؤثرترین جستجوگر MEV، بین اعتبارسنج‌های بیشتری توزیع می‌شود. همزمان، دادن اجازه حضور سازندگان تخصصی بلوک، بار بلوک‌سازی را از دوش افراد برمی‌دارد، و همچنین از سرقت MEV جلوگیری می‌کند، در حالی که تعداد اعتبارسنج‌های مستقلی را که می‌توانند بلوک‌ها را صادقانه بررسی کنند به حداکثر می‌رساند. مفهوم مهم عبارت است از «عدم تقارن اثبات‌کننده- تأییدکننده» و اشاره به این ایده دارد که تولید متمرکز بلوک ایرادی ندارد به‌شرطی که یک شبکه قوی و فوق‌العاده غیرمتمرکز از اعتبارسنج‌ها باشد که بتوانند صحت و درستی بلوک‌ها را ثابت کنند. غیرمتمرکزسازی یک وسیله است، نه هدف نهایی - آنچه ما می‌خواهیم بلوک‌های درست و قابل اطمینان است.
</ExpandableCard>

## PBS و Danksharding {#pbs-and-danksharding}

Danksharding راهی است که اتریوم با آن می‌تواند به مقیاس‌پذیری >100,000 تراکنش در ثانیه برسد و هزینه‌ها را برای کاربران رول‌آپ به حداقل برساند. اجرای این ارتقا به PBS متکی است زیرا به حجم کار سازندگان بلوک می‌افزاید، که باید در کمتر از 1 ثانیه، اثبات‌ها را برای حداکثر 64 مگابایت از داده‌های رول‌آپ محاسبه کنند. این احتمالاً به سازندگان تخصصی نیاز دارد که می‌توانند سخت‌افزار نسبتاً قدرتمندی را به این کار اختصاص دهند. با این حال، در شرایط فعلی، به دلیل استخراج MEV، ساخت بلوک می‌تواند به طور فزاینده‌ای در اطراف اپراتورهای پیچیده‌تر و قدرتمندتر متمرکز شود. جداسازی پیشنهاددهنده از سازنده راهی برای پذیرش این واقعیت و جلوگیری از اعمال نیروی متمرکز بر اعتبارسنجی بلوک (بخش مهم) یا توزیع پاداش‌های سهام‌گذاری است. یک مزیت جانبی بزرگ این است که سازندگان بلوک تخصصی نیز مایل و قادر به محاسبه اثبات اطلاعات لازم برای Danksharding هستند.

## پیشرفت فعلی {#current-progress}

PBS در مراحل تحقیقات پیشرفته قرار دارد، اما هنوز چند سؤال مهم در حوزه طراحی وجود دارد که باید قبل از نمونه‌سازی اولیه آن در کلاینت‌های اتریوم، حل شود. هنوز هیچ مشخصاتی نهایی نشده است. این بدان معناست که احتمالاً با PBS حداقل یک سال فاصله داریم. آخرین [مراحل تحقیق](https://notes.ethereum.org/@vbuterin/pbs_censorship_resistance) را بررسی کنید.

## اطلاعات بیشتر {#further-reading}

- [وضعیت فعلی تحقیق: مقاومت در برابر سانسور تحت PBS](https://notes.ethereum.org/@vbuterin/pbs_censorship_resistance)
- [طراحی بازارهایی با کارمزد مناسب PBS](https://ethresear.ch/t/proposer-block-builder-separation-friendly-fee-market-designs/9725)
- [PBS و مقامت در برابر سانسور](https://notes.ethereum.org/@fradamt/H1TsYRfJc#Secondary-auctions)
- [فهرست‌های شمول](https://notes.ethereum.org/@fradamt/H1ZqdtrBF)
