---
title: Prague-Electra (Pectra)
description: Дізнайтеся про оновлення протоколу Pectra
lang: uk
---

# Pectra {#pectra}

Оновлення мережі Pectra слідувало за [Dencun](/roadmap/dencun/) і внесло зміни як у виконавчий, так і в консенсусний рівень Ethereum. Скорочена назва Pectra є комбінацією Prague та Electra, які є відповідними назвами змін у специфікаціях виконавчого та консенсусного рівнів. Разом ці зміни приносять низку покращень для користувачів, розробників та валідаторів Ethereum.

Це оновлення було успішно активовано в основній мережі Ethereum в епоху `364032`, **07 травня 2025 року о 10:05 (UTC)**.

<Alert variant="update">
<AlertContent>
<AlertDescription>
Оновлення Pectra — лише один крок у довгострокових цілях розвитку Ethereum. Дізнайтеся більше про [дорожню карту протоколу](/roadmap/) та [попередні оновлення](/ethereum-forks/).
</AlertDescription>
</AlertContent>
</Alert>

## Покращення в Pectra {#new-improvements}

Pectra приносить найбільшу кількість [EIP](https://eips.ethereum.org/) серед усіх попередніх оновлень! Є багато незначних змін, а також деякі значні нові функції. Повний список змін та технічних деталей можна знайти в окремих включених EIP.

### Код облікового запису EOA {#7702}

[EIP-7702](https://eips.ethereum.org/EIPS/eip-7702) є важливим кроком на шляху до широкого розповсюдження [абстракції облікових записів](/roadmap/account-abstraction/). Завдяки цій функції користувачі можуть налаштувати свою адресу ([EOA](/glossary/#eoa)) для розширення за допомогою смарт-контракту. EIP запроваджує новий тип транзакції зі специфічною функцією — дозволити власникам адрес підписувати авторизацію, яка налаштовує їхню адресу на імітацію обраного смарт-контракту.

Завдяки цьому EIP користувачі можуть обрати програмовані гаманці, які надають нові функції, такі як об’єднання транзакцій, транзакції без газу та індивідуальний доступ до активів для альтернативних схем відновлення. Цей гібридний підхід поєднує простоту EOA з програмованістю облікових записів на основі контрактів.

Докладніше про 7702 читайте [тут](/roadmap/pectra/7702/)

### Збільшення максимального ефективного балансу {#7251}

Поточний ефективний баланс валідатора становить рівно 32 ETH. Це мінімально необхідна сума для участі в консенсусі, але водночас і максимальна, яку може застейкати один валідатор.

[EIP-7251](https://eips.ethereum.org/EIPS/eip-7251) збільшує максимально можливий ефективний баланс до 2048 ETH, що означає, що один валідатор тепер може стейкати від 32 до 2048 ETH. Замість сум, кратних 32, стейкери тепер можуть обирати довільну кількість ETH для стейкінгу та отримувати винагороди за кожен 1 ETH понад мінімум. Наприклад, якщо баланс валідатора зростає разом із винагородами до 33 ETH, додатковий 1 ETH також вважається частиною ефективного балансу та отримує винагороди.

Але перевага кращої системи винагород для валідаторів — це лише частина цього покращення. [Стейкери](/staking/), які керують кількома валідаторами, тепер можуть об’єднати їх в одного, що спрощує роботу та зменшує навантаження на мережу. Оскільки кожен валідатор у Beacon Chain надсилає підпис у кожну епоху, вимоги до пропускної здатності зростають із збільшенням кількості валідаторів та великою кількістю підписів для поширення. Об’єднання валідаторів зменшить навантаження на мережу та відкриє нові можливості масштабування, зберігаючи при цьому ту ж економічну безпеку.

Докладніше про maxEB читайте [тут](/roadmap/pectra/maxeb/)

### Збільшення пропускної здатності блобів {#7691}

Блоби забезпечують [доступність даних](/developers/docs/data-availability/#data-availability-and-layer-2-rollups) для L2. Вони були представлені в [попередньому оновленні мережі](/roadmap/dencun/).

Наразі мережа націлена на в середньому 3 блоби на блок з максимумом у 6 блобів. З [EIP-7691](https://eips.ethereum.org/EIPS/eip-7691) середня кількість блобів буде збільшена до 6, з максимумом 9 на блок, що призведе до збільшення пропускної здатності для ролапів Ethereum. Цей EIP допомагає подолати розрив, доки [PeerDAS](https://eips.ethereum.org/EIPS/eip-7594) не дозволить ще більшу кількість блобів.

### Збільшення вартості calldata {#7623}

До впровадження [блобів в оновленні Dencun](/roadmap/danksharding) L2 використовували [calldata](/developers/docs/data-availability/blockchain-data-storage-strategies/#calldata) для зберігання своїх даних в Ethereum. І блоби, і calldata впливають на використання пропускної здатності Ethereum. Хоча більшість блоків використовують лише мінімальну кількість calldata, блоки з великим обсягом даних, які також містять багато блобів, можуть бути шкідливими для p2p-мережі Ethereum.

Щоб вирішити цю проблему, [EIP-7623](https://eips.ethereum.org/EIPS/eip-7623) збільшує ціну на calldata, але лише для транзакцій з великим обсягом даних. Це обмежує розмір блоку в найгіршому випадку, стимулює L2 використовувати лише блоби та не впливає на понад 99% транзакцій.

### Виходи, що ініціюються на виконавчому рівні {#7002}

Наразі вихід валідатора та [виведення застейканих ETH](/staking/withdrawals/) — це операція на рівні консенсусу, яка вимагає активного ключа валідатора, того самого ключа BLS, який валідатор використовує для виконання активних обов’язків, таких як атестації. Облікові дані для виведення — це окремий холодний ключ, який отримує виведену частку, але не може ініціювати вихід. Єдиний спосіб для стейкерів вийти — це надіслати спеціальне повідомлення в мережу Beacon Chain, підписане за допомогою активного ключа валідатора. Це є обмежуючим фактором у сценаріях, коли облікові дані для виведення та ключ валідатора належать різним суб'єктам або коли ключ валідатора втрачено.

[EIP-7002](https://eips.ethereum.org/EIPS/eip-7002) впроваджує новий контракт, який можна використовувати для ініціювання виходу за допомогою облікових даних для виведення на виконавчому рівні. Стейкери зможуть виводити свого валідатора, викликаючи функцію в цьому спеціальному контракті, без необхідності мати ключ підпису валідатора або доступ до Beacon Chain взагалі. Важливо, що ввімкнення виведення коштів валідаторів ончейн дозволяє створювати протоколи стейкінгу зі зменшеними припущеннями щодо довіри до операторів вузлів.

### Депозити валідаторів у ланцюжку {#6110}

Депозити валідаторів наразі обробляються за допомогою [eth1data poll](https://eth2book.info/capella/part2/deposits-withdrawals/deposit-processing/), що є функцією на Beacon Chain, яка отримує дані з виконавчого рівня. Це свого роду технічний борг з часів до The Merge, коли Beacon Chain була окремою мережею і мала займатися реорганізаціями proof-of-work.

[EIP-6110](https://eips.ethereum.org/EIPS/eip-6110) — це новий спосіб передачі депозитів з виконавчого на консенсусний рівень, що дозволяє миттєву обробку з меншою складністю реалізації. Це більш безпечний спосіб обробки депозитів, притаманний об'єднаному Ethereum. Це також допомагає забезпечити майбутню стійкість протоколу, оскільки не вимагає історичних депозитів для початкового завантаження вузла, що необхідно для закінчення терміну дії історії.

### Попередньо скомпільовані контракти для BLS12-381 {#2537}

Попередньо скомпільовані контракти — це спеціальний набір смарт-контрактів, вбудованих безпосередньо у віртуальну машину Ethereum ([EVM](/developers/docs/evm/)). На відміну від звичайних контрактів, попередньо скомпільовані контракти не розгортаються користувачами, а є частиною самої реалізації клієнта, написаної його рідною мовою (наприклад, Go, Java тощо, а не Solidity). Попередньо скомпільовані контракти слугують для широко використовуваних та стандартизованих функцій, таких як криптографічні операції. Розробники смарт-контрактів можуть викликати попередньо скомпільовані контракти як звичайні, але з більшою безпекою та ефективністю.

[EIP-2537](https://eips.ethereum.org/EIPS/eip-2537) додає нові попередньо скомпільовані контракти для операцій з кривими над [BLS12-381](https://hackmd.io/@benjaminion/bls12-381). Ця еліптична крива стала широко використовуватися в криптовалютних екосистемах завдяки своїм практичним властивостям. Зокрема, її було прийнято на консенсусному рівні Ethereum, де її використовують валідатори.

Новий попередньо скомпільований контракт дає кожному розробнику можливість легко, ефективно та безпечно виконувати криптографічні операції з використанням цієї кривої, наприклад, перевіряти підписи. Ончейн-застосунки, які залежать від цієї кривої, можуть стати більш ефективними з точки зору газу та безпечнішими, покладаючись на попередньо скомпільований контракт замість якогось власного. Це в основному стосується застосунків, які хочуть аналізувати валідаторів всередині EVM, наприклад, пули для стейкінгу, [рестейкінг](/restaking/), легкі клієнти, мости, а також схеми з нульовим розголошенням.

### Надання історичних хешів блоків зі стану {#2935}

Наразі EVM надає опкод `BLOCKHASH`, який дозволяє розробникам контрактів отримувати хеш блоку безпосередньо на виконавчому рівні. Однак це обмежується лише останніми 256 блоками й може стати проблематичним для безстанових клієнтів у майбутньому.

[EIP-2935](https://eips.ethereum.org/EIPS/eip-2935) створює новий системний контракт, який може надавати останні 8192 хеші блоків як слоти зберігання. Це допомагає забезпечити майбутню стійкість протоколу для безстанового виконання та стає більш ефективним при впровадженні дерев Verkle. Однак, крім цього, ролапи можуть негайно отримати вигоду, оскільки вони можуть робити запити до контракту безпосередньо з довшим історичним вікном.

### Винесення індексу комітету за межі атестації {#7549}

Консенсус Beacon Chain базується на тому, що валідатори віддають свої голоси за останній блок і фіналізовану епоху. Атестація включає 3 елементи, 2 з яких є голосами, а третій — значення індексу комітету.

[EIP-7549](https://eips.ethereum.org/EIPS/eip-7549) виносить цей індекс за межі підписаного повідомлення атестації, що полегшує перевірку та агрегацію голосів консенсусу. Це підвищить ефективність кожного клієнта консенсусу та може значно покращити продуктивність схем з нульовим розголошенням для доведення консенсусу Ethereum.

### Додавання розкладу блобів до файлів конфігурації EL {#7840}

[EIP-7840](https://eips.ethereum.org/EIPS/eip-7840) — це проста зміна, яка додає нове поле до конфігурації клієнта виконавчого рівня. Він налаштовує кількість блоків, уможливлюючи динамічне налаштування цільової та максимальної кількості блобів на блок, а також коригування комісії за блоби. Завдяки безпосередньо визначеній конфігурації клієнти можуть уникнути складнощів обміну цією інформацією через Engine API.

<Alert variant="update">
<AlertContent>
<AlertDescription>
Щоб дізнатися більше про те, як Pectra впливає саме на вас як на користувача, розробника або валідатора Ethereum, загляньте в <a href="https://epf.wiki/#/wiki/pectra-faq">Часті питання про Pectra</a>.
</AlertDescription>
</AlertContent>
</Alert>

## Чи впливає це оновлення на всі вузли та валідатори Ethereum? {#client-impact}

Так, оновлення Pectra вимагає оновлень як [виконавчих клієнтів, так і клієнтів консенсусу](/developers/docs/nodes-and-clients/). Усі основні клієнти Ethereum випустять версії з підтримкою хардфорку, позначені як високопріоритетні. Щоб підтримувати синхронізацію з мережею Ethereum після оновлення, оператори вузлів повинні переконатися, що вони використовують підтримувану версію клієнта. Зауважте, що інформація про випуски клієнтів залежить від часу, і користувачам слід звертатися до останніх оновлень для отримання найактуальніших деталей.

## Як можна конвертувати ETH після хардфорку? {#scam-alert}

- **Жодних дій не потрібно для вашого ETH**: після оновлення Ethereum Pectra не потрібно конвертувати або оновлювати ваш ETH. Баланси ваших рахунків залишаться незмінними, а ETH, яким ви зараз володієте, залишиться доступним у наявній формі після хардфорку.
- **Остерігайтеся шахраїв!** <Emoji text="⚠️" /> **Будь-хто, хто радить вам «оновити» ваш ETH, намагається вас обдурити.** Вам не потрібно нічого робити у зв'язку з цим оновленням. Ваші активи залишаться абсолютно недоторканими. Пам'ятайте, що бути поінформованим — найкращий захист від шахрайства.

[Докладніше про розпізнавання та уникнення шахрайства](/security/)

## Цікавить наочний матеріал? Для тих, хто навчається візуально {#visual-learner}

<YouTube id="ufIDBCgdGwY" />

_Що входить до оновлення Pectra?_ _- Крістін Кім_

<YouTube id="_UpAFpC7X6Y" />

_Оновлення Ethereum Pectra: що потрібно знати стейкерам — Blockdaemon_

## Для подальшого читання {#further-reading}

- [Дорожня карта Ethereum](/roadmap/)
- [Часті питання про Pectra](https://epf.wiki/#/wiki/pectra-faq)
- [Інформаційна сторінка Pectra.wtf](https://pectra.wtf)
- [Як Pectra покращує досвід стейкерів](https://www.kiln.fi/post/next-ethereum-upgrade-how-pectra-will-enhance-the-staking-experience)
- [Інформаційна сторінка EIP7702](https://eip7702.io/)
- [Девнети Pectra](https://github.com/ethereum/pm/blob/master/Pectra/pectra-pm.md)
