---
title: "Абстрагування облікового запису"
description: "Огляд планів Ethereum із підвищення безпеки й спрощення рахунків користувачів"
lang: uk
summaryPoints:
  - Абстракція облікових записів значно спрощує створення гаманців зі смартконтрактами
  - Гаманці зі смартконтрактами значно спрощують керування доступом до рахунків Ethereum
  - Втрачені та розкриті ключі можна відновити за допомогою різних резервних копій
---

# Абстракція облікових записів {#account-abstraction}

Більшість існуючих користувачів взаємодіють з Ethereum за допомогою **[облікових записів, що належать зовнішнім власникам (EOA)](/glossary/#eoa)**. Це обмежує можливості взаємодії користувачів з Ethereum. Наприклад, це ускладнює пакетне виконання транзакцій і вимагає від користувачів завжди підтримувати баланс ETH для сплати комісій за транзакції.

Абстракція облікових записів дає змогу підвищити безпеку рахунків і покращити взаємодію із користувачами. Це може відбуватися шляхом [оновлення EOA](https://eips.ethereum.org/EIPS/eip-7702) (EIP-7702), щоб ними можна було керувати за допомогою смарт-контрактів. Існує також інший шлях, що передбачає додавання [другої, окремої системи транзакцій](https://eips.ethereum.org/EIPS/eip-4337) (EIP-4337), яка працюватиме паралельно з наявним протоколом. Незалежно від способу, результатом є доступ до Ethereum через гаманці зі смартконтрактами, які підтримуються як частина чинного протоколу, так і через додаткову мережу транзакцій.

Гаманці зі смартконтрактами відкривають багато переваг для користувача, зокрема:

- визначення власних гнучких правил безпеки;
- відновлення рахунку в разі втрати ключів
- розділення ключів захисту між довіреними пристроями або особами;
- оплата комісії за газ інших користувачів, і навпаки;
- об’єднувати транзакції в пакети (наприклад, схвалити й виконати обмін за одну операцію)
- більше можливостей покращення взаємодії з користувачем для розробників децентралізованих додатків і гаманців.

Сьогодні ці переваги не підтримуються нативно, оскільки лише облікові записи, що належать зовнішнім власникам ([EOA](/glossary/#eoa)), можуть ініціювати транзакції. EOA — це просто пари відкритих і секретних ключів. Вони працюють у такий спосіб:

- якщо у вас є приватний ключ, ви можете робити _будь-що_ в межах правил віртуальної машини Ethereum (EVM)
- якщо у вас немає приватного ключа, ви не можете робити _нічого_.

Якщо ви втратите ключі, їх неможливо відновити, а викрадені ключі дають злодіям миттєвий доступ до всіх коштів на рахунку.

Гаманці зі смартконтрактами допомагають розв’язати ці проблеми, але сьогодні їх важко програмувати, оскільки зрештою для обробки в Ethereum будь-яку логіку, яку вони реалізують, потрібно перетворити в набір транзакцій EOA. Абстракція облікових записів дозволяє смартконтрактам самим ініціювати транзакції, тому будь-яку логіку, яку користувач хоче реалізувати, можна закодувати в самому гаманці зі смартконтрактами й виконати в Ethereum.

Зрештою, абстракція облікових записів покращує підтримку гаманців зі смартконтрактами, спрощуючи їх створення і підвищуючи безпеку використання. Завдяки абстракції облікових записів користувачі можуть користуватися всіма перевагами Ethereum, не потребуючи розуміння базової технології.

## Більше ніж просто початкові фрази {#beyond-seed-phrases}

Для захисту сучасних облікових записів використовуються секретні ключі, які обчислюються на основі сід-фраз. Будь-хто, хто має доступ до початкової фрази, може легко дізнатися приватний ключ, що захищає обліковий запис, і отримати доступ до всіх активів, які він захищає. Якщо приватний ключ і початкову фразу втрачено, активи стають назавжди недоступними. Захист цих початкових фраз є незручним навіть для досвідчених користувачів, а фішинг початкових фраз є одним з найпоширеніших видів шахрайства.

Абстракція облікових записів вирішує цю проблему, використовуючи смарт-контракт для зберігання активів і авторизації транзакцій. Смарт-контракти можуть містити власну логіку, адаптовану для максимальної безпеки та зручності використання. Користувачі все ще використовують приватні ключі для контролю доступу, але з посиленими заходами безпеки.

Наприклад, до гаманця можна додати резервні ключі, що дає змогу замінити ключ, якщо основний ключ скомпрометовано. Кожен ключ можна захистити по-різному або розподілити серед довірених осіб, що значно підвищує безпеку. Додаткові правила гаманця можуть зменшити шкоду від розкриття ключа, наприклад, вимагаючи кілька підписів для транзакцій з високою вартістю або обмежуючи транзакції довіреними адресами.

## Кращий досвід користувача {#better-user-experience}

Абстракція облікових записів значно покращує користувацький досвід і безпеку завдяки підтримці гаманців зі смарт-контрактами на рівні протоколу. Розробники можуть вільно впроваджувати інновації, покращуючи пакетування транзакцій для швидкості та ефективності. Прості обміни можуть стати операціями в один клік, що значно підвищує зручність використання.

Управління газом значно покращується. Застосунки можуть сплачувати комісії за газ для користувачів або дозволяти оплату в токенах, відмінних від ETH, усуваючи необхідність підтримувати баланс ETH.

## Як буде реалізовано абстракцію облікових записів? Як можна конвертувати Eth після хардфорку? {#how-will-aa-be-implemented}

Наразі гаманці зі смарт-контрактами складно реалізувати, оскільки вони покладаються на складний код, що обгортає стандартні транзакції. Ethereum може це змінити, дозволивши смарт-контрактам безпосередньо ініціювати транзакції, вбудовуючи логіку в смарт-контракти Ethereum, а не покладаючись на зовнішні ретранслятори.

### EIP-4337: Абстракція облікових записів без змін у протоколі

EIP-4337 забезпечує нативну підтримку гаманців зі смарт-контрактами без зміни основного протоколу Ethereum. Він запроваджує об'єкти `UserOperation`, які валідатори збирають у пакети транзакцій, що спрощує розробку гаманців. Контракт EntryPoint для EIP-4337 був розгорнутий у мережі Ethereum Mainnet 1 березня 2023 року та сприяв створенню понад 26 мільйонів смарт-гаманців і 170 мільйонів UserOperations.

## Поточний прогрес {#current-progress}

У рамках оновлення Pectra для Ethereum EIP-7702 заплановано на 7 травня 2025 року. EIP-4337 набув широкого поширення: [розгорнуто понад 26 мільйонів смарт-акаунтів і оброблено понад 170 мільйонів UserOperations](https://www.bundlebear.com/erc4337-overview/all).

## Для подальшого читання {#further-reading}

- [erc4337.io](https://docs.erc4337.io/)
- [Документація до EIP-4337](https://eips.ethereum.org/EIPS/eip-4337)
- [Документація до EIP-7702](https://eips.ethereum.org/EIPS/eip-7702)
- [Інформаційна панель впровадження ERC-4337](https://www.bundlebear.com/erc4337-overview/all)
- [«Шлях до абстракції облікових записів» від Віталіка](https://notes.ethereum.org/@vbuterin/account_abstraction_roadmap#Transaction-inclusion-lists)
- [Блог Віталіка про гаманці із соціальним відновленням](https://vitalik.eth.limo/general/2021/01/11/recovery.html)
- [Awesome Account Abstraction](https://github.com/4337Mafia/awesome-account-abstraction)
