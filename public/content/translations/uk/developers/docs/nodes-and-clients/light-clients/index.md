---
title: Легкі клієнти
description: Знайомство з легкими клієнтами Ethereum.
lang: uk
---

Запуск повного вузла — це найбільш надійний, приватний, децентралізований і стійкий до цензури спосіб взаємодії з Ethereum. З повним вузлом ви зберігаєте свою власну копію блокчейну, яку можете миттєво запитувати, і ви отримуєте прямий доступ до однорангової мережі Ethereum. Однак для роботи повного вузла потрібен значний обсяг пам’яті, сховища та ЦП. Це означає, що не кожен може запустити свій власний вузол. У дорожній карті Ethereum є кілька рішень для цього, включно з безгромадянством, але до їх впровадження залишилося кілька років. Відповідь у найближчій перспективі полягає в тому, щоб змінити деякі переваги роботи повного вузла на значні покращення продуктивності, які дозволять вузлам працювати з значно нижчими вимогами до обладнання. Вузли, які роблять цей компроміс, відомі як легкі вузли.

## Що таке легкий клієнт {#what-is-a-light-client}

Легкий вузол — це вузол, на якому працює програмне забезпечення легкого клієнта. Замість того, щоб зберігати локальні копії даних блокчейну та самостійно перевіряти всі зміни, вони запитують необхідні дані у якогось постачальника. Постачальник може бути прямим підключенням до повного вузла або через якийсь централізований сервер RPC. Потім дані перевіряються легким вузлом, що дозволяє йому не відставати від блоку ланцюга. Світловий вузол обробляє лише заголовки блоків, іноді завантажуючи фактичний вміст блоку. Вузли можуть відрізнятися за своєю легкістю, залежно від комбінації легкого та повного клієнтського програмного забезпечення, яке вони виконують. Наприклад, найпростішою конфігурацією буде запуск клієнта легкого виконання та клієнта легкого консенсусу. Також імовірно, що багато вузлів вирішать запускати клієнтів легкого консенсусу з клієнтами повного виконання, або навпаки.

## Як працюють легкі клієнти? {#how-do-light-clients-work}

Коли Ethereum почав використовувати механізм консенсусу на основі proof-of-stake, була введена нова інфраструктура спеціально для підтримки легких клієнтів. Це працює шляхом випадкового вибору підмножини з 512 валідаторів кожні 1,1 дня, які діють як **синхронізаційний комітет**. Синхронізаційний комітет підписує заголовок останніх блоків. Кожен заголовок блоку містить сукупний підпис валідаторів у синхронізаційному комітеті та "бітове поле", що показує, які валідатори підписали, а які ні. Кожен заголовок також містить список валідаторів, які, як очікується, візьмуть участь у підписанні наступного блоку. Це означає, що легкий клієнт може швидко побачити, що синхронізаційний комітет підтвердив отримані дані, і вони також можуть перевірити, чи синхронізаційний комітет є справжнім, порівнюючи отриманий з тим, який їм було сказано очікувати в попередньому блоці. Таким чином легкий клієнт може постійно оновлювати свої знання про останній блок Ethereum, фактично не завантажуючи сам блок, лише заголовок, який містить підсумкову інформацію.

На рівні виконання немає єдиної специфікації для клієнта легкого виконання. Обсяг клієнта легкого виконання може варіюватися від «легкого режиму» клієнта повного виконання, який має всі EVM і мережеві функції повного вузла, але лише перевіряє заголовки блоків без завантаження пов’язаних даних, або це може бути більше спрощений клієнт, який значною мірою покладається на пересилання запитів до постачальника RPC для взаємодії з Ethereum.

## Чому легкі клієнти важливі? {#why-are-light-clients-important}

Легкі клієнти мають значення, оскільки вони дозволяють користувачам перевіряти вхідні дані, а не сліпо довіряти тому, що їхній постачальник даних є коректним і чесним, використовуючи лише крихітну частку обчислювальних ресурсів повного вузла. Отримані клієнтами легкі дані можна перевірити за заголовками блоків, які, як вони знають, підписані принаймні 2/3 випадкового набору 512 валідаторів Ethereum. Це дуже переконливий доказ того, що дані є правильними.

Легкий клієнт використовує лише невелику кількість обчислювальної потужності, пам’яті та сховища, тому його можна запускати на мобільному телефоні, вбудованому в додаток або як частину браузера. Легкі клієнти — це спосіб зробити доступ до Ethereum з мінімізованою довірою таким же безпроблемним, як і довіра сторонньому постачальнику.

Розглянемо на простому прикладі. Уявіть, що ви хочете перевірити баланс свого рахунку. Для цього вам потрібно зробити запит до вузла Ethereum. Цей вузол перевірить локальну копію стану Ethereum на ваш баланс і поверне його вам. Якщо у вас немає прямого доступу до вузла, існують централізовані оператори, які надають ці дані як послугу. Ви можете надіслати їм запит, вони перевірять свій вузол і надішлють вам результат. Проблема полягає в тому, що вам доведеться довіряти постачальнику, який надасть вам правильну інформацію. Ви ніколи не зможете точно знати, що інформація правильна, якщо ви не можете перевірити її самостійно.

Легкий клієнт розв'язує цю проблему. Ви все ще запитуєте дані від якогось зовнішнього постачальника, проте коли ви отримуєте дані назад, вони приходять із доказом того, що ваш легкий вузол може перевірити інформацію, яку він отримав у заголовку блоку. Це означає, що Ethereum перевіряє правильність ваших даних замість якогось надійного оператора.

## Які інновації пропонують легкі клієнти? Які інновації уможливлюють легкі клієнти? {#what-innovations-do-light-clients-enable}

Основна перевага легких клієнтів полягає в тому, що вони дозволяють більшій кількості людей отримувати доступ до Ethereum самостійно з незначними вимогами до обладнання та мінімальною залежністю від третіх сторін. Це добре для користувачів, оскільки вони можуть перевіряти власні дані, і це добре для мережі, оскільки збільшується кількість та різноманітність вузлів, які перевіряють ланцюжок.

Можливість запускати вузли Ethereum на пристроях з невеликою пам’яттю, сховищем та обчислювальною потужністю є однією з головних областей інновацій, відкритих легкими клієнтами. У той час як сьогодні вузли Ethereum вимагають багато обчислювальних ресурсів, легкі клієнти можна вбудовувати в браузери, запускати на мобільних телефонах і, можливо, навіть на менших пристроях, таких як смартгодинник. Це означає, що гаманці Ethereum із вбудованими клієнтами можуть працювати на мобільному телефоні. Також те, що мобільні гаманці можуть бути набагато децентралізованішими, оскільки їм не доведеться довіряти свої дані централізованим постачальникам даних.

Розширенням цього є забезпечення роботи пристроїв **інтернету речей (IoT)**. Легкий клієнт можна використовувати для швидкого підтвердження права власності на певний баланс токенів або NFT з усіма гарантіями безпеки, які надають комітети синхронізації, ініціюючи певні дії в мережі IoT. Уявіть собі [службу прокату велосипедів](https://youtu.be/ZHNrAXf3RDE?t=929), яка використовує застосунок із вбудованим легким клієнтом для швидкої перевірки, що ви є власником NFT цієї служби прокату, і якщо так, розблоковує для вас велосипед, на якому ви можете поїхати!

Зведені програми Ethereum також виграють від легких клієнтів. Однією з великих проблем для зведень були хакерські атаки, націлені на мости, які дозволяють переказувати кошти з основної мережі Ethereum до зведення. Однією з вразливостей є оракули, які зведені дані використовують для виявлення того, що користувач вніс депозит у міст. Якщо оракул передає неправильні дані, вони можуть змусити зведення подумати, що депозит прибув на міст, і помилково випустити кошти. Легкий клієнт, вбудований у зведення, можна використовувати для захисту від пошкоджених оракулів, оскільки депозит у міст може надходити з доказом, який може бути перевірено зведенням перед випуском будь-яких токенів. Таку ж концепцію можна також застосувати до інших міжланцюгових мостів.

Легкі клієнти також можна використовувати для оновлення гаманців Ethereum. Замість того, щоб довіряти даним, наданим постачальником RPC, ваш гаманець може безпосередньо перевіряти дані, які вам надаються, за допомогою вбудованого легкого клієнта. Це додасть безпеки вашому гаманцю. Якщо ваш постачальник RPC був нечесним і надав вам неправильні дані, вбудований легкий клієнт міг би вам сказати!

## Який поточний стан розробки легких клієнтів? Поточний стан розробки {#current-state-of-development}

У розробці є кілька легких клієнтів, включаючи виконання, консенсус та комбіновані клієнти виконання/консенсусу легких клієнтів. На момент написання цієї сторінки ми знаємо про такі легкі клієнтські реалізації:

- [Lodestar](https://github.com/ChainSafe/lodestar/tree/unstable/packages/light-client): легкий клієнт консенсусу на TypeScript
- [Helios](https://github.com/a16z/helios): комбінований легкий клієнт виконання та консенсусу на Rust
- [Geth](https://github.com/ethereum/go-ethereum/tree/master/beacon/light): легкий режим для клієнта виконання (у розробці) на Go
- [Nimbus](https://nimbus.guide/el-light-client.html): легкий клієнт консенсусу на Nim

Наскільки нам відомо, жодна з них ще не вважається готовою до виробництва.

Крім того, виконується велика кількість роботи для покращення способів доступу легких клієнтів до даних Ethereum. Наразі легкі клієнти покладаються на RPC-запити до повних вузлів, використовуючи модель «клієнт-сервер», але в майбутньому дані можна буде запитувати більш децентралізовано за допомогою виділеної мережі, як-от [Portal Network](https://www.ethportal.net/), яка зможе передавати дані легким клієнтам за допомогою пірингового протоколу поширення.

Інші елементи [плану розвитку](/roadmap/), як-от [дерева Веркла](/roadmap/verkle-trees/) та [відсутність стану](/roadmap/statelessness/), згодом зрівняють гарантії безпеки легких клієнтів із гарантіями повних клієнтів.

## Для подальшого читання {#further-reading}

- [Жолт Фелфоді про легкі клієнти Geth](https://www.youtube.com/watch?v=EPZeFXau-RE)
- [Етан Кісслінг про мережеву взаємодію легких клієнтів](https://www.youtube.com/watch?v=85MeiMA4dD8)
- [Етан Кісслінг про легкі клієнти після The Merge](https://www.youtube.com/watch?v=ZHNrAXf3RDE)
- [Пайпер Мерріам: звивистий шлях до функціональних легких клієнтів](https://snakecharmers.ethereum.org/the-winding-road-to-functional-light-clients/)
