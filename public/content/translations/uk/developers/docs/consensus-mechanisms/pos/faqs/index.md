---
title: "Найбільш поширені питання"
description: "Найбільш поширені питання про proof-of-stake в Ethereum."
lang: uk
---

## Що таке підтвердження частки {#what-is-proof-of-stake}

Підтвердження частки — це клас алгоритмів, що можуть забезпечувати безпеку блокчейнів, гарантуючи, що зловмисники, які діють нечесно, втратять цінні активи. Системи підтвердження частки вимагають, щоб набір валідаторів надав певний актив, який може бути знищений, якщо валідатор продемонструє доказово нечесну поведінку. Ethereum використовує механізм підтвердження частки для захисту блокчейну.

## Як Proof-of-Stake порівнюється з Proof-of-Work? {#comparison-to-proof-of-work}

Підтвердження роботи й підтвердження частки — це механізми, які економічно демотивують зловмисників від спаму або шахрайства в мережі. В обох випадках вузли, які активно беруть участь у консенсусі, вкладають певний актив "у мережу", який вони втратять у разі неправомірної поведінки.

У разі підтвердження роботи цим активом є енергія. Вузол, відомий як майнер, запускає алгоритм, метою якого є обчислення значення швидше, ніж будь-який інший вузол. Найшвидший вузол має право запропонувати блок для ланцюга. Щоб змінити історію ланцюга або домінувати в пропозиції блоків, майнер повинен мати таку обчислювальну потужність, щоб завжди перемагати в змаганні. Це надзвичайно дорого й складно виконати, що захищає ланцюг від атак. Енергія, необхідна для "майнінгу" за допомогою підтвердження роботи, є реальним активом, за який платять майнери.

Підтвердження частки вимагає, щоб вузли, відомі як валідатори, явно надсилали криптоактив до смарт-контракту. Якщо валідатор поводиться неправомірно, цей криптоактив може бути знищений, оскільки він робить "стейкінг" своїх активів безпосередньо в ланцюг, а не опосередковано через витрати енергії.

Підтвердження роботи набагато енерговитратніше, оскільки в процесі майнінгу спалюється електроенергія. З іншого боку, підтвердження частки потребує лише дуже невеликої кількості енергії — валідатори Ethereum можуть працювати навіть на пристрої з низьким енергоспоживанням, наприклад, на Raspberry Pi. Вважається, що механізм підтвердження частки Ethereum є безпечнішим, ніж підтвердження роботи, оскільки вартість атаки вища, а наслідки для зловмисника — серйозніші.

Порівняння Proof-of-Work і Proof-of-Stake є спірним питанням. [Блог Віталіка Бутеріна](https://vitalik.eth.limo/general/2017/12/31/pos_faq.html#what-are-the-benefits-of-proof-of-stake-as-opposed-to-proof-of-work) та дебати між Джастіном Дрейком і Лін Олден дають гарне уявлення про аргументи.

<YouTube id="1m12zgJ42dI" />

## Чи є підтвердження частки енергоефективним? {#is-pos-energy-efficient}

Так. Вузли в мережі підтвердження частки використовують незначну кількість енергії. Стороннє дослідження показало, що вся мережа Ethereum із підтвердженням частки споживає близько 0,0026 ТВт·год/рік — приблизно в 13 000 разів менше, ніж геймінг тільки в США.

[Докладніше про споживання енергії Ethereum](/energy-consumption/).

## Чи є підтвердження частки безпечним? {#is-pos-secure}

Підтвердження частки Ethereum є дуже безпечним. Цей механізм ретельно досліджувався, розроблявся та тестувався протягом восьми років, перш ніж був запущений. Гарантії безпеки відрізняються від блокчейнів із підтвердженням роботи. У механізмі підтвердження частки зловмисні валідатори можуть бути активно покарані (зазнати «слешингу») і виключені з набору валідаторів, що коштуватиме їм значної суми ETH. У разі підтвердження роботи зловмисник може продовжувати повторювати свою атаку, доки в нього достатньо хеш-потужності. Також дорожче здійснювати еквівалентні атаки на Ethereum із підтвердженням частки, ніж на Ethereum із підтвердженням роботи. Щоб вплинути на живучість ланцюга, потрібно щонайменше 33 % від загальної кількості ефіру в стейкінгу в мережі (за винятком випадків дуже складних атак із надзвичайно низькою ймовірністю успіху). Щоб контролювати вміст майбутніх блоків, потрібно щонайменше 51 % від загальної кількості ETH у стейкінгу, а для переписування історії — понад 66 % від загальної частки. Протокол Ethereum знищить ці активи в сценаріях атаки 33 % або 51 % і за соціальним консенсусом у сценарії атаки 66 %.

- [Докладніше про захист Ethereum із підтвердженням частки від зловмисників](/developers/docs/consensus-mechanisms/pos/attack-and-defense)
- [Докладніше про дизайн підтвердження частки](https://medium.com/@VitalikButerin/a-proof-of-stake-design-philosophy-506585978d51)

## Чи робить підтвердження частки Ethereum дешевшим? Чи впливає це оновлення на всі вузли та валідаторів Ethereum? {#does-pos-make-ethereum-cheaper}

Ні. Вартість транзакції (gas fee) визначається динамічним ринком комісій, який зростає зі збільшенням попиту в мережі. Механізм консенсусу не має прямого впливу на це.

[Докладніше про газ](/developers/docs/gas).

## Що таке вузли, клієнти й валідатори? Чи впливає це оновлення на всі вузли та валідаторів Ethereum? {#what-are-nodes-clients-and-validators}

Вузли — це комп’ютери, підключені до мережі Ethereum. Клієнти — це програмне забезпечення, яке вони запускають і яке перетворює комп’ютер на вузол. Існує два типи клієнтів: клієнти виконання (execution clients) та клієнти консенсусу (consensus clients). Обидва необхідні для створення вузла. Валідатор — це необов’язковий додаток до клієнта консенсусу, який дає змогу вузлу брати участь у консенсусі підтвердження частки. Це означає створення й пропонування блоків, коли їх вибирають, і атестацію блоків, про які вони дізнаються в мережі. Щоб запустити валідатор, оператор вузла повинен внести 32 ETH у депозитний контракт.

- [Докладніше про вузли та клієнтів](/developers/docs/nodes-and-clients)
- [Докладніше про стейкінг](/staking)

## Чи є підтвердження частки новою ідеєю? {#is-pos-new}

Ні. Користувач на BitcoinTalk [запропонував базову ідею підтвердження частки](https://bitcointalk.org/index.php?topic=27787.0) як оновлення для Bitcoin у 2011 році. Минуло одинадцять років, перш ніж його можна було впровадити в головній мережі Ethereum. Деякі інші ланцюги впровадили підтвердження частки раніше за Ethereum, але не специфічний механізм Ethereum (відомий як Gasper).

## Чим особливе підтвердження частки Ethereum? {#why-is-ethereum-pos-special}

Механізм підтвердження частки Ethereum є унікальним за своїм дизайном. Це був не перший механізм підтвердження частки, який був розроблений і впроваджений, але він є найнадійнішим. Механізм підтвердження частки відомий як "Casper". Casper визначає, як валідатори обираються для пропонування блоків, як і коли робляться атестації, як атестації підраховуються, винагороди та штрафи для валідаторів, умови слешингу, механізми захисту від збоїв, як-от витік через неактивність, та умови для "завершеності". Завершеність — це умова, за якою для того, щоб блок вважався постійною частиною канонічного ланцюга, за нього повинні проголосувати щонайменше 66 % від загальної кількості ETH у стейкінгу в мережі. Дослідники розробили Casper спеціально для Ethereum, і Ethereum є першим і єдиним блокчейном, який його впровадив.

Крім Casper, у підтвердженні частки Ethereum використовується алгоритм вибору форка під назвою LMD-GHOST. Це необхідно на випадок виникнення умови, коли для одного слота існують два блоки. Це створює два форки блокчейну. LMD-GHOST обирає той, що має найбільшу "вагу" атестацій. Вага — це кількість атестацій, зважена за ефективним балансом валідаторів. LMD-GHOST є унікальним для Ethereum.

Комбінація Casper та LMD_GHOST відома як Gasper.

[Докладніше про Gasper](/developers/docs/consensus-mechanisms/pos/gasper/)

## Що таке слешинг? {#what-is-slashing}

Слешинг — це термін, що означає знищення частини частки валідатора та виключення валідатора з мережі. Кількість ETH, втрачених унаслідок слешингу, масштабується залежно від кількості валідаторів, які зазнали слешингу. Це означає, що валідатори, які вступили в змову, караються суворіше, ніж окремі особи.

[Докладніше про слешинг](/developers/docs/consensus-mechanisms/pos/rewards-and-penalties#slashing)

## Чому валідаторам потрібно 32 ETH? {#why-32-eth}

Валідатори повинні вкладати ETH у стейкінг, щоб їм було що втрачати, якщо вони поводитимуться неправомірно. Причина, чому вони повинні вкладати в стейкінг саме 32 ETH, полягає в тому, щоб вузли могли працювати на скромному обладнанні. Якби мінімальна кількість ETH на валідатора була нижчою, то кількість валідаторів і, отже, кількість повідомлень, які необхідно обробляти в кожному слоті, збільшилася б, а це означає, що для запуску вузла знадобилося б потужніше обладнання.

## Як обираються валідатори? Чи впливає це оновлення на всі вузли та валідаторів Ethereum? {#how-are-validators-selected}

Один валідатор псевдовипадково обирається для пропонування блоку в кожному слоті за допомогою алгоритму під назвою RANDAO, який змішує хеш від автора блоку з початковим значенням, що оновлюється з кожним блоком. Це значення використовується для вибору конкретного валідатора із загального набору валідаторів. Вибір валідатора фіксується на дві епохи наперед.

[Докладніше про вибір валідатора](/developers/docs/consensus-mechanisms/pos/block-proposal)

## Що таке маніпуляція часткою? {#what-is-stake-grinding}

Маніпуляція часткою — це категорія атаки на мережі з підтвердженням частки, під час якої зловмисник намагається вплинути на алгоритм вибору валідатора на користь своїх власних валідаторів. Атаки з маніпуляцією часткою на RANDAO вимагають близько половини загальної кількості ETH у стейкінгу.

[Докладніше про маніпуляцію часткою](https://eth2book.info/altair/part2/building_blocks/randomness/#randao-biasability)

## Що таке соціальний слешинг? {#what-is-social-slashing}

Соціальний слешинг — це здатність спільноти координувати форк блокчейну у відповідь на атаку. Це дає змогу спільноті відновитися після того, як зловмисник завершив нечесний ланцюг. Соціальний слешинг також може використовуватися проти атак цензури.

- [Докладніше про соціальний слешинг](https://ercwl.medium.com/the-case-for-social-slashing-59277ff4d9c7)
- [Віталік Бутерін про соціальний слешинг](https://vitalik.eth.limo/general/2017/12/31/pos_faq.html#what-is-proof-of-stake)

## Чи зазнаю я слешингу? {#will-i-get-slashed}

Як валідатору, дуже важко зазнати слешингу, якщо ви навмисно не вдаєтеся до зловмисної поведінки. Слешинг застосовується тільки в дуже специфічних сценаріях, коли валідатори пропонують кілька блоків для одного слота або суперечать самі собі своїми атестаціями — випадкове виникнення таких ситуацій дуже малоймовірне.

[Докладніше про умови слешингу](https://eth2book.info/altair/part2/incentives/slashing)

## У чому полягає проблема «нічого на кону»? {#what-is-nothing-at-stake-problem}

Проблема «нічого на кону» — це концептуальна проблема деяких механізмів підтвердження частки, де є тільки винагороди й немає штрафів. Якщо нічого не стоїть на кону, прагматичний валідатор однаково радий атестувати будь-які або навіть кілька форків блокчейну, оскільки це збільшує його винагороди. Ethereum обходить цю проблему, використовуючи умови завершеності та слешинг для забезпечення єдиного канонічного ланцюга.

[Докладніше про проблему «нічого на кону»](https://vitalik.eth.limo/general/2017/12/31/pos_faq.html#what-is-the-nothing-at-stake-problem-and-how-can-it-be-fixed)

## Що таке алгоритм вибору форка? {#what-is-a-fork-choice-algorithm}

Алгоритм вибору форка реалізує правила, що визначають, який ланцюг є канонічним. За оптимальних умов немає потреби в правилі вибору форка, оскільки на кожен слот припадає лише один автор блоку й один блок для вибору. Однак іноді кілька блоків для одного й того ж слота або інформація, що надходить із запізненням, призводять до появи кількох варіантів організації блоків біля початку ланцюга. У цих випадках усі клієнти повинні однаково реалізовувати певні правила, щоб переконатися, що всі вони обирають правильну послідовність блоків. Алгоритм вибору форка кодує ці правила.

Алгоритм вибору форка Ethereum називається LMD-GHOST. Він обирає форк із найбільшою вагою атестацій, тобто той, за який проголосувала більшість ETH у стейкінгу.

[Докладніше про LMD-GHOST](/developers/docs/consensus-mechanisms/pos/gasper/#fork-choice)

## Що таке завершеність у підтвердженні частки? {#what-is-finality}

Завершеність у підтвердженні частки — це гарантія того, що певний блок є постійною частиною канонічного ланцюга й не може бути скасований, якщо не станеться збій консенсусу, під час якого зловмисник спалює 33 % від загальної кількості ефіру в стейкінгу. Це "криптоекономічна" завершеність, на відміну від "імовірнісної завершеності", яка характерна для блокчейнів із підтвердженням роботи. При імовірнісній завершеності немає явних завершених/незавершених станів для блоків — просто стає все менш імовірним, що блок може бути видалений з ланцюга в міру його старіння, і користувачі самі визначають, коли вони достатньо впевнені, що блок "безпечний". При криптоекономічній завершеності за пари контрольних блоків повинні проголосувати 66 % ефіру в стейкінгу. Якщо ця умова виконується, блоки між цими контрольними точками явно вважаються "завершеними".

[Докладніше про завершеність](/developers/docs/consensus-mechanisms/pos/#finality)

## Що таке "слабка суб’єктивність"? {#what-is-weak-subjectivity}

Слабка суб’єктивність — це особливість мереж із підтвердженням частки, де соціальна інформація використовується для підтвердження поточного стану блокчейну. Нові вузли або вузли, які знову приєднуються до мережі після тривалого перебування в автономному режимі, можуть отримати останній стан, щоб вузол міг негайно перевірити, чи перебуває він у правильному ланцюзі. Ці стани відомі як "контрольні точки слабкої суб’єктивності", і їх можна отримати від інших операторів вузлів поза мережею, з оглядачів блоків або з кількох загальнодоступних кінцевих точок.

[Докладніше про слабку суб’єктивність](/developers/docs/consensus-mechanisms/pos/weak-subjectivity)

## Чи є підтвердження частки стійким до цензури? {#is-pos-censorship-resistant}

Стійкість до цензури наразі важко довести. Однак, на відміну від підтвердження роботи, підтвердження частки пропонує можливість координувати слешинги для покарання валідаторів, які вдаються до цензури. У протоколі очікуються зміни, які відокремлять конструкторів блоків від авторів блоків і запровадять списки транзакцій, які конструктори повинні включати в кожен блок. Ця пропозиція відома як розділення пропонента-конструктора й допомагає запобігти цензуруванню транзакцій валідаторами.

[Докладніше про розділення пропонента-конструктора](https://notes.ethereum.org/@fradamt/H1TsYRfJc#Original-basic-scheme)

## Чи може система підтвердження частки Ethereum зазнати атаки 51 %? {#pos-51-attack}

Так. Підтвердження частки є вразливим до атак 51 %, як і підтвердження роботи. Замість того, щоб зловмиснику було потрібно 51 % хеш-потужності мережі, зловмиснику потрібен 51 % від загальної кількості ETH у стейкінгу. Зловмисник, який накопичує 51 % від загальної частки, отримує контроль над алгоритмом вибору форка. Це дає змогу зловмиснику цензурувати певні транзакції, здійснювати короткострокові реорганізації та видобувати MEV, змінюючи порядок блоків на свою користь.

[Докладніше про атаки на підтвердження частки](/developers/docs/consensus-mechanisms/pos/attack-and-defense)

## Що таке соціальна координація й чому вона потрібна? {#what-is-social-coordination}

Соціальна координація — це остання лінія захисту для Ethereum, яка дала б змогу відновити чесний ланцюг після атаки, що завершила нечесні блоки. У цьому випадку спільнота Ethereum повинна буде координуватися "поза мережею" й домовитися про використання чесного форку меншості, застосовуючи слешинг до валідаторів зловмисника в процесі. Це також вимагатиме, щоб застосунки та біржі визнали чесний форк.

[Докладніше про соціальну координацію](/developers/docs/consensus-mechanisms/pos/attack-and-defense#people-the-last-line-of-defense)

## Чи стають багаті багатшими в системі підтвердження частки? {#do-rich-get-richer}

Що більше в когось ETH для стейкінгу, то більше валідаторів він може запустити й то більше винагород може отримати. Винагороди масштабуються лінійно залежно від суми ETH у стейкінгу, і кожен отримує однаковий відсотковий дохід. Підтвердження роботи збагачує багатих більше, ніж підтвердження частки, оскільки багатші майнери, які купують обладнання в великих масштабах, отримують вигоду від ефекту масштабу, що означає, що зв’язок між багатством і винагородою є нелінійним.

## Чи є підтвердження частки більш централізованим, ніж підтвердження роботи? {#is-pos-decentralized}

Ні, підтвердження роботи схильне до централізації, оскільки витрати на майнінг зростають і витісняють з ринку приватних осіб, потім невеликі компанії тощо. Поточна проблема з підтвердженням частки — це вплив похідних інструментів ліквідного стейкінгу (LSD). Це токени, що представляють ETH у стейкінгу в якогось провайдера, які будь-хто може обміняти на вторинних ринках без фактичного виведення ETH зі стейкінгу. LSD дають змогу користувачам робити стейкінг менш ніж 32 ETH, але вони також створюють ризик централізації, коли кілька великих організацій можуть у підсумку контролювати значну частину частки. Ось чому [соло-стейкінг](/staking/solo) є найкращим варіантом для Ethereum.

[Докладніше про централізацію частки в LSD](https://notes.ethereum.org/@djrtwo/risks-of-lsd)

## Чому я можу робити стейкінг тільки ETH? Як можна конвертувати Eth після хардфорку? {#why-can-i-only-stake-eth}

ETH — це внутрішня валюта Ethereum. Важливо мати єдину валюту, у якій номіновані всі частки, як для обліку ефективних балансів для зважування голосів, так і для безпеки. ETH сам по собі є фундаментальним компонентом Ethereum, а не смарт-контрактом. Включення інших валют значно збільшило б складність і знизило б безпеку стейкінгу.

## Чи є Ethereum єдиним блокчейном із підтвердженням частки? {#is-ethereum-the-only-pos-blockchain}

Ні, існує кілька блокчейнів із підтвердженням частки. Жоден не є ідентичним Ethereum; механізм підтвердження частки Ethereum є унікальним.

## Що таке The Merge? {#what-is-the-merge}

The Merge — це момент, коли Ethereum вимкнув свій механізм консенсусу на основі підтвердження роботи та ввімкнув механізм консенсусу на основі підтвердження частки. The Merge відбулося 15 вересня 2022 року.

[Докладніше про The Merge](/roadmap/merge)

## Що таке живучість і безпека? {#what-are-liveness-and-safety}

Живучість і безпека — це дві фундаментальні проблеми безпеки блокчейну. Живучість — це доступність ланцюга, що завершується. Якщо ланцюг перестає завершуватися або користувачі не можуть легко отримати до нього доступ, це збої живучості. Надзвичайно висока вартість доступу також може вважатися збоєм живучості. Безпека означає, наскільки важко атакувати ланцюг, тобто завершити суперечливі контрольні точки.

[Докладніше в документі Casper](https://arxiv.org/pdf/1710.09437.pdf)
