---
title: "分散式驗證者技術"
description: "分散式驗證者技術使以太坊驗證者可以由多方分散式執行。"
lang: zh-tw
---

# 分散式驗證程式技術 {#distributed-validator-technology}

分散式驗證者技術 (DVT) 是一種驗證者安全保障方法，可將金鑰管理和簽名職責分散到多方，從而減少單點故障並提高驗證者的彈性。

它透過將保護驗證程式用的 **私密金鑰**，**分散到** 由多台電腦組成的「叢集」中來達成。 此方法的好處在於它讓攻擊者非常難以存取金鑰，因為金鑰並沒有完整儲存在任何一台機器上。 它還允許某些節點離線，因為必要的簽名可以由每個叢集中的一部分機器完成。 這減少了網路的單點故障，並使整個驗證者群更加可靠。

![一張示意圖，展示單一驗證程式金鑰如何分割成數個金鑰分片，並分送至具備不同元件的多個節點。](./dvt-cluster.png)

## 我們為什麼需要分散式驗證者技術？ {#why-do-we-need-dvt}

### 安全性 {#security}

驗證者生成兩對公私金鑰：驗證者金鑰用於參與共識，提款金鑰則用於存取資金。 雖然驗證者可以保護冷儲存中的提款金鑰，但驗證者金鑰必須 24 小時連網。 如果驗證者私密金鑰外洩，攻擊者可以控制驗證者，從而可能導致質押者的以太幣遭罰沒或遺失。 分散式驗證者技術可以幫助降低此風險。 詳情如下：

透過分散式驗證者技術，質押者可以參與質押，同時冷儲存驗證者私密金鑰。 這透過加密原始的完整驗證者金鑰，然後將其分割為金鑰分片來實現。 金鑰分片儲存在線上並分發給多個節點，使驗證者可以進行分散式操作。 這是可以實現的，因為以太坊驗證者使用可附加的 BLS 簽名，這意味著可以透過將其組成部分相加以重建完整金鑰。 這使質押者能夠安全地離線保存完整、原始的「主要」驗證者金鑰。

### 無單點故障 {#no-single-point-of-failure}

當驗證者分佈在多個營運商和多台機器上時，它可以承受個別硬體和軟體故障而不會離線。 透過在叢集中的節點上使用不同的硬體和軟體設定，可降低故障風險。 這種彈性不適用於單節點驗證者設定 - 它來自分散式驗證者技術層。

如果叢集中一台機器的一個元件發生故障（例如，如果驗證器叢集中有四個營運商，其中一個使用有錯誤的特定用戶端），其他營運商將確保驗證器繼續運行。

### 去中心化 {#decentralization}

以太坊的理想場景是擁有盡可能多的獨立運行驗證者。 然而，一些質押提供商已經變得非常受歡迎，並且佔網路上質押以太幣總量的很大部分。 分散式驗證者技術允許這些營運商存在，同時保持質押的去中心化。 這是因為每個驗證者的金鑰分散在許多機器上，驗證者需要更大程度的勾結才能變為惡意。

如果沒有分散式驗證者技術，對質押提供商來說，所有驗證者只支援一到二種用戶端設定很容易，但這會增大用戶端錯誤的影響。 分散式驗證者技術可用於在多種用戶端設定和不同硬體之間分散風險，通過多樣性創造彈性。

**DVT 為以太坊提供下列好處：**

1. **以太坊權益證明共識的去中心化**
2. 確保網路的 **活躍性**
3. 建立驗證程式的 **容錯能力**
4. **信任最小化**的驗證程式操作
5. **將罰沒**與停機時間風險**降至最低**
6. **提高多樣性** (用戶端、資料中心、地點、法規等)
7. **強化**驗證程式金鑰管理的**安全性**

## 分散式驗證者技術如何運作？ {#how-does-dvt-work}

分散式驗證者技術解決方案包含以下組成部分：

- **[沙米爾秘密分享](https://medium.com/@keylesstech/a-beginners-guide-to-shamir-s-secret-sharing-e864efbf3648)** - 驗證程式使用 [BLS 金鑰](https://en.wikipedia.org/wiki/BLS_digital_signature)。 各 BLS「金鑰分片」（「金鑰分片」）可以組合成一個聚合金鑰（簽名）。 在分散式驗證者技術中，驗證者的私密金鑰是叢集中每個營運商的組合 BLS 簽名。
- **[閾值簽章方案](https://medium.com/nethermind-eth/threshold-signature-schemes-36f40bc42aca)** - 決定簽署職責所需的個別金鑰分片數量，例如 4 個裡要有 3 個。
- **[分散式金鑰產生 (DKG)](https://medium.com/toruslabs/what-distributed-key-generation-is-866adc79620)** - 一種產生金鑰分片的密碼學程序，用於將現有或新的驗證程式金鑰分片分送給叢集中的節點。
- **[多方計算 (MPC)](https://messari.io/report/applying-multiparty-computation-to-the-world-of-blockchains)** - 完整的驗證程式金鑰是使用多方計算以秘密方式產生的。 任何單獨營運商都不知道完整的金鑰—他們只知道自己的部分（他們的「分片」）。
- **共識協定** - 共識協定會選出一個節點作為區塊提交者。 它們與叢集中的其他節點共享該區塊，這些節點將其金鑰分片加入聚合簽名中。 聚合了足夠的金鑰分片後，就將該區塊提交至以太坊。

分散式驗證者有內建的容錯機制，即使某些單獨節點離線，仍能持續運行。 這表示即使叢集中某些節點為惡意或怠惰，叢集也具有彈性。

## DVT 使用案例 {#dvt-use-cases}

分散式驗證者技術對廣大的質押產業有重大影響：

### 個人質押者 {#solo-stakers}

藉由分散你的驗證者金鑰至各遠端節點，同時使完整金鑰保持完全離線，分散式驗證者技術也能實現非託管式質押。 這表示居家質押者並不需要額外硬體支出，而分散金鑰分片可以強化他們對抗潛在安全攻擊的能力。

### 質押即服務 (SaaS) {#saas}

管理許多驗證者的營運商（如質押池及機構質押者）可使用分散式驗證者技術降低風險。 藉由分散基礎設施，營運商可以對營運增加冗餘，並提高所用硬體類型的多樣性。

分散式驗證者技術將金鑰管理責任分散至多個節點，這也表示部分營運成本可被分攤。 分散式驗證者技術還可以降低質押提供者的操作風險及保險成本。

### 質押池 {#staking-pools}

對於標準驗證者設置，質押池與流動性質押提供者被迫對單一營運商採取不同的信任等級，因為整個質押池中的盈虧採用社會化分配。 他們還依賴營運商保護簽名金鑰，因為到目前為止，他們沒有其他選擇。

儘管一般會盡力將質押分散到多個營運商以降低風險，每位營運商仍管理很大一部分質押。 依賴單一營運商可能會造成重大風險，如：表現不佳、停機、受到入侵或惡意行為。

藉由分散式驗證者技術，顯著降低了需要對營運商應有的信任。 **質押池能讓營運商持有質押，而無需保管驗證程式金鑰** (因為只會用到金鑰分片)。 分散式驗證者技術還允許將質押分散至更多營運商（例如：讓這些驗證者由多位營運商共同運行，而不是讓單個營運商管理 1000 個驗證者）。 多樣的營運商設置可確保當一個營運商故障時，其他營運商仍可驗證交易。 這提高了冗余和多樣性，從而提升了性能和彈性，同時最大限度地提高了酬勞。

最小化單一營運信任的另一個好處是，質押池可以促進更開放的營運商參與，且無需許可。 如此一來，服務商可以使用精選且無需許可的營運商（例如，將家庭質押者或更多小型質押者與大型質押者配對）來降低其風險，並支援以太坊的去中心化。

## 使用 DVT 的潛在缺點 {#potential-drawbacks-of-using-dvt}

- **額外元件** - 導入 DVT 節點會增加一個可能發生故障或存在漏洞的額外部分。 要緩解此問題，一種方法是爭取實現多個分散式驗證者技術節點，也就是多個分散式驗證者技術用戶端（類似於共識層和執行層有多個用戶端的情況）。
- **營運成本** - 由於 DVT 將驗證程式分散給多方，因此需要更多節點來運作，而非僅需單一節點，這也增加了營運成本。
- **可能增加延遲** - 由於 DVT 利用共識協定，在操作單一驗證程式的多個節點間達成共識，因此可能會導致延遲增加。

## 延伸閱讀 {#further-reading}

- [以太坊分散式驗證程式規格 (高階)](https://github.com/ethereum/distributed-validator-specs)
- [以太坊分散式驗證程式技術規格](https://github.com/ethereum/distributed-validator-specs/tree/dev/src/dvspec)
- [沙米爾秘密分享示範應用程式](https://iancoleman.io/shamir/)
