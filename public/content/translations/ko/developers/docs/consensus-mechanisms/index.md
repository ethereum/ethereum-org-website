---
title: 합의 메커니즘
description: 분산 시스템에서 합의 프로토콜에 대한 설명과 이더리움에서의 역할.
lang: ko
---

'합의 메커니즘'이라는 용어는 일반적으로 '지분 증명', '작업 증명' 또는 '권위 증명' 프로토콜을 지칭할 때 사용됩니다. 하지만 이는 [시빌 공격](/glossary/#sybil-attack)으로부터 보호하는 합의 메커니즘의 구성 요소일 뿐입니다. 합의 메커니즘은 분산된 노드들이 블록체인의 상태에 동의할 수 있게 해주는 아이디어, 프로토콜 및 인센티브의 전체 스택입니다.

## 필수 구성 요소 {#prerequisites}

이 페이지를 더 잘 이해하려면 먼저 [이더리움 소개](/developers/docs/intro-to-ethereum/)를 읽어보시는 것을 추천합니다.

## 합의란 무엇인가요? {#what-is-consensus}

합의를 통해 기본적인 동의가 완료됩니다. 영화관에 가려고 하는 사람들을 사람들을 생각해 봅시다. 같이 보려고 하는 영화에 대해 누구도 거부하지 않는다면 합의가 이루어진 것입니다. 누군가가 거부한다면 사람들은 어떤 영화를 볼 지 정해야 합니다. 심한 경우에는 결국 사람들이 나뉠 수 있습니다.

이더리움 블록체인에서 이 프로세스는 정형화되어 있으며, 합의에 도달한다는 것은 네트워크 노드의 66% 이상이 네트워크의 글로벌 상태에 동의한다는 것을 의미합니다.

## 합의 메커니즘이란 무엇인가요? 합의 메커니즘이란? {#what-is-a-consensus-mechanism}

합의 메커니즘은 노드 네트워크가 블록체인의 상태에 동의할 수 있도록 하는 모든 프로토콜, 인센티브 및 아이디어의 집합체입니다.

이더리움은 지분 증명 기반의 합의 메커니즘을 사용하여 스테이커가 잠근 자본에 적용된 일련의 보상 및 불이익을 통해 암호화폐 경제의 보안을 유지합니다. 이러한 인센티브 구조를 통해 개인 스테이커는 검증자를 정직하게 운영하도록 하고, 그러지 않는 사람에게 불이익을 가하며, 네트워크 공격에 필요한 가격을 극도로 높입니다.

또한, 정직한 검증자가 블록을 제안하거나 검증하도록 선택되는 프로토콜이 있습니다. 드문 상황에서 여러 블록이 체인의 맨 앞에 있는 경우, 포크 선택 메커니즘이 검증자가 지분한 이더 잔액에 따라 블록을 선택합니다.

코드로 명시적으로 정의되지 않은 추가 보안 개념은 네트워크 공격에 대한 마지막 방어 수단으로 작동할 수 있습니다.

이러한 구성 요소들이 합쳐져 합의 메커니즘을 형성합니다.

## 합의 메커니즘의 유형 {#types-of-consensus-mechanisms}

### 작업 증명 기반 {#proof-of-work}

비트코인처럼 이더리움은 한때 **작업 증명(PoW)** 기반 합의 프로토콜을 사용했습니다.

#### 블록 생성 {#pow-block-creation}

채굴자들이 처리된 트랜잭션으로 가득 찬 새 블록을 만들기 위해 경쟁합니다. 승자는 새 블록을 네트워크에 공유하고 새로 발행된 ETH를 얻습니다. 수학 문제를 가장 빠르게 푸는 컴퓨터가 경주에서 이깁니다. 이 과정이 현재 블록과 이전 블록 간의 암호학적 연결을 만듭니다. 이 퍼즐을 푸는 것이 작업 증명에서의 '작업'입니다. 정통 체인은 채굴된 블록에 가장 많은 작업이 들어간 블록 세트를 선택하는 포크 선택 규칙에 의해 결정됩니다.

#### 보안 {#pow-security}

네트워크는 체인을 속이려면 네트워크의 51% 컴퓨팅 파워가 필요하기 때문에 안전하게 유지됩니다. 이 정도의 장비와 에너지를 투자하면 얻는 것보다 더 많은 돈을 쓸 가능성이 큽니다.

[작업 증명](/developers/docs/consensus-mechanisms/pow/)에 대한 자세한 정보

### 지분 증명 기반 {#proof-of-stake}

현재 이더리움은 **지분 증명(PoS)** 기반 합의 프로토콜을 사용합니다.

#### 블록 생성 {#pos-block-creation}

검증자가 블록을 생성합니다. 각 슬롯에서 무작위로 선택된 한 명의 검증자가 블록 제안자가 됩니다. 그들의 합의 클라이언트는 쌍을 이루는 실행 클라이언트에서 '실행 페이로드'로 트랜잭션 번들을 요청합니다. 검증자는 이를 합의 데이터로 감싸 블록을 생성하고, 이를 이더리움 네트워크의 다른 노드에 보냅니다. 이 블록 생성은 ETH로 보상받습니다. 드문 경우지만 여러 가능한 블록이 존재할 경우, 포크 선택 알고리즘은 가장 많은 검증자의 지지를 받은 블록을 선택합니다.

#### 보안 {#pos-security}

지분 증명 시스템은 경제적으로 안전합니다. 공격자가 체인을 장악하려면 막대한 양의 ETH를 잃어야 하기 때문입니다. 보상 시스템은 개별 스테이커가 정직하게 행동하도록 인센티브를 제공하며, 처벌은 악의적 행동을 억제합니다.

[지분 증명](/developers/docs/consensus-mechanisms/pos/)에 대한 자세한 정보

### 시각적 가이드 {#types-of-consensus-video}

이더리움에서 사용되는 다양한 합의 메커니즘에 대해 자세히 알아보세요.

<YouTube id="ojxfbN78WFQ" />

### 시빌 저항 및 체인 선택 {#sybil-chain}

작업 증명과 지분 증명은 실제로는 합의 프로토콜이 아니지만, 간단하게 설명하기 위해 종종 그렇게 불립니다. 사실, 이들은 시빌 저항 메커니즘이자 블록 작성자를 선택하는 방법입니다. 체인 선택(또는 포크 선택) 알고리즘은 여러 블록이 동일한 위치에 있을 때 한 블록을 선택하는 데 사용됩니다.

**시빌 저항성**은 프로토콜이 시빌 공격에 얼마나 잘 대처하는지를 측정합니다. 탈중앙화된 블록체인의 핵심인 시빌 저항은 채굴자와 검증자가 자원 투입에 따라 공정하게 보상받도록 합니다. 작업 증명과 지분 증명은 사용자가 많은 에너지를 소비하거나 많은 담보를 걸도록 하여 시빌 공격을 방어합니다. 이러한 보호 장치는 시빌 공격에 대한 경제적 억제책입니다.

**체인 선택 규칙**은 어떤 체인이 "올바른" 체인인지 결정하는 데 사용됩니다. 비트코인은 "가장 긴 체인" 규칙을 사용합니다. 즉, 가장 긴 블록체인이 나머지 노드가 유효하다고 인식하고 작업할 블록체인입니다. 작업증명 체인에서는 체인의 총 누적 작업증명 난이도로 가장 긴 체인이 결정됩니다. 이전에는 이더리움도 가장 긴 체인 규칙을 사용했으나, 현재 이더리움은 작업증명에서 지분증명으로 전환되어 '체인의 무게'를 측정하는 업데이트된 포크 선택 알고리즘을 채택했습니다. 이 무게는 검증자의 지분-이더리움 잔액에 의해 가중된 검증자 투표의 누적 합계입니다.

이더리움은 [Casper FFG 지분 증명](https://arxiv.org/abs/1710.09437)과 [GHOST 포크 선택 규칙](https://arxiv.org/abs/2003.03052)을 결합한 [Gasper](/developers/docs/consensus-mechanisms/pos/gasper/)라는 합의 메커니즘을 사용합니다.

## 더 읽어보기 {#further-reading}

- [블록체인 합의 알고리즘이란?](https://academy.binance.com/en/articles/what-is-a-blockchain-consensus-algorithm)
- [나카모토 합의란 무엇인가요? 완전 초보자 가이드](https://blockonomi.com/nakamoto-consensus/)
- [Casper는 어떻게 작동하는가?](https://medium.com/unitychain/intro-to-casper-ffg-9ed944d98b2d)
- [작업 증명 블록체인의 보안 및 성능에 관하여](https://eprint.iacr.org/2016/555.pdf)
- [비잔틴 장애](https://en.wikipedia.org/wiki/Byzantine_fault)

_도움이 되었던 커뮤니티 참고 자료를 알고 계신가요? 이 페이지를 편집해서 추가하세요!_

## 관련 주제 {#related-topics}

- [작업 증명](/developers/docs/consensus-mechanisms/pow/)
- [채굴](/developers/docs/consensus-mechanisms/pow/mining/)
- [지분 증명](/developers/docs/consensus-mechanisms/pos/)
- [권위 증명](/developers/docs/consensus-mechanisms/poa/)
