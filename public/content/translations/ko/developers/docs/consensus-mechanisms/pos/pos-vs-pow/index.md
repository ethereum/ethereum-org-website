---
title: "지분 증명(Proof-of-stake) vs 작업 증명(Proof-of-work)"
description: "이더리움의 지분 증명(proof-of-stake)과 작업 증명(proof-of-work) 기반 합의 메커니즘(consensus mechanism) 비교"
lang: ko
---

이더리움이 출시되었을 당시, 지분 증명은 이더리움의 보안을 신뢰할 수 있을 만큼 충분한 연구와 개발이 필요한 상태였습니다. 작업 증명은 비트코인을 통해 이미 검증된 더 단순한 메커니즘이었기 때문에, 핵심 개발자들이 이더리움 출시를 위해 즉시 구현할 수 있었습니다. 지분 증명이 구현될 수 있는 수준까지 개발하는 데에는 8년이 더 걸렸습니다.

이 페이지는 이더리움이 작업 증명에서 지분 증명으로 전환한 이유와 그에 따른 장단점을 설명합니다.

## 보안 {#security}

이더리움 연구원들은 지분 증명이 작업 증명보다 더 안전하다고 생각합니다. 하지만 실제 이더리움 메인넷에 최근에야 구현되었기 때문에, 작업 증명에 비해 시간의 검증을 덜 받았습니다. 다음 섹션에서는 지분 증명과 작업 증명의 보안 모델을 비교하여 장단점을 설명합니다.

### 공격 비용 {#cost-to-attack}

지분 증명에서 검증자들은 스마트 계약에 최소 32 ETH를 예치("스테이킹")해야 합니다. 이더리움은 부정행위를 하는 검증자들을 처벌하기 위해 스테이킹된 이더를 소각할 수 있습니다. 합의에 도달하기 위해서는 전체 스테이킹된 이더 중 최소 66%가 특정 블록 세트에 찬성해야 합니다. 지분의 66% 이상이 투표한 블록은 "최종 승인"되며, 이는 제거되거나 재구성될 수 없음을 의미합니다.

네트워크 공격은 체인이 확정되는 것을 막거나, 공격자에게 이득이 되는 방식으로 정규 체인의 블록을 특정하게 구성하도록 하는 것을 의미할 수 있습니다. 이러한 공격을 하기 위해서는 공격자가 두 가지 방법 중 하나를 선택해야 합니다. 대량의 이더를 모아서 직접 투표하거나, 정직한 검증자들을 속여서 원하는 방향으로 투표하도록 만들어야 합니다. 정직한 검증자를 속이는 방식의 공격은 매우 복잡하고 성공하기 어렵습니다. 따라서 이더리움을 공격하기 위한 실질적인 비용은, 합의 과정에 영향을 미칠 만큼의 충분한 스테이크를 확보하는 데 필요한 비용이라고 볼 수 있습니다.

가장 낮은 공격 비용은 전체 지분의 33%를 초과합니다. 전체 지분의 33%를 초과하여 보유한 공격자는 오프라인 상태가 되는 것만으로도 최종 승인 지연을 유발할 수 있습니다. 하지만 이는 네트워크에 큰 문제가 되지 않습니다. "비활성 누수(inactivity leak)"라는 보호 장치가 있기 때문입니다. 이 메커니즘은 오프라인 상태인 검증자들의 스테이크를 자동으로 줄여나갑니다. 이러한 감소는 온라인 상태를 유지하는 검증자들의 비중이 전체 스테이크의 66%가 되어 체인을 다시 확정할 수 있을 때까지 계속됩니다. 또한 이론적으로는, 전체 스테이크의 33%를 조금 넘게 보유한 공격자가 이중 투표 일으킬 수도 있습니다. 블록 생성자로 선택되었을 때 하나가 아닌 두 개의 블록을 생성하고, 자신이 가진 모든 검증자로 두 번 투표하는 방식입니다. 공격자가 만든 두 개의 블록은 각각 남아있는 정직한 검증자 중 50%가 해당 체인을 먼저 보기만 하면 유효해질 수 있습니다. 따라서 공격자가 메시지 전송 시점을 정확하게 조절할 수 있다면, 두 개의 다른 블록이 모두 최종 승인될 수 있습니다. 이런 방식의 공격은 성공하기가 매우 어렵습니다. 만약 공격자가 두 개의 블록을 모두 최종 승인하는 데 성공하더라도, 이더리움 커뮤니티는 결국 하나의 블만을 선택할 것입니다. 이때 공격자의 검증자들은 선택받지 않은 체인에서 자동으로 처벌을 받게 되어 스테이크를 잃게 됩니다.

전체 지분의 33%를 초과하여 보유한 공격자는 이더리움 네트워크에 경미한(최종 승인 지연) 또는 더 심각한(이중 최종 승인) 영향을 미칠 수 있습니다. 네트워크에 14,000,000 ETH 이상이 스테이킹되어 있고 대표적인 가격이 $1000/ETH라고 가정할 때, 이러한 공격을 감행하는 데 드는 최소 비용은 `1000 x 14,000,000 x 0.33 = $4,620,000,000`입니다. 공격자는 처벌을 통해 이 금액을 잃게 되며 네트워크에서 퇴출됩니다. 다시 공격하려면 전체 지분의 33%를 초과하여 (다시) 축적하고 (다시) 소각해야 합니다. 네트워크를 공격하려는 각 시도는 46억 달러를 초과하는 비용이 듭니다($1000/ETH 및 1,400만 ETH 스테이킹 기준). 공격자는 처벌(슬래싱)을 받으면 네트워크에서 퇴출되며, 다시 참여하기 위해서는 활성화 대기열에 합류해야 합니다. 이는 반복 공격의 속도가 공격자가 전체 지분의 33%를 초과하여 축적하는 속도뿐만 아니라 모든 검증자를 네트워크에 온보딩하는 데 걸리는 시간에도 제한된다는 것을 의미합니다. 공격자가 공격을 시도할 때마다 발생하는 공급 충격으로 인해, 공격자는 점점 더 가난해지고 나머지 커뮤니티는 더 부유해집니다.

51% 공격이나 전체 스테이크의 66%를 사용한 최종 승인 번복과 같은 다른 공격들은 훨씬 더 많은 ETH가 필요하며, 공격자에게 더 큰 비용이 듭니다.

이를 작업 증명과 비교해보겠습니다. 작업 증명 이더리움에 대한 공격을 시작하는 비용은 전체 네트워크 해시율의 50%를 초과하여 지속적으로 소유하는 비용이었습니다. 이는 다른 채굴자들과 경쟁하여 작업 증명 솔루션을 지속적으로 계산할 수 있을 만큼 충분한 컴퓨팅 파워를 위한 하드웨어 구매 비용과 운영 비용을 의미했습니다. 이더리움은 ASIC 대신 주로 GPU로 채굴되었기 때문에 비용이 낮게 유지되었습니다(만약 이더리움이 작업 증명을 계속 사용했다면 ASIC 채굴이 더 보편화되었을 수 있습니다). 공격자는 작업 증명 이더리움 네트워크를 공격하기 위해 많은 하드웨어를 구매하고 전기 요금을 지불해야 했겠지만, 총 비용은 공격에 필요한 충분한 ETH를 확보하는 데 드는 비용보다는 적었을 것입니다. 51% 공격은 지분 증명보다 작업 증명에서 ~[20배 저렴](https://youtu.be/1m12zgJ42dI?t=1562)합니다. 만약 공격이 발견되어 체인이 하드포크를 통해 공격자의 변경사항을 제거하더라도, 공격자는 동일한 하드웨어를 사용하여 새로운 블록을 반복적으로 공격할 수 있었을 것입니다.

### 복잡성 {#complexity}

지분 증명은 작업 증명보다 훨씬 더 복잡합니다. 이는 더 단순한 프로토콜에서는 버그나 의도하지 않은 영향을 실수로 발생시킬 가능성이 낮기 때문에, 작업 증명에 유리한 점이 될 수 있습니다. 하지만 이러한 복잡성은 수년간의 연구 개발, 시뮬레이션, 테스트넷 구현을 통해 통제되어 왔습니다. 지분 증명 프로토콜은 5개의 서로 다른 팀이 각각 다른 프로그래밍 언어를 사용하여 실행 계층과 합의 계층을 독립적으로 개발했습니다. 이렇게 여러 팀이 다양한 방식으로 개발했기 때문에 한 클라이언트에서 버그가 발생하더라도 전체 시스템은 안전하게 유지될 수 있습니다.

지분 증명 합의 로직을 안전하게 개발하고 테스트하기 위해, 비콘 체인은 이더리움 메인넷에 지분 증명이 구현되기 2년 전에 출시되었습니다. 비콘 체인은 지분 증명을 안전하게 테스트할 수 있는 격리된 시험 환경 역할(sandbox)을 했습니다. 실제 이더리움 거래는 처리하지 않으면서도 지분 증명 방식으로 작동하는 독립된 블록체인이었고, 이를 통해 새로운 합의 방식을 검증할 수 있었습니다. 이것이 충분한 시간 동안 안정적이고 버그 없이 운영된 후, 비콘 체인은 이더리움 메인넷과 '병합'되었습니다. 이 모든 과정은 지분 증명의 복잡성을 통제하는 데 기여했고, 그 결과 의도하지 않은 결과나 클라이언트 버그의 위험이 매우 낮아졌습니다.

### 공격 표면 {#attack-surface}

지분 증명은 작업 증명보다 더 복잡하기 때문에, 대비해야 할 잠재적인 공격 방법도 더 많습니다. 클라이언트를 연결하는 하나의 P2P 네트워크 대신, 각각 다른 프로토콜을 구현하는 두 개의 네트워크가 있습니다. 각 슬롯마다 블록을 제안할 특정 검증자가 미리 선택되는 방식은 서비스 거부 공격의 가능성을 만듭니다. 즉, 대량의 네트워크 트래픽으로 해당 검증자를 오프라인 상태로 만들 수 있습니다.

또한 공격자들은 자신들의 블록이나 증명을 정직한 네트워크의 특정 비율에 도달하도록 시간을 교묘하게 조절하여, 네트워크가 특정 방식으로 투표하도록 영향을 미칠 수 있습니다. 마지막으로, 공격자는 단순히 충분한 ETH를 모아서 스테이킹함으로써 합의 메커니즘을 장악할 수 있습니다. 이러한 각 [공격 벡터에는 관련 방어책이 있지만](/developers/docs/consensus-mechanisms/pos/attack-and-defense), 작업 증명에서는 방어해야 할 필요가 없는 것들입니다.

## 탈중앙화 {#decentralization}

채굴 하드웨어 확보를 위한 경쟁으로 인해 비용이 높아져서 개인과 소규모 조직이 참여하기 어렵기 때문에, 지분 증명은 작업 증명보다 더 탈중앙화되어 있습니다. 기술적으로는 누구나 적당한 하드웨어로 채굴을 시작할 수 있지만, 대규모 채굴 기업들에 비해 보상을 받을 가능성은 극히 낮습니다 지분 증명에서는 스테이킹 비용과 그에 대한 수익률이 모든 사람에게 동일합니다. 현재 검증자가 되어서 운영하는데는 32 ETH가 필요합니다.

반면, 유동적 스테이킹 파생상품의 등장으로 일부 대형 제공업체들이 대량의 스테이킹된 ETH를 관리하게 되면서 중앙화에 대한 우려가 생겼습니다. 이는 문제가 되며 최대한 빨리 해결되어야 하지만, 실제로는 더 복잡한 문제입니다. 중앙화된 스테이킹 제공업체가 반드시 검증자에 대한 중앙화된 통제권을 가지는 것은 아닙니다. 이는 종종 각각 32 ETH가 없는 참여자들도 독립적인 노드 운영자로 스테이킹할 수 있도록 ETH를 한곳에 모으는 방법일 뿐입니다.

이더리움에게 가장 좋은 선택은 검증자들이 가정용 컴퓨터에서 로컬로 운영되어 탈중앙화를 극대화하는 것입니다. 이것이 이더리움이 노드/검증자 운영에 필요한 하드웨어 요구사항을 높이는 변경을 거부하는 이유입니다.

## 지속 가능성 {#sustainability}

지분 증명은 블록체인을 탄소 배출이 적은 방식으로 보호합니다. 작업 증명에서는 채굴자들이 블록을 채굴할 권리를 두고 경쟁합니다. 채굴자들은 계산을 더 빠르게 수행할수록 더 성공적이기 때문에, 하드웨어와 에너지 소비에 투자하게 됩니다. 이는 이더리움이 지분 증명으로 전환하기 전에보여진 현상입니다. 지분 증명으로 전환하기 직전, 이더리움은 약 78 TWh/yr(작은 국가와 맞먹는 수준)의 전력을 소비했습니다. 하지만 지분 증명으로 전환하면서 이 에너지 소비량이 약 99.98% 감소했습니다. 지분 증명은 이더리움을 에너지 효율적이고 탄소 배출이 적은 플랫폼으로 만들었습니다.

[이더리움의 에너지 소비량에 대해 자세히 알아보기](/energy-consumption)

## 발행 {#issuance}

지분 증명 이더리움에서는 검증자들이 높은 전기 비용을 지불할 필요가 없기 때문에, 작업 증명 이더리움보다 훨씬 적은 코인을 발행하면서도 보안을 유지할 수 있습니다. 과적으로, 대량의 ETH가 소각될 때 ETH의 인플레이션율을 낮추거나 심지어 디플레이션이 될 수도 있습니다. 낮은 인플레이션율은 이더리움의 보안 비용이 작업 증명 때보다 더 저렴해졌다는 것을 의미합니다.

## 시각 자료를 찾고 있나요? 시각적 학습자

Justin Drake가 설명하는 작업 증명 대비 지분 증명의 장점 보기

<YouTube id="1m12zgJ42dI" />

## 더 읽어보기 {#further-reading}

- [Vitalik의 지분 증명 설계 철학](https://medium.com/@VitalikButerin/a-proof-of-stake-design-philosophy-506585978d51)
- [Vitalik의 지분 증명 FAQ](https://vitalik.eth.limo/general/2017/12/31/pos_faq.html#what-is-proof-of-stake)
- [지분 증명 대 작업 증명에 대한 "Simply Explained" 영상](https://www.youtube.com/watch?v=M3EFi_POhps)
