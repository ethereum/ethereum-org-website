---
title: "నెట్‌వర్కింగ్ లేయర్"
description: "Ethereum నెట్‌వర్క్ లేయర్‌కు పరిచయం."
lang: te
sidebarDepth: 2
---

Ethereum అనేది వేలకొద్దీ నోడ్‌లతో కూడిన పీర్-టు-పీర్ నెట్‌వర్క్, ఇది ప్రామాణిక ప్రోటోకాల్‌లను ఉపయోగించి ఒకదానితో ఒకటి కమ్యూనికేట్ చేయగలగాలి. "నెట్‌వర్కింగ్ లేయర్" అనేది ఆ నోడ్‌లు ఒకదానికొకటి కనుగొనడానికి మరియు సమాచారాన్ని మార్పిడి చేసుకోవడానికి అనుమతించే ప్రోటోకాల్‌ల స్టాక్. ఇందులో నెట్‌వర్క్‌లో "గాసిపింగ్" సమాచారం (ఒకటి నుండి చాలా వరకు కమ్యూనికేషన్) అలాగే నిర్దిష్ట నోడ్‌ల మధ్య అభ్యర్థనలు మరియు ప్రతిస్పందనలను మార్చుకోవడం (వన్-టు-వన్ కమ్యూనికేషన్) ఉంటుంది. ప్రతి నోడ్ వారు సరైన సమాచారాన్ని పంపుతున్నారని మరియు స్వీకరిస్తున్నారని నిర్ధారించుకోవడానికి నిర్దిష్ట నెట్‌వర్కింగ్ నియమాలకు కట్టుబడి ఉండాలి.

క్లయింట్ సాఫ్ట్‌వేర్‌లో రెండు భాగాలు ఉన్నాయి (ఎగ్జిక్యూషన్ క్లయింట్‌లు మరియు ఏకాభిప్రాయ క్లయింట్లు), ఒక్కొక్కటి దాని స్వంత ప్రత్యేక నెట్‌వర్కింగ్ స్టాక్‌తో ఉంటాయి. ఇతర Ethereum నోడ్‌లతో కమ్యూనికేట్ చేయడంతోపాటు, ఎగ్జిక్యూషన్ మరియు ఏకాభిప్రాయ క్లయింట్లు ఒకరితో ఒకరు కమ్యూనికేట్ చేసుకోవాలి. ఈ పేజీ ఈ కమ్యూనికేషన్‌ను ప్రారంభించే ప్రోటోకాల్‌ల పరిచయ వివరణను అందిస్తుంది.

ఎగ్జిక్యూషన్ క్లయింట్‌లు ఎగ్జిక్యూషన్-లేయర్ పీర్-టు-పీర్ నెట్‌వర్క్‌లో లావాదేవీలను గాసిప్ చేస్తారు. దీనికి ప్రామాణీకరించబడిన సహచరుల మధ్య ఎన్‌క్రిప్టెడ్ కమ్యూనికేషన్ అవసరం. బ్లాక్‌ను ప్రతిపాదించడానికి వాలిడేటర్‌ను ఎంచుకున్నప్పుడు, నోడ్ యొక్క స్థానిక లావాదేవీల పూల్ నుండి లావాదేవీలు స్థానిక RPC కనెక్షన్ ద్వారా ఏకాభిప్రాయ క్లయింట్‌లకు పంపబడతాయి, ఇది బీకాన్ బ్లాక్‌లలోకి ప్యాక్ చేయబడుతుంది. ఏకాభిప్రాయ క్లయింట్లు వారి p2p నెట్‌వర్క్‌లో బీకాన్ బ్లాక్‌లను గాసిప్ చేస్తారు. దీనికి రెండు వేర్వేరు p2p నెట్‌వర్క్‌లు అవసరం: ఒకటి లావాదేవీ గాసిప్ కోసం ఎగ్జిక్యూషన్ క్లయింట్‌లను కనెక్ట్ చేస్తుంది మరియు బ్లాక్ గాసిప్ కోసం ఏకాభిప్రాయ క్లయింట్‌లను కనెక్ట్ చేస్తుంది.

## అవసరాలు {#prerequisites}

ఈ పేజీని అర్థం చేసుకోవడానికి Ethereum [నోడ్‌లు మరియు క్లయింట్‌లు](/developers/docs/nodes-and-clients/) గురించి కొంత పరిజ్ఞానం సహాయకరంగా ఉంటుంది.

## ఎగ్జిక్యూషన్ లేయర్ {#execution-layer}

ఎగ్జిక్యూషన్ లేయర్ యొక్క నెట్‌వర్కింగ్ ప్రోటోకాల్‌లు రెండు స్టాక్‌లుగా విభజించబడ్డాయి:

- డిస్కవరీ స్టాక్: UDP పైన నిర్మించబడింది మరియు కనెక్ట్ చేయడానికి పీర్‌లను కనుగొనడానికి కొత్త నోడ్‌ని అనుమతిస్తుంది

- devP2P స్టాక్: TCP పైన కూర్చుని సమాచారాన్ని మార్పిడి చేసుకోవడానికి నోడ్‌లను ప్రారంభిస్తుంది

రెండు స్టాక్‌లు సమాంతరంగా పనిచేస్తాయి. డిస్కవరీ స్టాక్ కొత్త నెట్‌వర్క్ పార్టిసిపెంట్‌లను నెట్‌వర్క్‌లోకి ఫీడ్ చేస్తుంది మరియు DevP2P స్టాక్ వారి పరస్పర చర్యలను ప్రారంభిస్తుంది.

### ఆవిష్కరణ {#discovery}

డిస్కవరీ అనేది నెట్‌వర్క్‌లోని ఇతర నోడ్‌లను కనుగొనే ప్రక్రియ. ఇది చిన్న బూట్‌నోడ్‌ల సెట్‌ను ఉపయోగించి బూట్‌స్ట్రాప్ చేయబడింది (నోడ్‌ల చిరునామాలు క్లయింట్‌లో [హార్డ్‌కోడ్](https://github.com/ethereum/go-ethereum/blob/master/params/bootnodes.go) చేయబడతాయి, తద్వారా వాటిని వెంటనే కనుగొని క్లయింట్‌ను పీర్‌లకు కనెక్ట్ చేయవచ్చు). ఈ బూట్‌నోడ్‌లు పీర్‌ల సెట్‌కి కొత్త నోడ్‌ని పరిచయం చేయడానికి మాత్రమే ఉన్నాయి - ఇది వారి ఏకైక ఉద్దేశ్యం, గొలుసును సమకాలీకరించడం వంటి సాధారణ క్లయింట్ టాస్క్‌లలో వారు పాల్గొనరు మరియు క్లయింట్ స్ప్న్ అప్ అయినప్పుడు మాత్రమే అవి ఉపయోగించబడతాయి.

నోడ్-బూట్‌నోడ్ ఇంటరాక్షన్‌ల కోసం ఉపయోగించే ప్రోటోకాల్ [Kademlia](https://medium.com/coinmonks/a-brief-overview-of-kademlia-and-its-use-in-various-decentralized-platforms-da08a7f72b8f) యొక్క సవరించిన రూపం, ఇది నోడ్‌ల జాబితాలను పంచుకోవడానికి [పంపిణీ చేయబడిన హాష్ టేబుల్](https://en.wikipedia.org/wiki/Distributed_hash_table)ను ఉపయోగిస్తుంది. ప్రతి నోడ్ దాని సన్నిహిత సహచరులకు కనెక్ట్ చేయడానికి అవసరమైన సమాచారాన్ని కలిగి ఉన్న ఈ పట్టిక యొక్క సంస్కరణను కలిగి ఉంటుంది. ఈ 'సమీపత' భౌగోళికమైనది కాదు - నోడ్ యొక్క ID యొక్క సారూప్యత ద్వారా దూరం నిర్వచించబడుతుంది. ప్రతి నోడ్ యొక్క పట్టిక భద్రతా లక్షణంగా క్రమం తప్పకుండా రిఫ్రెష్ చేయబడుతుంది. ఉదాహరణకు, [Discv5](https://github.com/ethereum/devp2p/tree/master/discv5)లో, డిస్కవరీ ప్రోటోకాల్ నోడ్‌లు క్లయింట్ మద్దతిచ్చే సబ్‌ప్రోటోకాల్‌లను ప్రదర్శించే 'ప్రకటనలను' కూడా పంపగలవు, పీర్‌లు కమ్యూనికేట్ చేయడానికి ఇద్దరూ ఉపయోగించగల ప్రోటోకాల్‌ల గురించి చర్చలు జరపడానికి వీలు కల్పిస్తుంది.

డిస్కవరీ పింగ్-పాంగ్ గేమ్‌తో ప్రారంభమవుతుంది. విజయవంతమైన పింగ్-పాంగ్ కొత్త నోడ్‌ను బూట్‌నోడ్‌కి "బంధిస్తుంది". నెట్‌వర్క్‌లోకి ప్రవేశించే కొత్త నోడ్ ఉనికికి బూట్‌నోడ్‌ను హెచ్చరించే ప్రారంభ సందేశం `PING`. ఈ `PING`లో కొత్త నోడ్, బూట్‌నోడ్ మరియు గడువు ముగిసిన టైమ్-స్టాంప్ గురించిన హాష్ సమాచారం ఉంటుంది. బూట్‌నోడ్ `PING`ని అందుకుంటుంది మరియు `PING` హాష్‌ను కలిగి ఉన్న `PONG`ని అందిస్తుంది. `PING` మరియు `PONG` హాష్‌లు సరిపోలితే, కొత్త నోడ్ మరియు బూట్‌నోడ్ మధ్య కనెక్షన్ ధృవీకరించబడుతుంది మరియు అవి "బంధించబడినవి" అని చెప్పబడుతుంది.

బంధించిన తర్వాత, కొత్త నోడ్ బూట్‌నోడ్‌కు `FIND-NEIGHBOURS` అభ్యర్థనను పంపగలదు. బూట్‌నోడ్ ద్వారా అందించబడిన డేటా కొత్త నోడ్ కనెక్ట్ చేయగల సహచరుల జాబితాను కలిగి ఉంటుంది. నోడ్‌లు బంధించబడకపోతే, `FIND-NEIGHBOURS` అభ్యర్థన విఫలమవుతుంది, కాబట్టి కొత్త నోడ్ నెట్‌వర్క్‌లోకి ప్రవేశించదు.

కొత్త నోడ్ బూట్‌నోడ్ నుండి పొరుగువారి జాబితాను స్వీకరించిన తర్వాత, అది ప్రతి ఒక్కరితో పింగ్-పాంగ్ మార్పిడిని ప్రారంభిస్తుంది. విజయవంతమైన PING-PONGలు కొత్త నోడ్‌ను దాని పొరుగువారితో బంధిస్తాయి, సందేశ మార్పిడిని ప్రారంభిస్తాయి.

```
క్లయింట్‌ను ప్రారంభించండి --> బూట్‌నోడ్‌కు కనెక్ట్ చేయండి --> బూట్‌నోడ్‌కు బంధించండి --> పొరుగువారిని కనుగొనండి --> పొరుగువారికి బంధించండి
```

ఎగ్జిక్యూషన్ క్లయింట్లు ప్రస్తుతం [Discv4](https://github.com/ethereum/devp2p/blob/master/discv4.md) డిస్కవరీ ప్రోటోకాల్‌ను ఉపయోగిస్తున్నాయి మరియు [Discv5](https://github.com/ethereum/devp2p/tree/master/discv5) ప్రోటోకాల్‌కు వలస వెళ్ళడానికి చురుకైన ప్రయత్నం జరుగుతోంది.

#### ENR: Ethereum నోడ్ రికార్డ్‌లు {#enr}

[Ethereum Node Record (ENR)](/developers/docs/networking-layer/network-addresses/) అనేది మూడు ప్రాథమిక అంశాలను కలిగి ఉన్న ఒక వస్తువు: ఒక సంతకం (కొన్ని అంగీకరించిన గుర్తింపు పథకం ప్రకారం తయారు చేయబడిన రికార్డ్ విషయాల హాష్), రికార్డ్‌లో మార్పులను ట్రాక్ చేసే సీక్వెన్స్ నంబర్, మరియు key:value జతల యొక్క ఒక ఏకపక్ష జాబితా. ఇది భవిష్యత్-రుజువు ఫార్మాట్, ఇది కొత్త పీర్‌ల మధ్య గుర్తించే సమాచారాన్ని సులభంగా మార్పిడి చేయడానికి అనుమతిస్తుంది మరియు Ethereum నోడ్‌ల కోసం ప్రాధాన్యతనిచ్చే [నెట్‌వర్క్ చిరునామా](/developers/docs/networking-layer/network-addresses) ఫార్మాట్.

#### UDPపై ఆవిష్కరణ ఎందుకు నిర్మించబడింది? {#why-udp}

UDP ఏ దోష తనిఖీ, విఫలమైన ప్యాకెట్‌లను మళ్లీ పంపడం లేదా కనెక్షన్‌లను డైనమిక్‌గా తెరవడం మరియు మూసివేయడం వంటి వాటికి మద్దతు ఇవ్వదు - బదులుగా ఇది విజయవంతంగా స్వీకరించబడిందా లేదా అనే దానితో సంబంధం లేకుండా ఒక లక్ష్యం వద్ద నిరంతర సమాచారాన్ని ప్రసారం చేస్తుంది. ఈ కనీస కార్యాచరణ కూడా కనిష్ట ఓవర్‌హెడ్‌గా అనువదిస్తుంది, ఈ రకమైన కనెక్షన్‌ను చాలా వేగంగా చేస్తుంది. డిస్కవరీ కోసం, పీర్‌తో అధికారిక కనెక్షన్‌ని ఏర్పరచుకోవడానికి నోడ్ తన ఉనికిని తెలియజేయాలనుకునే చోట, UDP సరిపోతుంది. అయితే, మిగిలిన నెట్‌వర్కింగ్ స్టాక్ కోసం, UDP ప్రయోజనం కోసం సరిపోదు. నోడ్‌ల మధ్య సమాచార మార్పిడి చాలా క్లిష్టంగా ఉంటుంది మరియు అందువల్ల రీసెండింగ్, ఎర్రర్ చెకింగ్ మొదలైన వాటికి సపోర్ట్ చేసే మరింత పూర్తిగా ఫీచర్ చేసిన ప్రోటోకాల్ అవసరం. TCPతో అనుబంధించబడిన అదనపు ఓవర్‌హెడ్ అదనపు కార్యాచరణకు విలువైనది. అందువల్ల, P2P స్టాక్‌లో ఎక్కువ భాగం TCPపై పనిచేస్తుంది.

### DevP2P {#devp2p}

DevP2P అనేది పీర్-టు-పీర్ నెట్‌వర్క్‌ను స్థాపించడానికి మరియు నిర్వహించడానికి Ethereum అమలు చేసే ప్రోటోకాల్‌ల మొత్తం స్టాక్. కొత్త నోడ్‌లు నెట్‌వర్క్‌లోకి ప్రవేశించిన తర్వాత, వాటి పరస్పర చర్యలు [DevP2P](https://github.com/ethereum/devp2p) స్టాక్‌లోని ప్రోటోకాల్‌ల ద్వారా నిర్వహించబడతాయి. ఇవన్నీ TCP పైన కూర్చుంటాయి మరియు RLPx రవాణా ప్రోటోకాల్, వైర్ ప్రోటోకాల్ మరియు అనేక ఉప-ప్రోటోకాల్‌లను కలిగి ఉంటాయి. [RLPx](https://github.com/ethereum/devp2p/blob/master/rlpx.md) అనేది నోడ్‌ల మధ్య సెషన్‌లను ప్రారంభించడం, ప్రామాణీకరించడం మరియు నిర్వహించడాన్ని నియంత్రించే ప్రోటోకాల్. RLPx సందేశాలను RLP (పునరావృత పొడవు ఉపసర్గ) ఉపయోగించి ఎన్‌కోడ్ చేస్తుంది, ఇది నోడ్‌ల మధ్య పంపడం కోసం డేటాను కనిష్ట నిర్మాణంలోకి ఎన్‌కోడింగ్ చేయడానికి చాలా స్పేస్-సమర్థవంతమైన పద్ధతి.

రెండు నోడ్‌ల మధ్య RLPx సెషన్ ప్రారంభ క్రిప్టోగ్రాఫిక్ హ్యాండ్‌షేక్‌తో ప్రారంభమవుతుంది. దీంట్లో నోడ్ ఒక ప్రామాణీకరణ సందేశాన్ని పంపుతుంది, అది పీర్ ద్వారా ధృవీకరించబడుతుంది. విజయవంతమైన ధృవీకరణపై, పీర్ ఇనిషియేటర్ నోడ్‌కు తిరిగి రావడానికి ప్రామాణీకరణ-రసీదు సందేశాన్ని రూపొందిస్తుంది. ఇది కీ-మార్పిడి ప్రక్రియ, ఇది నోడ్‌లను ప్రైవేట్‌గా మరియు సురక్షితంగా కమ్యూనికేట్ చేయడానికి వీలు కల్పిస్తుంది. విజయవంతమైన క్రిప్టోగ్రాఫిక్ హ్యాండ్‌షేక్ రెండు నోడ్‌లను ఒకదానికొకటి "హలో" సందేశాన్ని "వైర్‌పై" పంపడానికి ప్రేరేపిస్తుంది. హలో సందేశాల విజయవంతమైన మార్పిడి ద్వారా వైర్ ప్రోటోకాల్ ప్రారంభించబడింది.

హలో సందేశాలలో ఇవి ఉన్నాయి:

- ప్రోటోకాల్ వెర్షన్
- క్లయింట్ ID
- పోర్ట్
- నోడ్ ID
- మద్దతు ఉన్న సబ్-ప్రోటోకాల్‌ల జాబితా

విజయవంతమైన పరస్పర చర్యకు ఇది అవసరమైన సమాచారం, ఎందుకంటే ఇది రెండు నోడ్‌ల మధ్య ఏ సామర్థ్యాలు పంచుకోబడతాయో నిర్వచిస్తుంది మరియు కమ్యూనికేషన్‌ను కాన్ఫిగర్ చేస్తుంది. సబ్-ప్రోటోకాల్ సంప్రదింపుల ప్రక్రియ ఉంది, ఇక్కడ ప్రతి నోడ్ ద్వారా మద్దతు ఉన్న సబ్-ప్రోటోకాల్‌ల జాబితాలను పోల్చారు మరియు రెండు నోడ్‌లకు ఉమ్మడిగా ఉన్న వాటిని సెషన్‌లో ఉపయోగించవచ్చు.

హలో సందేశాలతో పాటు, వైర్ ప్రోటోకాల్ "డిస్‌కనెక్ట్" సందేశాన్ని కూడా పంపగలదు, ఇది కనెక్షన్ మూసివేయబడుతుందని ఒక పీర్‌కు హెచ్చరిక ఇస్తుంది. సెషన్‌ను తెరిచి ఉంచడానికి క్రమానుగతంగా పంపబడే PING మరియు PONG సందేశాలను కూడా వైర్ ప్రోటోకాల్ కలిగి ఉంటుంది. RLPx మరియు వైర్ ప్రోటోకాల్ మార్పిడులు నోడ్‌ల మధ్య కమ్యూనికేషన్ యొక్క పునాదులను ఏర్పాటు చేస్తాయి, ఒక నిర్దిష్ట సబ్-ప్రోటోకాల్ ప్రకారం ఉపయోగకరమైన సమాచారాన్ని మార్పిడి చేసుకోవడానికి పరంజాను అందిస్తాయి.

### సబ్-ప్రోటోకాల్స్ {#sub-protocols}

#### వైర్ ప్రోటోకాల్ {#wire-protocol}

పీర్‌లు కనెక్ట్ అయిన తర్వాత మరియు RLPx సెషన్ ప్రారంభమైన తర్వాత, పీర్‌లు ఎలా కమ్యూనికేట్ చేస్తాయో వైర్ ప్రోటోకాల్ నిర్వచిస్తుంది. ప్రారంభంలో, వైర్ ప్రోటోకాల్ మూడు ప్రధాన పనులను నిర్వచించింది: గొలుసు సమకాలీకరణ, బ్లాక్ ప్రచారం మరియు లావాదేవీల మార్పిడి. అయితే, Ethereum ప్రూఫ్-ఆఫ్-స్టేక్‌కు మారిన తర్వాత, బ్లాక్ ప్రచారం మరియు గొలుసు సమకాలీకరణ ఏకాభిప్రాయం లేయర్లో భాగంగా మారాయి. లావాదేవీల మార్పిడి ఇప్పటికీ ఎగ్జిక్యూషన్ క్లయింట్‌ల పరిధిలోనే ఉంది. ట్రాన్సాక్షన్ ఎక్స్‌ఛేంజ్ అంటే నోడ్‌ల మధ్య పెండింగ్‌లో ఉన్న ట్రాన్సాక్షన్‌లను మార్పిడి చేసుకోవడం, తద్వారా బ్లాక్ బిల్డర్లు వాటిలో కొన్నింటిని తదుపరి బ్లాక్‌లో చేర్చడానికి ఎంచుకోవచ్చు. ఈ పనుల గురించి వివరణాత్మక సమాచారం [ఇక్కడ](https://github.com/ethereum/devp2p/blob/master/caps/eth.md) అందుబాటులో ఉంది. ఈ సబ్-ప్రోటోకాల్‌లకు మద్దతిచ్చే క్లయింట్‌లు వాటిని [JSON-RPC](/developers/docs/apis/json-rpc/) ద్వారా బహిర్గతం చేస్తాయి.

#### les (లైట్ Ethereum సబ్‌ప్రోటోకాల్) {#les}

ఇది లైట్ క్లయింట్‌లను సింక్ చేయడానికి ఒక మినిమల్ ప్రోటోకాల్. సాంప్రదాయకంగా ఈ ప్రోటోకాల్ అరుదుగా ఉపయోగించబడింది, ఎందుకంటే పూర్తి నోడ్‌లు ప్రోత్సాహకాలు లేకుండా లైట్ క్లయింట్‌లకు డేటాను అందించాలి. ఎగ్జిక్యూషన్ క్లయింట్‌ల యొక్క డిఫాల్ట్ ప్రవర్తన les ద్వారా లైట్ క్లయింట్ డేటాను అందించడం కాదు. les [spec](https://github.com/ethereum/devp2p/blob/master/caps/les.md)లో మరింత సమాచారం అందుబాటులో ఉంది.

#### Snap {#snap}

[స్నాప్ ప్రోటోకాల్](https://github.com/ethereum/devp2p/blob/master/caps/snap.md#ethereum-snapshot-protocol-snap) అనేది ఒక ఐచ్ఛిక పొడిగింపు, ఇది పీర్‌లు ఇటీవలి స్థితుల స్నాప్‌షాట్‌లను మార్పిడి చేసుకోవడానికి అనుమతిస్తుంది, ఇంటర్మీడియట్ మెర్కిల్ ట్రై నోడ్‌లను డౌన్‌లోడ్ చేయకుండానే ఖాతా మరియు నిల్వ డేటాను ధృవీకరించడానికి పీర్‌లను అనుమతిస్తుంది.

#### Wit (సాక్షి ప్రోటోకాల్) {#wit}

[సాక్షి ప్రోటోకాల్](https://github.com/ethereum/devp2p/blob/master/caps/wit.md#ethereum-witness-protocol-wit) అనేది ఒక ఐచ్ఛిక పొడిగింపు, ఇది పీర్‌ల మధ్య స్టేట్ సాక్షుల మార్పిడిని ప్రారంభిస్తుంది, క్లయింట్‌లను చైన్ యొక్క కొనకు సమకాలీకరించడంలో సహాయపడుతుంది.

#### Whisper {#whisper}

Whisper అనేది బ్లాక్‌చెయిన్‌కు ఎటువంటి సమాచారాన్ని వ్రాయకుండా పీర్‌ల మధ్య సురక్షిత సందేశాలను అందించే లక్ష్యంతో కూడిన ప్రోటోకాల్. ఇది DevP2P వైర్ ప్రోటోకాల్‌లో భాగంగా ఉంది, కానీ ఇప్పుడు నిలిపివేయబడింది. ఇలాంటి లక్ష్యాలతో ఇతర [సంబంధిత ప్రాజెక్ట్‌లు](https://wakunetwork.com/) ఉన్నాయి.

## ఏకాభిప్రాయం లేయర్ {#consensus-layer}

ఏకాభిప్రాయం క్లయింట్లు వేరే స్పెసిఫికేషన్‌తో ప్రత్యేక పీర్-టు-పీర్ నెట్‌వర్క్‌లో పాల్గొంటాయి. ఏకాభిప్రాయం క్లయింట్లు బ్లాక్ గాసిప్‌లో పాల్గొనాలి, తద్వారా వారు పీర్‌ల నుండి కొత్త బ్లాక్‌లను స్వీకరించగలరు మరియు బ్లాక్ ప్రపోజర్‌గా ఉండే వంతు వచ్చినప్పుడు వాటిని ప్రసారం చేయగలరు. ఎగ్జిక్యూషన్ లేయర్‌ మాదిరిగానే, దీనికి మొదట డిస్కవరీ ప్రోటోకాల్ అవసరం, తద్వారా ఒక నోడ్ పీర్‌లను కనుగొని, బ్లాక్‌లు, అటెస్టేషన్‌లు మొదలైన వాటిని మార్పిడి చేసుకోవడానికి సురక్షితమైన సెషన్‌లను ఏర్పాటు చేసుకోగలదు.

### ఆవిష్కరణ {#consensus-discovery}

ఎగ్జిక్యూషన్ క్లయింట్‌ల మాదిరిగానే, ఏకాభిప్రాయం క్లయింట్లు పీర్‌లను కనుగొనడానికి UDPపై [discv5](https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/p2p-interface.md#the-discovery-domain-discv5)ని ఉపయోగిస్తాయి. discv5 యొక్క ఏకాభిప్రాయం లేయర్ అమలు, ఎగ్జిక్యూషన్ క్లయింట్‌ల నుండి భిన్నంగా ఉంటుంది, ఎందుకంటే ఇది discv5ను [libP2P](https://libp2p.io/) స్టాక్‌కి కనెక్ట్ చేసే అడాప్టర్‌ను కలిగి ఉంటుంది, DevP2Pని నిలిపివేస్తుంది. ఎగ్జిక్యూషన్ లేయర్ యొక్క RLPx సెషన్‌లు libP2P యొక్క నాయిస్ సురక్షిత ఛానెల్ హ్యాండ్‌షేక్‌కు అనుకూలంగా నిలిపివేయబడ్డాయి.

### ENRలు {#consensus-enr}

ఏకాభిప్రాయం నోడ్‌ల కోసం ENR నోడ్ యొక్క పబ్లిక్ కీ, IP చిరునామా, UDP మరియు TCP పోర్ట్‌లు మరియు రెండు ఏకాభిప్రాయం-నిర్దిష్ట ఫీల్డ్‌లను కలిగి ఉంటుంది: అటెస్టేషన్ సబ్‌నెట్ బిట్‌ఫీల్డ్ మరియు `eth2` కీ. మునుపటిది నిర్దిష్ట అటెస్టేషన్ గాసిప్ సబ్-నెట్‌వర్క్‌లలో పాల్గొనే పీర్‌లను కనుగొనడాన్ని నోడ్‌లకు సులభతరం చేస్తుంది. `eth2` కీ నోడ్ ఏ Ethereum ఫోర్క్ వెర్షన్‌ను ఉపయోగిస్తుందనే దాని గురించి సమాచారాన్ని కలిగి ఉంటుంది, పీర్‌లు సరైన Ethereumకు కనెక్ట్ అవుతున్నాయని నిర్ధారిస్తుంది.

### libP2P {#libp2p}

libP2P స్టాక్ డిస్కవరీ తర్వాత అన్ని కమ్యూనికేషన్‌లకు మద్దతు ఇస్తుంది. క్లయింట్లు వారి ENRలో నిర్వచించిన విధంగా IPv4 మరియు/లేదా IPv6లో డయల్ చేయవచ్చు మరియు వినవచ్చు. libP2P లేయర్‌లోని ప్రోటోకాల్‌లను గాసిప్ మరియు req/resp డొమైన్‌లుగా ఉపవిభజన చేయవచ్చు.

### గాసిప్ {#gossip}

గాసిప్ డొమైన్‌లో నెట్‌వర్క్ అంతటా వేగంగా వ్యాపించాల్సిన మొత్తం సమాచారం ఉంటుంది. ఇందులో బెకన్ బ్లాక్‌లు, ప్రూఫ్‌లు, అటెస్టేషన్‌లు, నిష్క్రమణలు మరియు స్లాషింగ్‌లు ఉంటాయి. ఇది libP2P gossipsub v1 ఉపయోగించి ప్రసారం చేయబడుతుంది మరియు స్వీకరించడానికి మరియు ప్రసారం చేయడానికి గాసిప్ పేలోడ్‌ల గరిష్ట పరిమాణంతో సహా ప్రతి నోడ్‌లో స్థానికంగా నిల్వ చేయబడిన వివిధ మెటాడేటాపై ఆధారపడి ఉంటుంది. గాసిప్ డొమైన్ గురించి వివరణాత్మక సమాచారం [ఇక్కడ](https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/p2p-interface.md#the-gossip-domain-gossipsub) అందుబాటులో ఉంది.

### అభ్యర్థన-ప్రతిస్పందన {#request-response}

అభ్యర్థన-ప్రతిస్పందన డొమైన్ వారి పీర్‌ల నుండి నిర్దిష్ట సమాచారాన్ని అభ్యర్థించే క్లయింట్‌ల కోసం ప్రోటోకాల్‌లను కలిగి ఉంటుంది. ఉదాహరణలలో నిర్దిష్ట రూట్ హ్యాష్‌లతో సరిపోలే లేదా స్లాట్‌ల పరిధిలోని నిర్దిష్ట బెకన్ బ్లాక్‌లను అభ్యర్థించడం ఉన్నాయి. ప్రతిస్పందనలు ఎల్లప్పుడూ స్నాపీ-కంప్రెస్డ్ SSZ ఎన్‌కోడ్ చేసిన బైట్‌లుగా తిరిగి ఇవ్వబడతాయి.

## ఏకాభిప్రాయం క్లయింట్ RLP కంటే SSZకి ఎందుకు ప్రాధాన్యత ఇస్తుంది? {#ssz-vs-rlp}

SSZ అంటే సింపుల్ సీరియలైజేషన్. ఇది స్థిరమైన ఆఫ్‌సెట్‌లను ఉపయోగిస్తుంది, ఇది మొత్తం నిర్మాణాన్ని డీకోడ్ చేయకుండానే ఎన్‌కోడ్ చేసిన సందేశం యొక్క వ్యక్తిగత భాగాలను డీకోడ్ చేయడాన్ని సులభతరం చేస్తుంది, ఇది ఏకాభిప్రాయం క్లయింట్‌కు చాలా ఉపయోగకరంగా ఉంటుంది, ఎందుకంటే ఇది ఎన్‌కోడ్ చేసిన సందేశాల నుండి నిర్దిష్ట సమాచారాన్ని సమర్థవంతంగా పొందగలదు. ఇది ప్రత్యేకంగా మెర్కిల్ ప్రోటోకాల్‌లతో ఏకీకృతం చేయడానికి రూపొందించబడింది, మెర్కిలైజేషన్ కోసం సంబంధిత సామర్థ్య లాభాలతో. ఏకాభిప్రాయం లేయర్‌లోని అన్ని హ్యాష్‌లు మెర్కిల్ రూట్‌లు కాబట్టి, ఇది ఒక ముఖ్యమైన మెరుగుదలకు దారితీస్తుంది. SSZ విలువలకు ప్రత్యేకమైన ప్రాతినిధ్యాలకు కూడా హామీ ఇస్తుంది.

## ఎగ్జిక్యూషన్ మరియు ఏకాభిప్రాయం క్లయింట్లను కనెక్ట్ చేయడం {#connecting-clients}

ఏకాభిప్రాయం మరియు ఎగ్జిక్యూషన్ క్లయింట్లు రెండూ సమాంతరంగా నడుస్తాయి. వాటిని కనెక్ట్ చేయాలి, తద్వారా ఏకాభిప్రాయం క్లయింట్ ఎగ్జిక్యూషన్ క్లయింట్‌కు సూచనలను అందించగలదు, మరియు ఎగ్జిక్యూషన్ క్లయింట్ బెకన్ బ్లాక్‌లలో చేర్చడానికి ఏకాభిప్రాయం క్లయింట్‌కు లావాదేవీల కట్టలను పంపగలదు. రెండు క్లయింట్ల మధ్య కమ్యూనికేషన్ స్థానిక RPC కనెక్షన్‌ని ఉపయోగించి సాధించవచ్చు. రెండు క్లయింట్ల మధ్య పంపిన సూచనలను ['ఇంజిన్-API'](https://github.com/ethereum/execution-apis/blob/main/src/engine/common.md) అని పిలువబడే API నిర్వచిస్తుంది. రెండు క్లయింట్లు ఒకే నెట్‌వర్క్ గుర్తింపు వెనుక ఉన్నందున, అవి ఒక ENR (Ethereum నోడ్ రికార్డ్)ను పంచుకుంటాయి, ఇందులో ప్రతి క్లయింట్‌కు ప్రత్యేక కీ ఉంటుంది (eth1 కీ మరియు eth2 కీ).

నియంత్రణ ప్రవాహం యొక్క సారాంశం బ్రాకెట్లలో సంబంధిత నెట్‌వర్కింగ్ స్టాక్‌తో క్రింద చూపబడింది.

### ఏకాభిప్రాయం క్లయింట్ బ్లాక్ ప్రొడ్యూసర్ కానప్పుడు: {#when-consensus-client-is-not-block-producer}

- ఏకాభిప్రాయం క్లయింట్ బ్లాక్ గాసిప్ ప్రోటోకాల్ (ఏకాభిప్రాయం p2p) ద్వారా ఒక బ్లాక్‌ను అందుకుంటుంది.
- ఏకాభిప్రాయం క్లయింట్ బ్లాక్‌ను ముందే ధృవీకరిస్తుంది, అనగా, అది సరైన మెటాడేటాతో చెల్లుబాటు అయ్యే పంపినవారి నుండి వచ్చిందని నిర్ధారిస్తుంది
- బ్లాక్‌లోని లావాదేవీలు ఎగ్జిక్యూషన్ పేలోడ్‌గా ఎగ్జిక్యూషన్ లేయర్‌కు పంపబడతాయి (స్థానిక RPC కనెక్షన్)
- ఎగ్జిక్యూషన్ లేయర్ లావాదేవీలను అమలు చేస్తుంది మరియు బ్లాక్ హెడర్‌లోని స్థితిని ధృవీకరిస్తుంది (అనగా, హ్యాష్‌లు సరిపోలుతున్నాయో లేదో తనిఖీ చేస్తుంది)
- ఎగ్జిక్యూషన్ లేయర్ ధృవీకరణ డేటాను ఏకాభిప్రాయం లేయర్‌కు తిరిగి పంపుతుంది, బ్లాక్ ఇప్పుడు ధృవీకరించబడినట్లుగా పరిగణించబడుతుంది (స్థానిక RPC కనెక్షన్)
- ఏకాభిప్రాయం లేయర్ తన స్వంత బ్లాక్‌చెయిన్ హెడ్‌కు బ్లాక్‌ను జోడిస్తుంది మరియు దానికి ధృవీకరిస్తుంది, నెట్‌వర్క్ (ఏకాభిప్రాయం p2p) పై అటెస్టేషన్‌ను ప్రసారం చేస్తుంది

### ఏకాభిప్రాయం క్లయింట్ బ్లాక్ ప్రొడ్యూసర్ అయినప్పుడు: {#when-consensus-client-is-block-producer}

- ఏకాభిప్రాయం క్లయింట్ తదుపరి బ్లాక్ ప్రొడ్యూసర్ అని నోటీసు అందుకుంటుంది (ఏకాభిప్రాయం p2p)
- ఏకాభిప్రాయం లేయర్ ఎగ్జిక్యూషన్ క్లయింట్‌లో `బ్లాక్‌ను సృష్టించు` పద్ధతిని పిలుస్తుంది (స్థానిక RPC)
- ఎగ్జిక్యూషన్ లేయర్ ట్రాన్సాక్షన్ గాసిప్ ప్రోటోకాల్ (ఎగ్జిక్యూషన్ p2p) ద్వారా నింపబడిన ట్రాన్సాక్షన్ మెమ్‌పూల్‌ను యాక్సెస్ చేస్తుంది
- ఎగ్జిక్యూషన్ క్లయింట్ లావాదేవీలను ఒక బ్లాక్‌గా కట్టి, లావాదేవీలను అమలు చేస్తుంది మరియు బ్లాక్ హ్యాష్‌ను ఉత్పత్తి చేస్తుంది
- ఏకాభిప్రాయం క్లయింట్ ఎగ్జిక్యూషన్ క్లయింట్ నుండి లావాదేవీలు మరియు బ్లాక్ హ్యాష్‌ను తీసుకుని వాటిని బెకన్ బ్లాక్‌కు జోడిస్తుంది (స్థానిక RPC)
- ఏకాభిప్రాయం క్లయింట్ బ్లాక్ గాసిప్ ప్రోటోకాల్ (ఏకాభిప్రాయం p2p) పై బ్లాక్‌ను ప్రసారం చేస్తుంది
- ఇతర క్లయింట్లు బ్లాక్ గాసిప్ ప్రోటోకాల్ ద్వారా ప్రతిపాదిత బ్లాక్‌ను స్వీకరించి, పైన వివరించిన విధంగా ధృవీకరిస్తాయి (ఏకాభిప్రాయం p2p)

తగినంత మంది వాలిడేటర్‌లచే బ్లాక్ ధృవీకరించబడిన తర్వాత, అది గొలుసు యొక్క హెడ్‌కు జోడించబడుతుంది, సమర్థించబడుతుంది మరియు చివరికి ఖరారు చేయబడుతుంది.

![](cons_client_net_layer.png)
![](exe_client_net_layer.png)

[ethresear.ch](https://ethresear.ch/t/eth1-eth2-client-relationship/7248) నుండి ఏకాభిప్రాయం మరియు ఎగ్జిక్యూషన్ క్లయింట్‌ల కోసం నెట్‌వర్క్ లేయర్ స్కీమాటిక్

## మరింత చదవడానికి {#further-reading}

[DevP2P](https://github.com/ethereum/devp2p)
[LibP2p](https://github.com/libp2p/specs)
[ఏకాభిప్రాయం లేయర్ నెట్‌వర్క్ స్పెక్స్](https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/p2p-interface.md#enr-structure)
[kademlia to discv5](https://vac.dev/kademlia-to-discv5)
[kademlia పేపర్](https://pdos.csail.mit.edu/~petar/papers/maymounkov-kademlia-lncs.pdf)
[Ethereum p2pకి పరిచయం](https://p2p.paris/en/talks/intro-ethereum-networking/)
[eth1/eth2 సంబంధం](http://ethresear.ch/t/eth1-eth2-client-relationship/7248)
[విలీనం మరియు eth2 క్లయింట్ వివరాల వీడియో](https://www.youtube.com/watch?v=zNIrIninMgg)
