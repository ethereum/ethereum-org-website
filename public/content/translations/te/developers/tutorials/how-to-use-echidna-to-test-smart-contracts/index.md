---
title: "‡∞∏‡±ç‡∞Æ‡∞æ‡∞∞‡±ç‡∞ü‡±ç ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞≤‡∞®‡±Å ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞é‡∞≤‡∞æ ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞ø"
description: "‡∞∏‡±ç‡∞Æ‡∞æ‡∞∞‡±ç‡∞ü‡±ç ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞≤‡∞®‡±Å ‡∞∏‡±ç‡∞µ‡∞Ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞ï‡∞Ç‡∞ó‡∞æ ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞é‡∞≤‡∞æ ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞ø"
author: "Trailofbits"
lang: te
tags:
  [
    "‡∞¶‡±É‡∞¢‡∞§‡±ç‡∞µ‡∞Ç",
    "‡∞∏‡±ç‡∞Æ‡∞æ‡∞∞‡±ç‡∞ü‡±ç ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞≤‡±Å",
    "‡∞≠‡∞¶‡±ç‡∞∞‡∞§",
    "‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç",
    "fuzzing"
  ]
skill: advanced
published: 2020-04-10
source: Building secure contracts
sourceUrl: https://github.com/crytic/building-secure-contracts/tree/master/program-analysis/echidna
---

## ‡∞∏‡∞Ç‡∞∏‡±ç‡∞•‡∞æ‡∞™‡∞® {#installation}

‡∞°‡∞æ‡∞ï‡∞∞‡±ç ‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ ‡∞≤‡±á‡∞¶‡∞æ ‡∞Æ‡±Å‡∞Ç‡∞¶‡±Å‡∞ó‡∞æ ‡∞ï‡∞Ç‡∞™‡±à‡∞≤‡±ç ‡∞ö‡±á‡∞∏‡∞ø‡∞® ‡∞¨‡±à‡∞®‡∞∞‡±Ä‡∞®‡∞ø ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞á‡∞®‡±ç‚Äå‡∞∏‡±ç‡∞ü‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å.

### ‡∞°‡∞æ‡∞ï‡∞∞‡±ç ‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ {#echidna-through-docker}

```bash
docker pull trailofbits/eth-security-toolbox
docker run -it -v "$PWD":/home/training trailofbits/eth-security-toolbox
```

_‡∞ö‡∞ø‡∞µ‡∞∞‡∞ø ‡∞ï‡∞Æ‡∞æ‡∞Ç‡∞°‡±ç ‡∞Æ‡±Ä ‡∞™‡±ç‡∞∞‡∞∏‡±ç‡∞§‡±Å‡∞§ ‡∞°‡±à‡∞∞‡±Ü‡∞ï‡±ç‡∞ü‡∞∞‡±Ä‡∞ï‡∞ø ‡∞Ø‡∞æ‡∞ï‡±ç‡∞∏‡±Ü‡∞∏‡±ç ‡∞â‡∞®‡±ç‡∞® ‡∞°‡∞æ‡∞ï‡∞∞‡±ç‚Äå‡∞≤‡±ã eth-security-toolbox‡∞®‡±Å ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø. ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞Æ‡±Ä ‡∞π‡±ã‡∞∏‡±ç‡∞ü‡±ç ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞´‡±à‡∞≤‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ö‡∞µ‡∞ö‡±ç‡∞ö‡±Å, ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞°‡∞æ‡∞ï‡∞∞‡±ç_ ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞´‡±à‡∞≤‡±ç‚Äå‡∞≤‡∞™‡±à ‡∞∏‡∞æ‡∞ß‡∞®‡∞æ‡∞≤‡∞®‡±Å ‡∞Ö‡∞Æ‡∞≤‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø

‡∞°‡∞æ‡∞ï‡∞∞‡±ç ‡∞≤‡±ã‡∞™‡∞≤, ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø :

```bash
solc-select 0.5.11
cd /home/training
```

### ‡∞¨‡±à‡∞®‡∞∞‡±Ä {#binary}

[https://github.com/crytic/echidna/releases/tag/v1.4.0.0](https://github.com/crytic/echidna/releases/tag/v1.4.0.0)

## ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä-‡∞Ü‡∞ß‡∞æ‡∞∞‡∞ø‡∞§ ‡∞´‡∞ú‡±ç‡∞ú‡∞ø‡∞Ç‡∞ó‡±ç‚Äå‡∞ï‡±Å ‡∞™‡∞∞‡∞ø‡∞ö‡∞Ø‡∞Ç {#introduction-to-property-based-fuzzing}

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞í‡∞ï ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä-‡∞Ü‡∞ß‡∞æ‡∞∞‡∞ø‡∞§ ‡∞´‡∞ú‡∞∞‡±ç, ‡∞Æ‡±á‡∞Æ‡±Å ‡∞Æ‡∞æ ‡∞Æ‡±Å‡∞®‡±Å‡∞™‡∞ü‡∞ø ‡∞¨‡±ç‡∞≤‡∞æ‡∞ó‡±ç‚Äå‡∞™‡±ã‡∞∏‡±ç‡∞ü‡±ç‚Äå‡∞≤‡∞≤‡±ã ‡∞µ‡∞ø‡∞µ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞æ‡∞Æ‡±Å ([1](https://blog.trailofbits.com/2018/03/09/echidna-a-smart-fuzzer-for-ethereum/), [2](https://blog.trailofbits.com/2018/05/03/state-machine-testing-with-echidna/), [3](https://blog.trailofbits.com/2020/03/30/an-echidna-for-all-seasons/)).

### ‡∞´‡∞ú‡±ç‡∞ú‡∞ø‡∞Ç‡∞ó‡±ç {#fuzzing}

[‡∞´‡∞ú‡±ç‡∞ú‡∞ø‡∞Ç‡∞ó‡±ç](https://wikipedia.org/wiki/Fuzzing) ‡∞Ö‡∞®‡±á‡∞¶‡∞ø ‡∞≠‡∞¶‡±ç‡∞∞‡∞§‡∞æ ‡∞∏‡∞Ç‡∞ò‡∞Ç‡∞≤‡±ã ‡∞í‡∞ï ‡∞™‡±ç‡∞∞‡∞∏‡∞ø‡∞¶‡±ç‡∞ß ‡∞∏‡∞æ‡∞Ç‡∞ï‡±á‡∞§‡∞ø‡∞ï‡∞§. ‡∞™‡±ç‡∞∞‡±ã‡∞ó‡±ç‡∞∞‡∞æ‡∞Æ‡±ç‚Äå‡∞≤‡±ã ‡∞¨‡∞ó‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø, ‡∞á‡∞¶‡∞ø ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞≤‡±á‡∞¶‡∞æ ‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞Ø‡∞æ‡∞¶‡±É‡∞ö‡±ç‡∞õ‡∞ø‡∞ï‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞°‡±á ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø. ‡∞∏‡∞æ‡∞Ç‡∞™‡±ç‡∞∞‡∞¶‡∞æ‡∞Ø ‡∞∏‡∞æ‡∞´‡±ç‡∞ü‡±ç‚Äå‡∞µ‡±á‡∞∞‡±ç ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞´‡∞ú‡∞∞‡±ç‚Äå‡∞≤‡±Å (‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£‡∞ï‡±Å [AFL](http://lcamtuf.coredump.cx/afl/) ‡∞≤‡±á‡∞¶‡∞æ [LibFuzzer](https://llvm.org/docs/LibFuzzer.html)) ‡∞¨‡∞ó‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞∏‡∞Æ‡∞∞‡±ç‡∞•‡∞µ‡∞Ç‡∞§‡∞Æ‡±à‡∞® ‡∞∏‡∞æ‡∞ß‡∞®‡∞æ‡∞≤‡±Å‡∞ó‡∞æ ‡∞™‡±ç‡∞∞‡∞∏‡∞ø‡∞¶‡±ç‡∞ß‡∞ø ‡∞ö‡±Ü‡∞Ç‡∞¶‡∞æ‡∞Ø‡∞ø.

‡∞ï‡±á‡∞µ‡∞≤‡∞Ç ‡∞Ø‡∞æ‡∞¶‡±É‡∞ö‡±ç‡∞õ‡∞ø‡∞ï ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞≤ ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞ø‡∞Ç‡∞ö‡∞ø, ‡∞Æ‡∞Ç‡∞ö‡∞ø ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Ö‡∞®‡±á‡∞ï ‡∞™‡∞¶‡±ç‡∞ß‡∞§‡±Å‡∞≤‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡±ç‡∞Ø‡±Ç‡∞π‡∞æ‡∞≤‡±Å ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞ø, ‡∞µ‡∞æ‡∞ü‡∞ø‡∞§‡±ã ‡∞∏‡∞π‡∞æ:

- ‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞Ö‡∞Æ‡∞≤‡±Å ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞Ö‡∞≠‡∞ø‡∞™‡±ç‡∞∞‡∞æ‡∞Ø‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞™‡±ä‡∞Ç‡∞¶‡∞°‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞¶‡∞æ‡∞®‡∞ø‡∞®‡∞ø ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ó‡∞®‡∞ø‡∞∞‡±ç‡∞¶‡±á‡∞∂‡∞Ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç. ‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£‡∞ï‡±Å, ‡∞ï‡±ä‡∞§‡±ç‡∞§‡∞ó‡∞æ ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡∞ø‡∞® ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç ‡∞ï‡±ä‡∞§‡±ç‡∞§ ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ó‡∞Ç ‡∞Ü‡∞µ‡∞ø‡∞∑‡±ç‡∞ï‡∞∞‡∞£‡∞ï‡±Å ‡∞¶‡∞æ‡∞∞‡∞ø‡∞§‡±Ä‡∞∏‡±ç‡∞§‡±á, ‡∞¶‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞¶‡∞ó‡±ç‡∞ó‡∞∞‡∞ó‡∞æ ‡∞ï‡±ä‡∞§‡±ç‡∞§ ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç ‡∞Ö‡∞∞‡±ç‡∞ß‡∞µ‡∞Ç‡∞§‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞ü‡±Å‡∞Ç‡∞¶‡∞ø.
- ‡∞®‡∞ø‡∞∞‡±ç‡∞Æ‡∞æ‡∞£‡∞æ‡∞§‡±ç‡∞Æ‡∞ï ‡∞™‡∞∞‡∞ø‡∞Æ‡∞ø‡∞§‡∞ø‡∞®‡∞ø ‡∞ó‡±å‡∞∞‡∞µ‡∞ø‡∞∏‡±ç‡∞§‡±Ç ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞®‡±Å ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç. ‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£‡∞ï‡±Å, ‡∞Æ‡±Ä ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞≤‡±ã ‡∞ö‡±Ü‡∞ï‡±ç‚Äå‡∞∏‡∞Æ‡±ç‚Äå‡∞§‡±ã ‡∞ï‡±Ç‡∞°‡∞ø‡∞® ‡∞π‡±Ü‡∞°‡∞∞‡±ç ‡∞â‡∞Ç‡∞ü‡±á, ‡∞ö‡±Ü‡∞ï‡±ç‚Äå‡∞∏‡∞Æ‡±ç‚Äå‡∞®‡±Å ‡∞ß‡±ç‡∞∞‡±Å‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡±á ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞®‡±Å ‡∞´‡∞ú‡∞∞‡±ç ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø ‡∞ö‡±á‡∞∏‡±á‡∞≤‡∞æ ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç ‡∞Ö‡∞∞‡±ç‡∞ß‡∞µ‡∞Ç‡∞§‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞ü‡±Å‡∞Ç‡∞¶‡∞ø.
- ‡∞ï‡±ä‡∞§‡±ç‡∞§ ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞§‡±Ü‡∞≤‡∞ø‡∞∏‡∞ø‡∞® ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç: ‡∞Æ‡±Ä‡∞ï‡±Å ‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡±Å‡∞¨‡∞æ‡∞ü‡±Å ‡∞Ö‡∞Ø‡±ç‡∞Ø‡±á ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç ‡∞Ø‡±ä‡∞ï‡±ç‡∞ï ‡∞™‡±Ü‡∞¶‡±ç‡∞¶ ‡∞°‡±á‡∞ü‡∞æ‡∞∏‡±Ü‡∞ü‡±ç‚Äå‡∞ï‡±Å ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡±ç‡∞Ø‡∞§ ‡∞â‡∞Ç‡∞ü‡±á, ‡∞Æ‡±Ä ‡∞´‡∞ú‡∞∞‡±ç ‡∞¶‡∞æ‡∞®‡∞ø ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø‡∞®‡∞ø ‡∞Æ‡±ä‡∞¶‡∞ü‡∞ø ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç ‡∞ï‡∞Ç‡∞ü‡±á ‡∞µ‡∞æ‡∞ü‡∞ø ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞ï‡±ä‡∞§‡±ç‡∞§ ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø ‡∞ö‡±á‡∞Ø‡∞ó‡∞≤‡∞¶‡±Å. ‡∞µ‡±Ä‡∞ü‡∞ø‡∞®‡∞ø ‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£‡∞Ç‡∞ó‡∞æ _‡∞∏‡±Ä‡∞°‡±ç‡∞∏‡±ç_ ‡∞Ö‡∞®‡∞ø ‡∞Ö‡∞Ç‡∞ü‡∞æ‡∞∞‡±Å.

### ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä-‡∞Ü‡∞ß‡∞æ‡∞∞‡∞ø‡∞§ ‡∞´‡∞ú‡±ç‡∞ú‡∞ø‡∞Ç‡∞ó‡±ç {#property-based-fuzzing}

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞í‡∞ï ‡∞®‡∞ø‡∞∞‡±ç‡∞¶‡∞ø‡∞∑‡±ç‡∞ü ‡∞∞‡∞ï‡∞Ç ‡∞´‡∞ú‡∞∞‡±ç‚Äå‡∞ï‡±Å ‡∞ö‡±Ü‡∞Ç‡∞¶‡∞ø‡∞®‡∞¶‡∞ø: [QuickCheck](https://wikipedia.org/wiki/QuickCheck) ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞¨‡∞æ‡∞ó‡∞æ ‡∞™‡±ç‡∞∞‡±á‡∞∞‡∞£ ‡∞™‡±ä‡∞Ç‡∞¶‡∞ø‡∞® ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä-‡∞Ü‡∞ß‡∞æ‡∞∞‡∞ø‡∞§ ‡∞´‡∞ú‡±ç‡∞ú‡∞ø‡∞Ç‡∞ó‡±ç. ‡∞ï‡±ç‡∞∞‡∞æ‡∞∑‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞ø‡∞Ç‡∞ö‡±á ‡∞ï‡±ç‡∞≤‡∞æ‡∞∏‡∞ø‡∞ï‡±ç ‡∞´‡∞ú‡∞∞‡±ç‚Äå‡∞ï‡±Å ‡∞µ‡∞ø‡∞∞‡±Å‡∞¶‡±ç‡∞ß‡∞Ç‡∞ó‡∞æ, ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó‡∞¶‡∞æ‡∞∞‡±Å-‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞ö‡∞ø‡∞Ç‡∞ö‡∞ø‡∞® ‡∞á‡∞®‡±ç‚Äå‡∞µ‡±á‡∞∞‡∞ø‡∞Ø‡∞Ç‡∞ü‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞¨‡±ç‡∞∞‡±á‡∞ï‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.

‡∞∏‡±ç‡∞Æ‡∞æ‡∞∞‡±ç‡∞ü‡±ç ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞≤‡∞≤‡±ã, ‡∞á‡∞®‡±ç‚Äå‡∞µ‡±á‡∞∞‡∞ø‡∞Ø‡∞Ç‡∞ü‡±ç‚Äå‡∞≤‡±Å ‡∞Ö‡∞®‡±á‡∞µ‡∞ø Solidity ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡±Å, ‡∞á‡∞µ‡∞ø ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±ç ‡∞ö‡±á‡∞∞‡∞ó‡∞≤ ‡∞è‡∞¶‡±à‡∞®‡∞æ ‡∞§‡∞™‡±ç‡∞™‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡∞®‡∞ø ‡∞∏‡±ç‡∞•‡∞ø‡∞§‡∞ø‡∞®‡∞ø ‡∞∏‡±Ç‡∞ö‡∞ø‡∞Ç‡∞ö‡∞ó‡∞≤‡∞µ‡±Å, ‡∞µ‡∞æ‡∞ü‡∞ø‡∞§‡±ã ‡∞∏‡∞π‡∞æ:

- ‡∞§‡∞™‡±ç‡∞™‡±Å ‡∞Ø‡∞æ‡∞ï‡±ç‡∞∏‡±Ü‡∞∏‡±ç ‡∞®‡∞ø‡∞Ø‡∞Ç‡∞§‡±ç‡∞∞‡∞£: ‡∞¶‡∞æ‡∞°‡∞ø ‡∞ö‡±á‡∞∏‡±á‡∞µ‡∞æ‡∞°‡±Å ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±ç ‡∞Ø‡∞ú‡∞Æ‡∞æ‡∞®‡∞ø ‡∞Ö‡∞Ø‡±ç‡∞Ø‡∞æ‡∞°‡±Å.
- ‡∞§‡∞™‡±ç‡∞™‡±Å ‡∞∏‡±ç‡∞ü‡±á‡∞ü‡±ç ‡∞Æ‡±Ü‡∞∑‡∞ø‡∞®‡±ç: ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±ç ‡∞™‡∞æ‡∞ú‡±ç ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡∞ø‡∞®‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞ü‡±ã‡∞ï‡±Ü‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞¨‡∞¶‡∞ø‡∞≤‡±Ä ‡∞ö‡±á‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å.
- ‡∞§‡∞™‡±ç‡∞™‡±Å ‡∞Ö‡∞Ç‡∞ï‡∞ó‡∞£‡∞ø‡∞§‡∞Ç: ‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó‡∞¶‡∞æ‡∞∞‡±Å‡∞°‡±Å ‡∞§‡∞® ‡∞¨‡±ç‡∞Ø‡∞æ‡∞≤‡±Ü‡∞®‡±ç‡∞∏‡±ç‚Äå‡∞®‡±Å ‡∞Ö‡∞Ç‡∞°‡∞∞‡±ç‚Äå‡∞´‡±ç‡∞≤‡±ã ‡∞ö‡±á‡∞∏‡∞ø, ‡∞Ö‡∞™‡∞∞‡∞ø‡∞Æ‡∞ø‡∞§ ‡∞â‡∞ö‡∞ø‡∞§ ‡∞ü‡±ã‡∞ï‡±Ü‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞™‡±ä‡∞Ç‡∞¶‡∞µ‡∞ö‡±ç‡∞ö‡±Å.

### ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞§‡±ã ‡∞í‡∞ï ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞®‡∞ø ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç {#testing-a-property-with-echidna}

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞§‡±ã ‡∞í‡∞ï ‡∞∏‡±ç‡∞Æ‡∞æ‡∞∞‡±ç‡∞ü‡±ç ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞®‡±Å ‡∞é‡∞≤‡∞æ ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡±ã ‡∞Æ‡∞®‡∞Ç ‡∞ö‡±Ç‡∞¶‡±ç‡∞¶‡∞æ‡∞Ç. ‡∞≤‡∞ï‡±ç‡∞∑‡±ç‡∞Ø‡∞Ç ‡∞ï‡∞ø‡∞Ç‡∞¶‡∞ø ‡∞∏‡±ç‡∞Æ‡∞æ‡∞∞‡±ç‡∞ü‡±ç ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±ç [`token.sol`](https://github.com/crytic/building-secure-contracts/blob/master/program-analysis/echidna/example/token.sol):

```solidity
contract Token{
  mapping(address => uint) public balances;
  function airdrop() public{
      balances[msg.sender] = 1000;
  }
  function consume() public{
      require(balances[msg.sender]>0);
      balances[msg.sender] -= 1;
  }
  function backdoor() public{
      balances[msg.sender] += 1;
  }
}
```

‡∞à ‡∞ü‡±ã‡∞ï‡±Ü‡∞®‡±ç‚Äå‡∞ï‡±Å ‡∞ï‡∞ø‡∞Ç‡∞¶‡∞ø ‡∞ó‡±Å‡∞£‡∞æ‡∞≤‡±Å ‡∞§‡∞™‡±ç‡∞™‡∞®‡∞ø‡∞∏‡∞∞‡∞ø‡∞ó‡∞æ ‡∞â‡∞Ç‡∞°‡∞æ‡∞≤‡∞®‡∞ø ‡∞Æ‡∞®‡∞Ç ‡∞ä‡∞π‡∞ø‡∞¶‡±ç‡∞¶‡∞æ‡∞Ç:

- ‡∞é‡∞µ‡∞∞‡±à‡∞®‡∞æ ‡∞ó‡∞∞‡∞ø‡∞∑‡±ç‡∞ü‡∞Ç‡∞ó‡∞æ 1000 ‡∞ü‡±ã‡∞ï‡±Ü‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞ï‡∞≤‡∞ø‡∞ó‡∞ø ‡∞â‡∞Ç‡∞°‡∞µ‡∞ö‡±ç‡∞ö‡±Å
- ‡∞ü‡±ã‡∞ï‡±Ü‡∞®‡±ç‚Äå‡∞®‡±Å ‡∞¨‡∞¶‡∞ø‡∞≤‡±Ä ‡∞ö‡±á‡∞Ø‡∞≤‡±á‡∞∞‡±Å (‡∞á‡∞¶‡∞ø ERC20 ‡∞ü‡±ã‡∞ï‡±Ü‡∞®‡±ç ‡∞ï‡∞æ‡∞¶‡±Å)

### ‡∞í‡∞ï ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞®‡∞ø ‡∞∞‡∞æ‡∞Ø‡∞Ç‡∞°‡∞ø {#write-a-property}

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞≤‡±Å Solidity ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡±Å. ‡∞í‡∞ï ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞ï‡∞ø ‡∞§‡∞™‡±ç‡∞™‡∞®‡∞ø‡∞∏‡∞∞‡∞ø‡∞ó‡∞æ:

- ‡∞Ü‡∞∞‡±ç‡∞ó‡±ç‡∞Ø‡±Å‡∞Æ‡±Ü‡∞Ç‡∞ü‡±ç ‡∞è‡∞¶‡±Ä ‡∞â‡∞Ç‡∞°‡∞ï‡±Ç‡∞°‡∞¶‡±Å
- ‡∞µ‡∞ø‡∞ú‡∞Ø‡∞µ‡∞Ç‡∞§‡∞Æ‡±à‡∞§‡±á `true` ‡∞§‡∞ø‡∞∞‡∞ø‡∞ó‡∞ø ‡∞á‡∞µ‡±ç‡∞µ‡∞æ‡∞≤‡∞ø
- ‡∞¶‡∞æ‡∞®‡∞ø ‡∞™‡±á‡∞∞‡±Å `echidna`‡∞§‡±ã ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞Ç ‡∞ï‡∞æ‡∞µ‡∞æ‡∞≤‡∞ø

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ:

- ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞®‡∞ø ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Ø‡∞æ‡∞¶‡±É‡∞ö‡±ç‡∞õ‡∞ø‡∞ï ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤‡∞®‡±Å ‡∞∏‡±ç‡∞µ‡∞Ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞ï‡∞Ç‡∞ó‡∞æ ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø.
- ‡∞í‡∞ï ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞®‡∞ø `false` ‡∞Ö‡∞®‡∞ø ‡∞§‡∞ø‡∞∞‡∞ø‡∞ó‡∞ø ‡∞á‡∞ö‡±ç‡∞ö‡±á‡∞≤‡∞æ ‡∞ö‡±á‡∞∏‡±á ‡∞≤‡±á‡∞¶‡∞æ ‡∞í‡∞ï ‡∞≤‡±ã‡∞™‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞§‡±ç‡∞∞‡±ã ‡∞ö‡±á‡∞∏‡±á ‡∞è‡∞µ‡±à‡∞®‡∞æ ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤‡∞®‡±Å ‡∞®‡∞ø‡∞µ‡±á‡∞¶‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.
- ‡∞í‡∞ï ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞®‡∞ø ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞∏‡±à‡∞°‡±ç-‡∞é‡∞´‡±Ü‡∞ï‡±ç‡∞ü‡±ç‚Äå‡∞®‡±Å ‡∞µ‡∞ø‡∞∏‡±ç‡∞Æ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø (‡∞Ö‡∞Ç‡∞ü‡±á, ‡∞í‡∞ï‡∞µ‡±á‡∞≥ ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä ‡∞í‡∞ï ‡∞∏‡±ç‡∞ü‡±á‡∞ü‡±ç ‡∞µ‡±á‡∞∞‡∞ø‡∞Ø‡∞¨‡±Å‡∞≤‡±ç‚Äå‡∞®‡±Å ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ö‡∞ø‡∞®‡∞ü‡±ç‡∞≤‡∞Ø‡∞ø‡∞§‡±á, ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑ ‡∞§‡∞∞‡±ç‡∞µ‡∞æ‡∞§ ‡∞Ö‡∞¶‡∞ø ‡∞µ‡∞ø‡∞∏‡±ç‡∞Æ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø)

‡∞ï‡∞ø‡∞Ç‡∞¶‡∞ø ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä ‡∞ï‡∞æ‡∞≤‡∞∞‡±ç‚Äå‡∞ï‡±Å 1000 ‡∞ï‡∞Ç‡∞ü‡±á ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞ü‡±ã‡∞ï‡±Ü‡∞®‡±ç‚Äå‡∞≤‡±Å ‡∞≤‡±á‡∞µ‡∞®‡∞ø ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø:

```solidity
function echidna_balance_under_1000() public view returns(bool){
      return balances[msg.sender] <= 1000;
}
```

‡∞Æ‡±Ä ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞®‡±Å ‡∞Æ‡±Ä ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞≤ ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞µ‡±á‡∞∞‡±Å ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞µ‡∞æ‡∞∞‡∞∏‡∞§‡±ç‡∞µ‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø:

```solidity
contract TestToken is Token{
      function echidna_balance_under_1000() public view returns(bool){
            return balances[msg.sender] <= 1000;
      }
  }
```

[`token.sol`](https://github.com/crytic/building-secure-contracts/blob/master/program-analysis/echidna/example/token.sol) ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞®‡∞ø ‡∞Ö‡∞Æ‡∞≤‡±Å ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞ü‡±ã‡∞ï‡±Ü‡∞®‡±ç ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞µ‡∞æ‡∞∞‡∞∏‡∞§‡±ç‡∞µ‡∞Ç‡∞ó‡∞æ ‡∞™‡±ä‡∞Ç‡∞¶‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.

### ‡∞í‡∞ï ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞®‡±Å ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø {#initiate-a-contract}

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞ï‡±Å ‡∞Ü‡∞∞‡±ç‡∞ó‡±ç‡∞Ø‡±Å‡∞Æ‡±Ü‡∞Ç‡∞ü‡±ç ‡∞≤‡±á‡∞®‡∞ø [‡∞ï‡∞®‡±ç‡∞∏‡±ç‡∞ü‡±ç‡∞∞‡∞ï‡±ç‡∞ü‡∞∞‡±ç](/developers/docs/smart-contracts/anatomy/#constructor-functions) ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Ç. ‡∞Æ‡±Ä ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞ï‡±Å ‡∞í‡∞ï ‡∞®‡∞ø‡∞∞‡±ç‡∞¶‡∞ø‡∞∑‡±ç‡∞ü ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡±Ä‡∞ï‡∞∞‡∞£ ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Æ‡±à‡∞§‡±á, ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞¶‡∞æ‡∞®‡∞ø‡∞®‡∞ø ‡∞ï‡∞®‡±ç‡∞∏‡±ç‡∞ü‡±ç‡∞∞‡∞ï‡±ç‡∞ü‡∞∞‡±ç‚Äå‡∞≤‡±ã ‡∞ö‡±á‡∞Ø‡∞æ‡∞≤‡∞ø.

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞≤‡±ã ‡∞ï‡±ä‡∞®‡±ç‡∞®‡∞ø ‡∞®‡∞ø‡∞∞‡±ç‡∞¶‡∞ø‡∞∑‡±ç‡∞ü ‡∞ö‡∞ø‡∞∞‡±Å‡∞®‡∞æ‡∞Æ‡∞æ‡∞≤‡±Å ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞ø:

- `0x00a329c0648769A73afAc7F9381E08FB43dBEA72` ‡∞á‡∞¶‡∞ø ‡∞ï‡∞®‡±ç‡∞∏‡±ç‡∞ü‡±ç‡∞∞‡∞ï‡±ç‡∞ü‡∞∞‡±ç‚Äå‡∞®‡±Å ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.
- `0x10000`, `0x20000`, ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å `0x00a329C0648769a73afAC7F9381e08fb43DBEA70` ‡∞á‡∞µ‡∞ø ‡∞á‡∞§‡∞∞ ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞Ø‡∞æ‡∞¶‡±É‡∞ö‡±ç‡∞õ‡∞ø‡∞ï‡∞Ç‡∞ó‡∞æ ‡∞™‡∞ø‡∞≤‡±Å‡∞∏‡±ç‡∞§‡∞æ‡∞Ø‡∞ø.

‡∞Æ‡∞® ‡∞™‡±ç‡∞∞‡∞∏‡±ç‡∞§‡±Å‡∞§ ‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£‡∞≤‡±ã ‡∞Æ‡∞®‡∞ï‡±Å ‡∞è ‡∞™‡±ç‡∞∞‡∞§‡±ç‡∞Ø‡±á‡∞ï ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡±Ä‡∞ï‡∞∞‡∞£ ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Ç ‡∞≤‡±á‡∞¶‡±Å, ‡∞´‡∞≤‡∞ø‡∞§‡∞Ç‡∞ó‡∞æ ‡∞Æ‡∞® ‡∞ï‡∞®‡±ç‡∞∏‡±ç‡∞ü‡±ç‡∞∞‡∞ï‡±ç‡∞ü‡∞∞‡±ç ‡∞ñ‡∞æ‡∞≥‡±Ä‡∞ó‡∞æ ‡∞â‡∞Ç‡∞¶‡∞ø.

### ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø {#run-echidna}

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞¶‡±Ä‡∞®‡∞ø‡∞§‡±ã ‡∞≤‡∞æ‡∞Ç‡∞ö‡±ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡∞æ‡∞∞‡±Å:

```bash
echidna-test contract.sol
```

‡∞í‡∞ï‡∞µ‡±á‡∞≥ contract.sol‡∞≤‡±ã ‡∞¨‡∞π‡±Å‡∞≥ ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞≤‡±Å ‡∞â‡∞Ç‡∞ü‡±á, ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞≤‡∞ï‡±ç‡∞∑‡±ç‡∞Ø‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞á‡∞≤‡∞æ ‡∞™‡±á‡∞∞‡±ç‡∞ï‡±ä‡∞®‡∞µ‡∞ö‡±ç‡∞ö‡±Å:

```bash
echidna-test contract.sol --contract MyContract
```

### ‡∞∏‡∞æ‡∞∞‡∞æ‡∞Ç‡∞∂‡∞Ç: ‡∞í‡∞ï ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞®‡∞ø ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç {#summary-testing-a-property}

‡∞ï‡∞ø‡∞Ç‡∞¶‡∞ø‡∞¶‡∞ø ‡∞Æ‡∞® ‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£‡∞™‡±à ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞∞‡∞®‡±ç‚Äå‡∞®‡±Å ‡∞∏‡∞Ç‡∞ó‡±ç‡∞∞‡∞π‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø:

```solidity
contract TestToken is Token{
    constructor() public {}
        function echidna_balance_under_1000() public view returns(bool){
          return balances[msg.sender] <= 1000;
        }
  }
```

```bash
echidna-test testtoken.sol --contract TestToken
...

echidna_balance_under_1000: failed!üí•
  Call sequence, shrinking (1205/5000):
    airdrop()
    backdoor()

...
```

`backdoor`‡∞®‡±Å ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞∏‡∞ø‡∞®‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä ‡∞â‡∞≤‡±ç‡∞≤‡∞Ç‡∞ò‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞®‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞Ç‡∞¶‡∞ø.

## ‡∞´‡∞ú‡±ç‡∞ú‡∞ø‡∞Ç‡∞ó‡±ç ‡∞ï‡±ç‡∞Ø‡∞æ‡∞Ç‡∞™‡±Ü‡∞Ø‡∞ø‡∞®‡±ç ‡∞∏‡∞Æ‡∞Ø‡∞Ç‡∞≤‡±ã ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞´‡∞ø‡∞≤‡±ç‡∞ü‡∞∞‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç {#filtering-functions-to-call-during-a-fuzzing-campaign}

‡∞´‡∞ú‡±ç ‡∞ö‡±á‡∞Ø‡∞µ‡∞≤‡∞∏‡∞ø‡∞® ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞é‡∞≤‡∞æ ‡∞´‡∞ø‡∞≤‡±ç‡∞ü‡∞∞‡±ç ‡∞ö‡±á‡∞Ø‡∞æ‡∞≤‡±ã ‡∞Æ‡∞®‡∞Ç ‡∞ö‡±Ç‡∞¶‡±ç‡∞¶‡∞æ‡∞Ç.
‡∞≤‡∞ï‡±ç‡∞∑‡±ç‡∞Ø‡∞Ç ‡∞ï‡∞ø‡∞Ç‡∞¶‡∞ø ‡∞∏‡±ç‡∞Æ‡∞æ‡∞∞‡±ç‡∞ü‡±ç ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±ç:

```solidity
contract C {
  bool state1 = false;
  bool state2 = false;
  bool state3 = false;
  bool state4 = false;

  function f(uint x) public {
    require(x == 12);
    state1 = true;
  }

  function g(uint x) public {
    require(state1);
    require(x == 8);
    state2 = true;
  }

  function h(uint x) public {
    require(state2);
    require(x == 42);
    state3 = true;
  }

 function i() public {
    require(state3);
    state4 = true;
  }

  function reset1() public {
    state1 = false;
    state2 = false;
    state3 = false;
    return;
  }

  function reset2() public {
    state1 = false;
    state2 = false;
    state3 = false;
    return;
  }

  function echidna_state4() public returns (bool) {
    return (!state4);
  }
}
```

‡∞à ‡∞ö‡∞ø‡∞®‡±ç‡∞® ‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£ ‡∞í‡∞ï ‡∞∏‡±ç‡∞ü‡±á‡∞ü‡±ç ‡∞µ‡±á‡∞∞‡∞ø‡∞Ø‡∞¨‡±Å‡∞≤‡±ç‚Äå‡∞®‡±Å ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤ ‡∞Ø‡±ä‡∞ï‡±ç‡∞ï ‡∞í‡∞ï ‡∞®‡∞ø‡∞∞‡±ç‡∞¶‡∞ø‡∞∑‡±ç‡∞ü ‡∞ï‡±ç‡∞∞‡∞Æ‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞Æ‡∞®‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞¨‡∞≤‡∞µ‡∞Ç‡∞§‡∞Ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.
‡∞á‡∞¶‡∞ø ‡∞´‡∞ú‡∞∞‡±ç ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞ï‡∞∑‡±ç‡∞ü‡∞Ç (‡∞∏‡∞ø‡∞Ç‡∞¨‡∞æ‡∞≤‡∞ø‡∞ï‡±ç ‡∞é‡∞ó‡±ç‡∞ú‡∞ø‡∞ï‡±ç‡∞Ø‡±Ç‡∞∑‡∞®‡±ç ‡∞∏‡∞æ‡∞ß‡∞®‡∞Ç [Manticore](https://github.com/trailofbits/manticore) ‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Æ‡∞®‡∞ø ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø).
‡∞¶‡±Ä‡∞®‡∞ø‡∞®‡∞ø ‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞®‡∞Ç ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å:

```bash
echidna-test multi.sol
...
echidna_state4: passed! üéâ
Seed: -3684648582249875403
```

### ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞´‡∞ø‡∞≤‡±ç‡∞ü‡∞∞‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç {#filtering-functions}

‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞∞‡±Ä‡∞∏‡±Ü‡∞ü‡±ç ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡±Å (`reset1` ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å `reset2`) ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞∏‡±ç‡∞ü‡±á‡∞ü‡±ç ‡∞µ‡±á‡∞∞‡∞ø‡∞Ø‡∞¨‡±Å‡∞≤‡±ç‡∞∏‡±ç‚Äå‡∞®‡±Å `false`‡∞ï‡∞ø ‡∞∏‡±Ü‡∞ü‡±ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡∞æ‡∞Ø‡∞ø ‡∞ï‡∞æ‡∞¨‡∞ü‡±ç‡∞ü‡∞ø, ‡∞à ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞®‡±Å ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞∏‡∞∞‡±à‡∞® ‡∞ï‡±ç‡∞∞‡∞Æ‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞°‡∞Ç‡∞≤‡±ã ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞ï‡±Å ‡∞á‡∞¨‡±ç‡∞¨‡∞Ç‡∞¶‡∞ø ‡∞â‡∞Ç‡∞¶‡∞ø.
‡∞Ö‡∞Ø‡∞ø‡∞§‡±á, ‡∞∞‡±Ä‡∞∏‡±Ü‡∞ü‡±ç ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞®‡±Å ‡∞¨‡±ç‡∞≤‡∞æ‡∞ï‡±ç‚Äå‡∞≤‡∞ø‡∞∏‡±ç‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞≤‡±á‡∞¶‡∞æ `f`, `g`, `h` ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å `i` ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞Æ‡∞æ‡∞§‡±ç‡∞∞‡∞Æ‡±á ‡∞µ‡±à‡∞ü‡±ç‚Äå‡∞≤‡∞ø‡∞∏‡±ç‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞®‡∞Ç ‡∞í‡∞ï ‡∞™‡±ç‡∞∞‡∞§‡±ç‡∞Ø‡±á‡∞ï ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞´‡±Ä‡∞ö‡∞∞‡±ç‚Äå‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞µ‡∞ö‡±ç‡∞ö‡±Å.

‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞¨‡±ç‡∞≤‡∞æ‡∞ï‡±ç‚Äå‡∞≤‡∞ø‡∞∏‡±ç‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø, ‡∞Æ‡∞®‡∞Ç ‡∞à ‡∞ï‡∞æ‡∞®‡±ç‡∞´‡∞ø‡∞ó‡∞∞‡±á‡∞∑‡∞®‡±ç ‡∞´‡±à‡∞≤‡±ç‚Äå‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞µ‡∞ö‡±ç‡∞ö‡±Å:

```yaml
filterBlacklist: true
filterFunctions: ["reset1", "reset2"]
```

‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞´‡∞ø‡∞≤‡±ç‡∞ü‡∞∞‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞∞‡±ä‡∞ï ‡∞µ‡∞ø‡∞ß‡∞æ‡∞®‡∞Ç ‡∞µ‡±à‡∞ü‡±ç‚Äå‡∞≤‡∞ø‡∞∏‡±ç‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡∞ø‡∞® ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞ú‡∞æ‡∞¨‡∞ø‡∞§‡∞æ ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç. ‡∞Ö‡∞¶‡∞ø ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø, ‡∞Æ‡∞®‡∞Ç ‡∞à ‡∞ï‡∞æ‡∞®‡±ç‡∞´‡∞ø‡∞ó‡∞∞‡±á‡∞∑‡∞®‡±ç ‡∞´‡±à‡∞≤‡±ç‚Äå‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞µ‡∞ö‡±ç‡∞ö‡±Å:

```yaml
filterBlacklist: false
filterFunctions: ["f", "g", "h", "i"]
```

- `filterBlacklist` ‡∞°‡∞ø‡∞´‡∞æ‡∞≤‡±ç‡∞ü‡±ç‚Äå‡∞ó‡∞æ `true`.
- ‡∞´‡∞ø‡∞≤‡±ç‡∞ü‡∞∞‡∞ø‡∞Ç‡∞ó‡±ç ‡∞™‡±á‡∞∞‡±Å‡∞§‡±ã ‡∞Æ‡∞æ‡∞§‡±ç‡∞∞‡∞Æ‡±á ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø (‡∞™‡∞∞‡∞æ‡∞Æ‡∞ø‡∞§‡±Å‡∞≤‡±Å ‡∞≤‡±á‡∞ï‡±Å‡∞Ç‡∞°‡∞æ). ‡∞Æ‡±Ä‡∞ï‡±Å `f()` ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å `f(uint256)` ‡∞â‡∞Ç‡∞ü‡±á, `"f"` ‡∞´‡∞ø‡∞≤‡±ç‡∞ü‡∞∞‡±ç ‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞ï‡±Å ‡∞∏‡∞∞‡∞ø‡∞™‡±ã‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.

### ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø {#run-echidna-1}

‡∞ï‡∞æ‡∞®‡±ç‡∞´‡∞ø‡∞ó‡∞∞‡±á‡∞∑‡∞®‡±ç ‡∞´‡±à‡∞≤‡±ç `blacklist.yaml`‡∞§‡±ã ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø:

```bash
echidna-test multi.sol --config blacklist.yaml
...
echidna_state4: failed!üí•
  Call sequence:
    f(12)
    g(8)
    h(42)
    i()
```

‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞®‡∞ø ‡∞§‡∞™‡±ç‡∞™‡±Å‡∞ó‡∞æ ‡∞®‡∞ø‡∞∞‡±Ç‡∞™‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤ ‡∞ï‡±ç‡∞∞‡∞Æ‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞¶‡∞æ‡∞¶‡∞æ‡∞™‡±Å ‡∞µ‡±Ü‡∞Ç‡∞ü‡∞®‡±á ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞Ç‡∞ü‡±Å‡∞Ç‡∞¶‡∞ø.

### ‡∞∏‡∞æ‡∞∞‡∞æ‡∞Ç‡∞∂‡∞Ç: ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞´‡∞ø‡∞≤‡±ç‡∞ü‡∞∞‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç {#summary-filtering-functions}

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞í‡∞ï ‡∞´‡∞ú‡±ç‡∞ú‡∞ø‡∞Ç‡∞ó‡±ç ‡∞ï‡±ç‡∞Ø‡∞æ‡∞Ç‡∞™‡±Ü‡∞Ø‡∞ø‡∞®‡±ç ‡∞∏‡∞Æ‡∞Ø‡∞Ç‡∞≤‡±ã ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞¨‡±ç‡∞≤‡∞æ‡∞ï‡±ç‚Äå‡∞≤‡∞ø‡∞∏‡±ç‡∞ü‡±ç ‡∞≤‡±á‡∞¶‡∞æ ‡∞µ‡±à‡∞ü‡±ç‚Äå‡∞≤‡∞ø‡∞∏‡±ç‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞ó‡∞≤‡∞¶‡±Å:

```yaml
filterBlacklist: true
filterFunctions: ["f1", "f2", "f3"]
```

```bash
echidna-test contract.sol --config config.yaml
...
```

`filterBlacklist` ‡∞¨‡±Ç‡∞≤‡∞ø‡∞Ø‡∞®‡±ç ‡∞µ‡∞ø‡∞≤‡±Å‡∞µ ‡∞™‡±ç‡∞∞‡∞ï‡∞æ‡∞∞‡∞Ç, ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ `f1`, `f2` ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å `f3`‡∞≤‡∞®‡±Å ‡∞¨‡±ç‡∞≤‡∞æ‡∞ï‡±ç‚Äå‡∞≤‡∞ø‡∞∏‡±ç‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç ‡∞≤‡±á‡∞¶‡∞æ ‡∞ï‡±á‡∞µ‡∞≤‡∞Ç ‡∞µ‡±Ä‡∞ü‡∞ø‡∞®‡∞ø ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç ‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ ‡∞´‡∞ú‡±ç‡∞ú‡∞ø‡∞Ç‡∞ó‡±ç ‡∞™‡±ç‡∞∞‡∞ö‡∞æ‡∞∞‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.

## ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞§‡±ã Solidity ‡∞Ø‡±ä‡∞ï‡±ç‡∞ï assert ‡∞®‡±Å ‡∞é‡∞≤‡∞æ ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞ø {#how-to-test-soliditys-assert-with-echidna}

‡∞à ‡∞ö‡∞ø‡∞®‡±ç‡∞® ‡∞ü‡±ç‡∞Ø‡±Å‡∞ü‡±ã‡∞∞‡∞ø‡∞Ø‡∞≤‡±ç‚Äå‡∞≤‡±ã, ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞≤‡∞≤‡±ã‡∞®‡∞ø ‡∞Ö‡∞∏‡±Ü‡∞∞‡±ç‡∞∑‡∞®‡±ç ‡∞ö‡±Ü‡∞ï‡∞ø‡∞Ç‡∞ó‡±ç‚Äå‡∞®‡±Å ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞é‡∞≤‡∞æ ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡±ã ‡∞Æ‡±á‡∞Æ‡±Å ‡∞ö‡±Ç‡∞™‡∞¨‡±ã‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞Æ‡±Å. ‡∞Æ‡∞® ‡∞¶‡∞ó‡±ç‡∞ó‡∞∞ ‡∞á‡∞≤‡∞æ‡∞Ç‡∞ü‡∞ø ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±ç ‡∞â‡∞Ç‡∞¶‡∞®‡∞ø ‡∞Ö‡∞®‡±Å‡∞ï‡±Å‡∞Ç‡∞¶‡∞æ‡∞Ç:

```solidity
contract Incrementor {
  uint private counter = 2**200;

  function inc(uint val) public returns (uint){
    uint tmp = counter;
    counter += val;
    // tmp <= counter
    return (counter - tmp);
  }
}
```

### ‡∞í‡∞ï ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞®‡±Å ‡∞∞‡∞æ‡∞Ø‡∞Ç‡∞°‡∞ø {#write-an-assertion}

‡∞¶‡∞æ‡∞®‡∞ø ‡∞µ‡±ç‡∞Ø‡∞§‡±ç‡∞Ø‡∞æ‡∞∏‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞§‡∞ø‡∞∞‡∞ø‡∞ó‡∞ø ‡∞á‡∞ö‡±ç‡∞ö‡∞ø‡∞® ‡∞§‡∞∞‡±ç‡∞µ‡∞æ‡∞§ `tmp` ‡∞Ö‡∞®‡±á‡∞¶‡∞ø `counter` ‡∞ï‡∞Ç‡∞ü‡±á ‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞≤‡±á‡∞¶‡∞æ ‡∞∏‡∞Æ‡∞æ‡∞®‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞¶‡∞®‡∞ø ‡∞Æ‡∞®‡∞Ç ‡∞®‡∞ø‡∞∞‡±ç‡∞ß‡∞æ‡∞∞‡∞ø‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞µ‡∞æ‡∞≤‡∞ø. ‡∞Æ‡∞®‡∞Ç ‡∞í‡∞ï ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞®‡∞ø ‡∞µ‡±ç‡∞∞‡∞æ‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å, ‡∞ï‡∞æ‡∞®‡±Ä ‡∞Æ‡∞®‡∞Ç `tmp` ‡∞µ‡∞ø‡∞≤‡±Å‡∞µ‡∞®‡±Å ‡∞é‡∞ï‡±ç‡∞ï‡∞°‡±ã ‡∞®‡∞ø‡∞≤‡±ç‡∞µ ‡∞ö‡±á‡∞Ø‡∞µ‡∞≤‡∞∏‡∞ø ‡∞â‡∞Ç‡∞ü‡±Å‡∞Ç‡∞¶‡∞ø. ‡∞¶‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞¨‡∞¶‡±Å‡∞≤‡±Å‡∞ó‡∞æ, ‡∞Æ‡∞®‡∞Ç ‡∞á‡∞≤‡∞æ‡∞Ç‡∞ü‡∞ø ‡∞í‡∞ï ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞µ‡∞ö‡±ç‡∞ö‡±Å:

```solidity
contract Incrementor {
  uint private counter = 2**200;

  function inc(uint val) public returns (uint){
    uint tmp = counter;
    counter += val;
    assert (tmp <= counter);
    return (counter - tmp);
  }
}
```

### ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø {#run-echidna-2}

‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç ‡∞µ‡±à‡∞´‡∞≤‡±ç‡∞Ø‡∞Ç ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞®‡±Å ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø, ‡∞í‡∞ï [Echidna ‡∞ï‡∞æ‡∞®‡±ç‡∞´‡∞ø‡∞ó‡∞∞‡±á‡∞∑‡∞®‡±ç ‡∞´‡±à‡∞≤‡±ç](https://github.com/crytic/echidna/wiki/Config) `config.yaml`‡∞®‡±Å ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø:

```yaml
checkAsserts: true
```

‡∞Æ‡∞®‡∞Ç ‡∞à ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±Å‡∞®‡±Å ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞≤‡±ã ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞∏‡∞ø‡∞®‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å, ‡∞Æ‡∞®‡∞Ç ‡∞Ü‡∞∂‡∞ø‡∞Ç‡∞ö‡∞ø‡∞® ‡∞´‡∞≤‡∞ø‡∞§‡∞æ‡∞≤‡∞®‡±Å ‡∞™‡±ä‡∞Ç‡∞¶‡±Å‡∞§‡∞æ‡∞Æ‡±Å:

```bash
echidna-test assert.sol --config config.yaml
Analyzing contract: assert.sol:Incrementor
assertion in inc: failed!üí•
  Call sequence, shrinking (2596/5000):
    inc(21711016731996786641919559689128982722488122124807605757398297001483711807488)
    inc(7237005577332262213973186563042994240829374041602535252466099000494570602496)
    inc(86844066927987146567678238756515930889952488499230423029593188005934847229952)

Seed: 1806480648350826486
```

‡∞Æ‡±Ä‡∞∞‡±Å ‡∞ö‡±Ç‡∞°‡∞ó‡∞≤‡∞ø‡∞ó‡∞ø‡∞®‡∞ü‡±ç‡∞≤‡±Å‡∞ó‡∞æ, ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ `inc` ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡±ã ‡∞ï‡±ä‡∞®‡±ç‡∞®‡∞ø ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç ‡∞µ‡±à‡∞´‡∞≤‡±ç‡∞Ø‡∞æ‡∞≤‡∞®‡±Å ‡∞®‡∞ø‡∞µ‡±á‡∞¶‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø. ‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞ï‡±Å ‡∞í‡∞ï‡∞ü‡∞ø ‡∞ï‡∞Ç‡∞ü‡±á ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞ú‡±ã‡∞°‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç ‡∞∏‡∞æ‡∞ß‡±ç‡∞Ø‡∞Æ‡±á, ‡∞ï‡∞æ‡∞®‡±Ä ‡∞è ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç ‡∞µ‡∞ø‡∞´‡∞≤‡∞Æ‡±à‡∞Ç‡∞¶‡±ã ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞≤‡±á‡∞¶‡±Å.

### ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞é‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞é‡∞≤‡∞æ ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞ø {#when-and-how-use-assertions}

‡∞§‡∞®‡∞ø‡∞ñ‡±Ä ‡∞ö‡±á‡∞Ø‡∞µ‡∞≤‡∞∏‡∞ø‡∞® ‡∞∑‡∞∞‡∞§‡±Å‡∞≤‡±Å ‡∞®‡±á‡∞∞‡±Å‡∞ó‡∞æ ‡∞ï‡±ä‡∞®‡±ç‡∞®‡∞ø ‡∞Ü‡∞™‡∞∞‡±á‡∞∑‡∞®‡±ç `f` ‡∞Ø‡±ä‡∞ï‡±ç‡∞ï ‡∞∏‡∞∞‡±à‡∞® ‡∞µ‡∞æ‡∞°‡∞ï‡∞Ç‡∞§‡±ã ‡∞∏‡∞Ç‡∞¨‡∞Ç‡∞ß‡∞Ç ‡∞ï‡∞≤‡∞ø‡∞ó‡∞ø ‡∞â‡∞Ç‡∞ü‡±á, ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞∏‡±ç‡∞™‡∞∑‡±ç‡∞ü‡∞Æ‡±à‡∞® ‡∞≤‡∞ï‡±ç‡∞∑‡∞£‡∞æ‡∞≤‡∞ï‡±Å ‡∞™‡±ç‡∞∞‡∞§‡±ç‡∞Ø‡∞æ‡∞Æ‡±ç‡∞®‡∞æ‡∞Ø‡∞Ç‡∞ó‡∞æ ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞µ‡∞ö‡±ç‡∞ö‡±Å. ‡∞ï‡±ä‡∞®‡±ç‡∞®‡∞ø ‡∞ï‡±ã‡∞°‡±ç ‡∞§‡∞∞‡±ç‡∞µ‡∞æ‡∞§ ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞ú‡±ã‡∞°‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç ‡∞µ‡∞≤‡∞® ‡∞Ö‡∞¶‡∞ø ‡∞Ö‡∞Æ‡∞≤‡±Å ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡∞ø‡∞® ‡∞µ‡±Ü‡∞Ç‡∞ü‡∞®‡±á ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä ‡∞ú‡∞∞‡±Å‡∞ó‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞®‡∞ø ‡∞®‡∞ø‡∞∞‡±ç‡∞ß‡∞æ‡∞∞‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø:

```solidity
function f(..) public {
    // some complex code
    ...
    assert (condition);
    ...
}

```

‡∞¶‡±Ä‡∞®‡∞ø‡∞ï‡∞ø ‡∞µ‡∞ø‡∞∞‡±Å‡∞¶‡±ç‡∞ß‡∞Ç‡∞ó‡∞æ, ‡∞∏‡±ç‡∞™‡∞∑‡±ç‡∞ü‡∞Æ‡±à‡∞® ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞®‡∞ø ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç ‡∞Ø‡∞æ‡∞¶‡±É‡∞ö‡±ç‡∞õ‡∞ø‡∞ï‡∞Ç‡∞ó‡∞æ ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤‡∞®‡±Å ‡∞Ö‡∞Æ‡∞≤‡±Å ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Ö‡∞¶‡∞ø ‡∞é‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡±ã ‡∞ï‡∞ö‡±ç‡∞ö‡∞ø‡∞§‡∞Ç‡∞ó‡∞æ ‡∞Ö‡∞Æ‡∞≤‡±Å ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞∏‡±Å‡∞≤‡∞≠‡∞Æ‡±à‡∞® ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ó‡∞Ç ‡∞≤‡±á‡∞¶‡±Å. ‡∞à ‡∞§‡∞æ‡∞§‡±ç‡∞ï‡∞æ‡∞≤‡∞ø‡∞ï ‡∞™‡∞∞‡∞ø‡∞∑‡±ç‡∞ï‡∞æ‡∞∞‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç ‡∞á‡∞Ç‡∞ï‡∞æ ‡∞∏‡∞æ‡∞ß‡±ç‡∞Ø‡∞Æ‡±á:

```solidity
function echidna_assert_after_f() public returns (bool) {
    f(..);
    return(condition);
}
```

‡∞Ö‡∞Ø‡∞ø‡∞§‡±á, ‡∞ï‡±ä‡∞®‡±ç‡∞®‡∞ø ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø‡∞≤‡±Å ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞ø:

- ‡∞í‡∞ï‡∞µ‡±á‡∞≥ `f`‡∞®‡±Å `internal` ‡∞≤‡±á‡∞¶‡∞æ `external`‡∞ó‡∞æ ‡∞™‡±ç‡∞∞‡∞ï‡∞ü‡∞ø‡∞Ç‡∞ö‡∞ø‡∞®‡∞ü‡±ç‡∞≤‡∞Ø‡∞ø‡∞§‡±á ‡∞á‡∞¶‡∞ø ‡∞µ‡∞ø‡∞´‡∞≤‡∞Æ‡∞µ‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.
- `f`‡∞®‡±Å ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞è ‡∞Ü‡∞∞‡±ç‡∞ó‡±ç‡∞Ø‡±Å‡∞Æ‡±Ü‡∞Ç‡∞ü‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡±ã ‡∞Ö‡∞∏‡±ç‡∞™‡∞∑‡±ç‡∞ü‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞¶‡∞ø.
- ‡∞í‡∞ï‡∞µ‡±á‡∞≥ `f` ‡∞§‡∞ø‡∞∞‡∞ø‡∞ó‡∞ø ‡∞µ‡∞∏‡±ç‡∞§‡±á, ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä ‡∞µ‡∞ø‡∞´‡∞≤‡∞Æ‡∞µ‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.

‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£‡∞Ç‡∞ó‡∞æ, ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞é‡∞≤‡∞æ ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞®‡±á ‡∞¶‡∞æ‡∞®‡∞ø‡∞™‡±à [‡∞ú‡∞æ‡∞®‡±ç ‡∞∞‡±Ü‡∞ó‡±Ü‡∞∞‡±ç ‡∞Ø‡±ä‡∞ï‡±ç‡∞ï ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å](https://blog.regehr.org/archives/1091) ‡∞®‡±Å ‡∞Ö‡∞®‡±Å‡∞∏‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Æ‡∞®‡∞ø ‡∞Æ‡±á‡∞Æ‡±Å ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞Æ‡±Å:

- ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç ‡∞ö‡±Ü‡∞ï‡∞ø‡∞Ç‡∞ó‡±ç ‡∞∏‡∞Æ‡∞Ø‡∞Ç‡∞≤‡±ã ‡∞è ‡∞∏‡±à‡∞°‡±ç ‡∞é‡∞´‡±Ü‡∞ï‡±ç‡∞ü‡±ç‚Äå‡∞®‡±Å ‡∞¨‡∞≤‡∞µ‡∞Ç‡∞§‡∞Ç ‡∞ö‡±á‡∞Ø‡∞µ‡∞¶‡±ç‡∞¶‡±Å. ‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£‡∞ï‡±Å: `assert(ChangeStateAndReturn() == 1)`
- ‡∞∏‡±ç‡∞™‡∞∑‡±ç‡∞ü‡∞Æ‡±à‡∞® ‡∞µ‡∞æ‡∞ï‡±ç‡∞Ø‡∞æ‡∞≤‡∞®‡±Å ‡∞Ö‡∞∏‡∞∞‡±ç‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞µ‡∞¶‡±ç‡∞¶‡±Å. ‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£‡∞ï‡±Å `assert(var >= 0)` ‡∞á‡∞ï‡±ç‡∞ï‡∞° `var` ‡∞®‡±Å `uint` ‡∞ó‡∞æ ‡∞™‡±ç‡∞∞‡∞ï‡∞ü‡∞ø‡∞Ç‡∞ö‡∞æ‡∞∞‡±Å.

‡∞ö‡∞ø‡∞µ‡∞∞‡∞ó‡∞æ, ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø `assert`‡∞ï‡±Å ‡∞¨‡∞¶‡±Å‡∞≤‡±Å‡∞ó‡∞æ `require`‡∞®‡±Å **‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞µ‡∞¶‡±ç‡∞¶‡±Å**, ‡∞é‡∞Ç‡∞¶‡±Å‡∞ï‡∞Ç‡∞ü‡±á ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞¶‡∞æ‡∞®‡∞ø‡∞®‡∞ø ‡∞ó‡±Å‡∞∞‡±ç‡∞§‡∞ø‡∞Ç‡∞ö‡∞≤‡±á‡∞¶‡±Å (‡∞ï‡∞æ‡∞®‡±Ä ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±ç ‡∞è‡∞Æ‡±à‡∞®‡∞™‡±ç‡∞™‡∞ü‡∞ø‡∞ï‡±Ä ‡∞∞‡∞ø‡∞µ‡∞∞‡±ç‡∞ü‡±ç ‡∞Ö‡∞µ‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø).

### ‡∞∏‡∞æ‡∞∞‡∞æ‡∞Ç‡∞∂‡∞Ç: ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä {#summary-assertion-checking}

‡∞ï‡∞ø‡∞Ç‡∞¶‡∞ø‡∞¶‡∞ø ‡∞Æ‡∞® ‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£‡∞™‡±à ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞∞‡∞®‡±ç‚Äå‡∞®‡±Å ‡∞∏‡∞Ç‡∞ó‡±ç‡∞∞‡∞π‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø:

```solidity
contract Incrementor {
  uint private counter = 2**200;

  function inc(uint val) public returns (uint){
    uint tmp = counter;
    counter += val;
    assert (tmp <= counter);
    return (counter - tmp);
  }
}
```

```bash
echidna-test assert.sol --config config.yaml
Analyzing contract: assert.sol:Incrementor
assertion in inc: failed!üí•
  Call sequence, shrinking (2596/5000):
    inc(21711016731996786641919559689128982722488122124807605757398297001483711807488)
    inc(7237005577332262213973186563042994240829374041602535252466099000494570602496)
    inc(86844066927987146567678238756515930889952488499230423029593188005934847229952)

Seed: 1806480648350826486
```

‡∞à ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞®‡±Å ‡∞™‡±Ü‡∞¶‡±ç‡∞¶ ‡∞Ü‡∞∞‡±ç‡∞ó‡±ç‡∞Ø‡±Å‡∞Æ‡±Ü‡∞Ç‡∞ü‡±ç‚Äå‡∞≤‡∞§‡±ã ‡∞ö‡∞æ‡∞≤‡∞æ‡∞∏‡∞æ‡∞∞‡±ç‡∞≤‡±Å ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±á `inc` ‡∞≤‡±ã‡∞®‡∞ø ‡∞Ö‡∞∏‡∞∞‡±ç‡∞∑‡∞®‡±ç ‡∞µ‡∞ø‡∞´‡∞≤‡∞Æ‡∞µ‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞®‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞Ç‡∞¶‡∞ø.

## ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞ï‡∞æ‡∞∞‡±ç‡∞™‡∞∏‡±ç‚Äå‡∞®‡±Å ‡∞∏‡±á‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∏‡∞µ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç {#collecting-and-modifying-an-echidna-corpus}

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞§‡±ã ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤ ‡∞ï‡∞æ‡∞∞‡±ç‡∞™‡∞∏‡±ç‚Äå‡∞®‡±Å ‡∞é‡∞≤‡∞æ ‡∞∏‡±á‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡±ã ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡±ã ‡∞Æ‡∞®‡∞Ç ‡∞ö‡±Ç‡∞¶‡±ç‡∞¶‡∞æ‡∞Ç. ‡∞≤‡∞ï‡±ç‡∞∑‡±ç‡∞Ø‡∞Ç ‡∞ï‡∞ø‡∞Ç‡∞¶‡∞ø ‡∞∏‡±ç‡∞Æ‡∞æ‡∞∞‡±ç‡∞ü‡±ç ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±ç [`magic.sol`](https://github.com/crytic/building-secure-contracts/blob/master/program-analysis/echidna/example/magic.sol):

```solidity
contract C {
  bool value_found = false;
  function magic(uint magic_1, uint magic_2, uint magic_3, uint magic_4) public {
    require(magic_1 == 42);
    require(magic_2 == 129);
    require(magic_3 == magic_4+333);
    value_found = true;
    return;
  }

  function echidna_magic_values() public returns (bool) {
    return !value_found;
  }

}
```

‡∞à ‡∞ö‡∞ø‡∞®‡±ç‡∞® ‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£ ‡∞í‡∞ï ‡∞∏‡±ç‡∞ü‡±á‡∞ü‡±ç ‡∞µ‡±á‡∞∞‡∞ø‡∞Ø‡∞¨‡±Å‡∞≤‡±ç‚Äå‡∞®‡±Å ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞ï‡±ä‡∞®‡±ç‡∞®‡∞ø ‡∞µ‡∞ø‡∞≤‡±Å‡∞µ‡∞≤‡∞®‡±Å ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞Æ‡∞®‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞¨‡∞≤‡∞µ‡∞Ç‡∞§‡∞Ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø. ‡∞á‡∞¶‡∞ø ‡∞´‡∞ú‡∞∞‡±ç ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞ï‡∞∑‡±ç‡∞ü‡∞Ç
(‡∞∏‡∞ø‡∞Ç‡∞¨‡∞æ‡∞≤‡∞ø‡∞ï‡±ç ‡∞é‡∞ó‡±ç‡∞ú‡∞ø‡∞ï‡±ç‡∞Ø‡±Ç‡∞∑‡∞®‡±ç ‡∞∏‡∞æ‡∞ß‡∞®‡∞Ç [Manticore](https://github.com/trailofbits/manticore) ‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Æ‡∞®‡∞ø ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø).
‡∞¶‡±Ä‡∞®‡∞ø‡∞®‡∞ø ‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞®‡∞Ç ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å:

```bash
echidna-test magic.sol
...

echidna_magic_values: passed! üéâ

Seed: 2221503356319272685
```

‡∞Ö‡∞Ø‡∞ø‡∞§‡±á, ‡∞à ‡∞´‡∞ú‡±ç‡∞ú‡∞ø‡∞Ç‡∞ó‡±ç ‡∞ï‡±ç‡∞Ø‡∞æ‡∞Ç‡∞™‡±Ü‡∞Ø‡∞ø‡∞®‡±ç‚Äå‡∞®‡±Å ‡∞Ö‡∞Æ‡∞≤‡±Å ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞ï‡∞æ‡∞∞‡±ç‡∞™‡∞∏‡±ç ‡∞∏‡±á‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞®‡∞Ç ‡∞á‡∞Ç‡∞ï‡∞æ ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞µ‡∞ö‡±ç‡∞ö‡±Å.

### ‡∞í‡∞ï ‡∞ï‡∞æ‡∞∞‡±ç‡∞™‡∞∏‡±ç‚Äå‡∞®‡±Å ‡∞∏‡±á‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç {#collecting-a-corpus}

‡∞ï‡∞æ‡∞∞‡±ç‡∞™‡∞∏‡±ç ‡∞∏‡±á‡∞ï‡∞∞‡∞£‡∞®‡±Å ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø, ‡∞í‡∞ï ‡∞ï‡∞æ‡∞∞‡±ç‡∞™‡∞∏‡±ç ‡∞°‡±à‡∞∞‡±Ü‡∞ï‡±ç‡∞ü‡∞∞‡±Ä‡∞®‡∞ø ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø:

```bash
mkdir corpus-magic
```

‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞í‡∞ï [Echidna ‡∞ï‡∞æ‡∞®‡±ç‡∞´‡∞ø‡∞ó‡∞∞‡±á‡∞∑‡∞®‡±ç ‡∞´‡±à‡∞≤‡±ç](https://github.com/crytic/echidna/wiki/Config) `config.yaml`:

```yaml
coverage: true
corpusDir: "corpus-magic"
```

‡∞á‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞Æ‡∞®‡∞Ç ‡∞Æ‡∞® ‡∞∏‡∞æ‡∞ß‡∞®‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∏‡±á‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø‡∞® ‡∞ï‡∞æ‡∞∞‡±ç‡∞™‡∞∏‡±ç‚Äå‡∞®‡±Å ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä ‡∞ö‡±á‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å:

```bash
echidna-test magic.sol --config config.yaml
```

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞á‡∞™‡±ç‡∞™‡∞ü‡∞ø‡∞ï‡±Ä ‡∞∏‡∞∞‡±à‡∞® ‡∞Æ‡±á‡∞ú‡∞ø‡∞ï‡±ç ‡∞µ‡∞ø‡∞≤‡±Å‡∞µ‡∞≤‡∞®‡±Å ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞≤‡±á‡∞¶‡±Å, ‡∞ï‡∞æ‡∞®‡±Ä ‡∞Ö‡∞¶‡∞ø ‡∞∏‡±á‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø‡∞® ‡∞ï‡∞æ‡∞∞‡±ç‡∞™‡∞∏‡±ç‚Äå‡∞®‡±Å ‡∞Æ‡∞®‡∞Ç ‡∞ö‡±Ç‡∞°‡∞µ‡∞ö‡±ç‡∞ö‡±Å.
‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£‡∞ï‡±Å, ‡∞à ‡∞´‡±à‡∞≥‡±ç‡∞≥‡∞≤‡±ã ‡∞í‡∞ï‡∞ü‡∞ø:

```json
[
  {
    "_gas'": "0xffffffff",
    "_delay": ["0x13647", "0xccf6"],
    "_src": "00a329c0648769a73afac7f9381e08fb43dbea70",
    "_dst": "00a329c0648769a73afac7f9381e08fb43dbea72",
    "_value": "0x0",
    "_call": {
      "tag": "SolCall",
      "contents": [
        "magic",
        [
          {
            "contents": [
              256,
              "93723985220345906694500679277863898678726808528711107336895287282192244575836"
            ],
            "tag": "AbiUInt"
          },
          {
            "contents": [256, "334"],
            "tag": "AbiUInt"
          },
          {
            "contents": [
              256,
              "68093943901352437066264791224433559271778087297543421781073458233697135179558"
            ],
            "tag": "AbiUInt"
          },
          {
            "tag": "AbiUInt",
            "contents": [256, "332"]
          }
        ]
      ]
    },
    "_gasprice'": "0xa904461f1"
  }
]
```

‡∞∏‡±ç‡∞™‡∞∑‡±ç‡∞ü‡∞Ç‡∞ó‡∞æ, ‡∞à ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç ‡∞Æ‡∞® ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä‡∞≤‡±ã ‡∞µ‡±à‡∞´‡∞≤‡±ç‡∞Ø‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞™‡±ç‡∞∞‡±á‡∞∞‡±á‡∞™‡∞ø‡∞Ç‡∞ö‡∞¶‡±Å. ‡∞Ö‡∞Ø‡∞ø‡∞§‡±á, ‡∞§‡∞¶‡±Å‡∞™‡∞∞‡∞ø ‡∞¶‡∞∂‡∞≤‡±ã, ‡∞¶‡∞æ‡∞®‡∞ø ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞¶‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞é‡∞≤‡∞æ ‡∞∏‡∞µ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡±ã ‡∞Æ‡∞®‡∞Ç ‡∞ö‡±Ç‡∞¶‡±ç‡∞¶‡∞æ‡∞Ç.

### ‡∞í‡∞ï ‡∞ï‡∞æ‡∞∞‡±ç‡∞™‡∞∏‡±ç‚Äå‡∞®‡±Å ‡∞∏‡±Ä‡∞°‡∞ø‡∞Ç‡∞ó‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç {#seeding-a-corpus}

`magic` ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞§‡±ã ‡∞µ‡±ç‡∞Ø‡∞µ‡∞π‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞ï‡±Å ‡∞ï‡±ä‡∞Ç‡∞§ ‡∞∏‡∞π‡∞æ‡∞Ø‡∞Ç ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Ç. ‡∞¶‡∞æ‡∞®‡∞ø ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞§‡∞ó‡∞ø‡∞® ‡∞™‡∞∞‡∞æ‡∞Æ‡∞ø‡∞§‡±Å‡∞≤‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞®‡±Å ‡∞ï‡∞æ‡∞™‡±Ä ‡∞ö‡±á‡∞∏‡∞ø, ‡∞∏‡∞µ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞¨‡±ã‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞Æ‡±Å:

```bash
cp corpus/2712688662897926208.txt corpus/new.txt
```

‡∞Æ‡∞®‡∞Ç `magic(42,129,333,0)`‡∞®‡±Å ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø `new.txt`‡∞®‡∞ø ‡∞∏‡∞µ‡∞∞‡∞ø‡∞∏‡±ç‡∞§‡∞æ‡∞Æ‡±Å. ‡∞á‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å, ‡∞Æ‡∞®‡∞Ç ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞Æ‡∞≥‡±ç‡∞≤‡±Ä ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å:

```bash
echidna-test magic.sol --config config.yaml
...
echidna_magic_values: failed!üí•
  Call sequence:
    magic(42,129,333,0)


Unique instructions: 142
Unique codehashes: 1
Seed: -7293830866560616537

```

‡∞à‡∞∏‡∞æ‡∞∞‡∞ø, ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä ‡∞µ‡±Ü‡∞Ç‡∞ü‡∞®‡±á ‡∞â‡∞≤‡±ç‡∞≤‡∞Ç‡∞ò‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞®‡∞ø ‡∞Ö‡∞¶‡∞ø ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞Ç‡∞¶‡∞ø.

## ‡∞Ö‡∞ß‡∞ø‡∞ï ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó‡∞Ç‡∞§‡±ã ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤‡∞®‡±Å ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞°‡∞Ç {#finding-transactions-with-high-gas-consumption}

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞§‡±ã ‡∞Ö‡∞ß‡∞ø‡∞ï ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó‡∞Ç‡∞§‡±ã ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤‡∞®‡±Å ‡∞é‡∞≤‡∞æ ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞æ‡∞≤‡±ã ‡∞Æ‡∞®‡∞Ç ‡∞ö‡±Ç‡∞¶‡±ç‡∞¶‡∞æ‡∞Ç. ‡∞≤‡∞ï‡±ç‡∞∑‡±ç‡∞Ø‡∞Ç ‡∞ï‡∞ø‡∞Ç‡∞¶‡∞ø ‡∞∏‡±ç‡∞Æ‡∞æ‡∞∞‡±ç‡∞ü‡±ç ‡∞ï‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡±ç:

```solidity
contract C {
  uint state;

  function expensive(uint8 times) internal {
    for(uint8 i=0; i < times; i++)
      state = state + i;
  }

  function f(uint x, uint y, uint8 times) public {
    if (x == 42 && y == 123)
      expensive(times);
    else
      state = 0;
  }

  function echidna_test() public returns (bool) {
    return true;
  }

}
```

‡∞á‡∞ï‡±ç‡∞ï‡∞° `expensive`‡∞ï‡±Å ‡∞™‡±Ü‡∞¶‡±ç‡∞¶ ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó‡∞Ç ‡∞â‡∞Ç‡∞°‡∞µ‡∞ö‡±ç‡∞ö‡±Å.

‡∞™‡±ç‡∞∞‡∞∏‡±ç‡∞§‡±Å‡∞§‡∞Ç, ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞ï‡±Å ‡∞é‡∞≤‡±ç‡∞≤‡∞™‡±ç‡∞™‡±Å‡∞°‡±Ç ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞í‡∞ï ‡∞™‡±ç‡∞∞‡∞æ‡∞™‡∞∞‡±ç‡∞ü‡±Ä ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Ç: ‡∞á‡∞ï‡±ç‡∞ï‡∞° `echidna_test` ‡∞é‡∞≤‡±ç‡∞≤‡∞™‡±ç‡∞™‡±Å‡∞°‡±Ç `true`‡∞®‡±Å ‡∞§‡∞ø‡∞∞‡∞ø‡∞ó‡∞ø ‡∞á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.
‡∞¶‡±Ä‡∞®‡∞ø‡∞®‡∞ø ‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞®‡∞Ç ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å:

```
echidna-test gas.sol
...
echidna_test: passed! üéâ

Seed: 2320549945714142710
```

### ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞ï‡±ä‡∞≤‡∞µ‡∞°‡∞Ç {#measuring-gas-consumption}

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞§‡±ã ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø, ‡∞í‡∞ï ‡∞ï‡∞æ‡∞®‡±ç‡∞´‡∞ø‡∞ó‡∞∞‡±á‡∞∑‡∞®‡±ç ‡∞´‡±à‡∞≤‡±ç `config.yaml`‡∞®‡±Å ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø:

```yaml
estimateGas: true
```

‡∞à ‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£‡∞≤‡±ã, ‡∞´‡∞≤‡∞ø‡∞§‡∞æ‡∞≤‡∞®‡±Å ‡∞∏‡±Å‡∞≤‡∞≠‡∞Ç‡∞ó‡∞æ ‡∞Ö‡∞∞‡±ç‡∞•‡∞Ç ‡∞ö‡±á‡∞∏‡±Å‡∞ï‡±ã‡∞µ‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤ ‡∞ï‡±ç‡∞∞‡∞Æ‡∞Ç ‡∞Ø‡±ä‡∞ï‡±ç‡∞ï ‡∞™‡∞∞‡∞ø‡∞Æ‡∞æ‡∞£‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞ï‡±Ç‡∞°‡∞æ ‡∞§‡∞ó‡±ç‡∞ó‡∞ø‡∞∏‡±ç‡∞§‡∞æ‡∞Æ‡±Å:

```yaml
seqLen: 2
estimateGas: true
```

### ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø {#run-echidna-3}

‡∞Æ‡∞®‡∞Ç ‡∞ï‡∞æ‡∞®‡±ç‡∞´‡∞ø‡∞ó‡∞∞‡±á‡∞∑‡∞®‡±ç ‡∞´‡±à‡∞≤‡±ç‚Äå‡∞®‡±Å ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞Ç‡∞ö‡∞ø‡∞® ‡∞§‡∞∞‡±ç‡∞µ‡∞æ‡∞§, ‡∞Æ‡∞®‡∞Ç ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ‡∞®‡∞ø ‡∞á‡∞≤‡∞æ ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å:

```bash
echidna-test gas.sol --config config.yaml
...
echidna_test: passed! üéâ

f used a maximum of 1333608 gas
  Call sequence:
    f(42,123,249) Gas price: 0x10d5733f0a Time delay: 0x495e5 Block delay: 0x88b2

Unique instructions: 157
Unique codehashes: 1
Seed: -325611019680165325

```

- ‡∞ö‡±Ç‡∞™‡∞ø‡∞® ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞Ö‡∞®‡±á‡∞¶‡∞ø [HEVM](https://github.com/dapphub/dapptools/tree/master/src/hevm#hevm-) ‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ ‡∞Ö‡∞Ç‡∞¶‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞® ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ.

### ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞§‡∞ó‡±ç‡∞ó‡∞ø‡∞Ç‡∞ö‡±á ‡∞ï‡∞æ‡∞≤‡±ç‡∞∏‡±ç‚Äå‡∞®‡±Å ‡∞´‡∞ø‡∞≤‡±ç‡∞ü‡∞∞‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç {#filtering-out-gas-reducing-calls}

‡∞™‡±à‡∞® ‡∞â‡∞®‡±ç‡∞® **‡∞´‡∞ú‡±ç‡∞ú‡∞ø‡∞Ç‡∞ó‡±ç ‡∞™‡±ç‡∞∞‡∞ö‡∞æ‡∞∞‡∞Ç ‡∞∏‡∞Æ‡∞Ø‡∞Ç‡∞≤‡±ã ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞´‡∞ø‡∞≤‡±ç‡∞ü‡∞∞‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç** ‡∞Ö‡∞®‡±á ‡∞ü‡±ç‡∞Ø‡±Å‡∞ü‡±ã‡∞∞‡∞ø‡∞Ø‡∞≤‡±ç ‡∞Æ‡±Ä ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞≤ ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞ï‡±ä‡∞®‡±ç‡∞®‡∞ø ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞é‡∞≤‡∞æ ‡∞§‡±ä‡∞≤‡∞ó‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡±ã ‡∞ö‡±Ç‡∞™‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.  
‡∞ñ‡∞ö‡±ç‡∞ö‡∞ø‡∞§‡∞Æ‡±à‡∞® ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ ‡∞™‡±ä‡∞Ç‡∞¶‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞á‡∞¶‡∞ø ‡∞ö‡∞æ‡∞≤‡∞æ ‡∞Æ‡±Å‡∞ñ‡±ç‡∞Ø‡∞Ç.
‡∞ï‡∞ø‡∞Ç‡∞¶‡∞ø ‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£‡∞®‡±Å ‡∞™‡∞∞‡∞ø‡∞ó‡∞£‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø:

```solidity
contract C {
  address [] addrs;
  function push(address a) public {
    addrs.push(a);
  }
  function pop() public {
    addrs.pop();
  }
  function clear() public{
    addrs.length = 0;
  }
  function check() public{
    for(uint256 i = 0; i < addrs.length; i++)
      for(uint256 j = i+1; j < addrs.length; j++)
        if (addrs[i] == addrs[j])
          addrs[j] = address(0x0);
  }
  function echidna_test() public returns (bool) {
      return true;
  }
}
```

‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞Ø‡∞ó‡∞≤‡∞ø‡∞ó‡∞ø‡∞§‡±á, ‡∞Ö‡∞¶‡∞ø ‡∞Ö‡∞ß‡∞ø‡∞ï ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞ñ‡∞∞‡±ç‡∞ö‡±Å‡∞§‡±ã ‡∞ï‡±Ç‡∞°‡∞ø‡∞® ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤‡∞®‡±Å ‡∞∏‡±Å‡∞≤‡∞≠‡∞Ç‡∞ó‡∞æ ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞¶‡±Å:

```
echidna-test pushpop.sol --config config.yaml
...
pop used a maximum of 10746 gas
...
check used a maximum of 23730 gas
...
clear used a maximum of 35916 gas
...
push used a maximum of 40839 gas
```

‡∞é‡∞Ç‡∞¶‡±Å‡∞ï‡∞Ç‡∞ü‡±á ‡∞ñ‡∞∞‡±ç‡∞ö‡±Å `addrs` ‡∞™‡∞∞‡∞ø‡∞Æ‡∞æ‡∞£‡∞Ç‡∞™‡±à ‡∞Ü‡∞ß‡∞æ‡∞∞‡∞™‡∞°‡∞ø ‡∞â‡∞Ç‡∞ü‡±Å‡∞Ç‡∞¶‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Ø‡∞æ‡∞¶‡±É‡∞ö‡±ç‡∞õ‡∞ø‡∞ï ‡∞ï‡∞æ‡∞≤‡±ç‡∞∏‡±ç ‡∞Ö‡∞∞‡±ç‡∞∞‡±á‡∞®‡∞ø ‡∞¶‡∞æ‡∞¶‡∞æ‡∞™‡±Å ‡∞ñ‡∞æ‡∞≥‡±Ä‡∞ó‡∞æ ‡∞µ‡∞¶‡∞ø‡∞≤‡∞ø‡∞µ‡±á‡∞∏‡±ç‡∞§‡∞æ‡∞Ø‡∞ø.
`pop` ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å `clear` ‡∞≤‡∞®‡±Å ‡∞¨‡±ç‡∞≤‡∞æ‡∞ï‡±ç‚Äå‡∞≤‡∞ø‡∞∏‡±ç‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç, ‡∞Ö‡∞Ø‡∞ø‡∞§‡±á, ‡∞Æ‡∞®‡∞ï‡±Å ‡∞ö‡∞æ‡∞≤‡∞æ ‡∞Æ‡±Ü‡∞∞‡±Å‡∞ó‡±à‡∞® ‡∞´‡∞≤‡∞ø‡∞§‡∞æ‡∞≤‡∞®‡±Å ‡∞á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø:

```yaml
filterBlacklist: true
filterFunctions: ["pop", "clear"]
```

```
echidna-test pushpop.sol --config config.yaml
...
push used a maximum of 40839 gas
...
check used a maximum of 1484472 gas
```

### ‡∞∏‡∞æ‡∞∞‡∞æ‡∞Ç‡∞∂‡∞Ç: ‡∞Ö‡∞ß‡∞ø‡∞ï ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó‡∞Ç‡∞§‡±ã ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤‡∞®‡±Å ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞°‡∞Ç {#summary-finding-transactions-with-high-gas-consumption}

`estimateGas` ‡∞ï‡∞æ‡∞®‡±ç‡∞´‡∞ø‡∞ó‡∞∞‡±á‡∞∑‡∞®‡±ç ‡∞é‡∞Ç‡∞™‡∞ø‡∞ï‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞Ö‡∞ß‡∞ø‡∞ï ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó‡∞Ç‡∞§‡±ã ‡∞≤‡∞æ‡∞µ‡∞æ‡∞¶‡±á‡∞µ‡±Ä‡∞≤‡∞®‡±Å ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞ó‡∞≤‡∞¶‡±Å:

```yaml
estimateGas: true
```

```bash
echidna-test contract.sol --config config.yaml
...
```

‡∞´‡∞ú‡±ç‡∞ú‡∞ø‡∞Ç‡∞ó‡±ç ‡∞ï‡±ç‡∞Ø‡∞æ‡∞Ç‡∞™‡±Ü‡∞Ø‡∞ø‡∞®‡±ç ‡∞Æ‡±Å‡∞ó‡∞ø‡∞∏‡∞ø‡∞® ‡∞§‡∞∞‡±ç‡∞µ‡∞æ‡∞§, ‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞ï‡±Å ‡∞ó‡∞∞‡∞ø‡∞∑‡±ç‡∞ü ‡∞ó‡±ç‡∞Ø‡∞æ‡∞∏‡±ç ‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó‡∞Ç‡∞§‡±ã ‡∞ï‡±Ç‡∞°‡∞ø‡∞® ‡∞ï‡±ç‡∞∞‡∞Æ‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞é‡∞ï‡∞ø‡∞°‡±ç‡∞®‡∞æ ‡∞®‡∞ø‡∞µ‡±á‡∞¶‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.
