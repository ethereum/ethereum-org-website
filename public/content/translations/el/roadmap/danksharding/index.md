---
title: Danksharding
description: Μάθετε για το Proto-Danksharding και το Danksharding, τις δύο διαδοχικές αναβαθμίσεις για την κλιμάκωση του Ethereum.
lang: el
summaryPoints:
  - Το Danksharding είναι μια αναβάθμιση πολλών φάσεων για τη βελτίωση της δυνατότητας κλιμάκωσης και της χωρητικότητας του Ethereum.
  - Το πρώτο στάδιο, το Proto-Danksharding, προσθέτει δεδομένα-blobs (data blobs) στα μπλοκ
  - Τα δεδομένα-blobs προσφέρουν έναν φθηνότερο τρόπο για τα rollups να δημοσιεύουν τα δεδομένα στο Ethereum και αυτό το κόστος μπορεί να μεταφερθεί στους χρήστες με τη μορφή χαμηλότερων τελών συναλλαγής.
  - Αργότερα, το πλήρες Danksharding θα διανείμει την ευθύνη επαλήθευσης των δεδομένων-blobs σε υποσύνολα κόμβων, κλιμακώνοντας περαιτέρω το Ethereum σε περισσότερες από 100.000 συναλλαγές ανά δευτερόλεπτο.
---

# Danksharding {#danksharding}

Το **Danksharding** είναι ο τρόπος με τον οποίο το Ethereum γίνεται ένα πραγματικά επεκτάσιμο blockchain, αλλά απαιτούνται αρκετές αναβαθμίσεις πρωτοκόλλου για να φτάσετε εκεί. Το **Proto-Danksharding** είναι ένα ενδιάμεσο βήμα στην όλη πορεία. Και τα δύο στοχεύουν να κάνουν τις συναλλαγές στο επίπεδο 2 όσο το δυνατόν πιο φθηνές για τους χρήστες και θα πρέπει να κλιμακώσουν το Ethereum σε >100.000 συναλλαγές ανά δευτερόλεπτο.

## Τι είναι το Proto-Danksharding; {#what-is-protodanksharding}

Το Proto-Danksharding, γνωστό και ως [EIP-4844](https://eips.ethereum.org/EIPS/eip-4844), είναι ένας τρόπος ώστε τα [πακέτα ενημέρωσης](/layer-2/#rollups) να προσθέτουν φθηνότερα δεδομένα στα μπλοκ. Το όνομα προέρχεται από τους δύο ερευνητές που πρότειναν την ιδέα: τον Protolambda και τον Dankrad Feist. Ιστορικά, τα rollup είχαν περιορισμούς όσον αφορά το πόσο φθηνές μπορούν να κάνουν τις συναλλαγές των χρηστών λόγω του γεγονότος ότι δημοσιεύουν τις συναλλαγές τους στο `CALLDATA`.

Αυτό είναι ακριβό επειδή υποβάλλεται σε επεξεργασία από όλους τους κόμβους Ethereum και βρίσκεται για πάντα εντός αλυσίδας, παρόλο που τα rollup χρειάζονται τα δεδομένα μόνο για μικρό χρονικό διάστημα. Το Proto-Danksharding εισάγει δεδομένα blob που μπορούν να αποσταλούν και να συνδεθούν σε μπλοκ. Τα δεδομένα σε αυτά τα blob δεν είναι προσβάσιμα στην EVM και διαγράφονται αυτόματα μετά από μια καθορισμένη χρονική περίοδο (ορίζεται σε 4096 εποχές τη στιγμή της σύνταξης ή περίπου 18 ημέρες). Αυτό σημαίνει ότι τα πακέτα δεδομένων μπορούν να στέλνουν τα δεδομένα τους πολύ πιο φθηνά και να μεταφέρουν τις εξοικονομήσεις τους στους τελικούς χρήστες με τη μορφή φθηνότερων συναλλαγών.

<ExpandableCard title="Γιατί τα blobs κάνουν τα rollups φθηνότερα;" eventCategory="/roadmap/danksharding" eventName="clicked why do blocks make rollups cheaper?">

Τα πακέτα συναλλαγών είναι ένας τρόπος για να κλιμακωθεί το Ethereum ομαδοποιώντας τις συναλλαγές εκτός αλυσίδας και στη συνέχεια δημοσιεύοντας τα αποτελέσματα στο Ethereum. Ένα rollup αποτελείται ουσιαστικά από δύο μέρη: τα δεδομένα και τον έλεγχο εκτέλεσης. Τα δεδομένα είναι η πλήρης ακολουθία των συναλλαγών που επεξεργάζεται ένα rollup, για να παράγει την αλλαγή κατάστασης που δημοσιεύεται στο Ethereum. Ο έλεγχος εκτέλεσης είναι η επανεξέταση αυτών των συναλλαγών από έναν ειλικρινή παράγοντα (έναν «αποδεικνύοντα») για να διασφαλιστεί ότι η προτεινόμενη αλλαγή κατάστασης είναι σωστή. Για να πραγματοποιηθεί ο έλεγχος εκτέλεσης, τα δεδομένα συναλλαγών πρέπει να είναι διαθέσιμα για αρκετά μεγάλο χρονικό διάστημα ώστε να μπορεί ο καθένας να τα κατεβάσει και να τα ελέγξει. Αυτό σημαίνει ότι οποιαδήποτε ανέντιμη συμπεριφορά από τον διαχειριστή του rollup μπορεί να εντοπιστεί και να αμφισβητηθεί από αυτόν που αποδεικνύει. Ωστόσο, δε χρειάζεται να είναι διαθέσιμα για πάντα.

</ExpandableCard>

<ExpandableCard title="Γιατί είναι σωστό να διαγράφονται τα δεδομένα blob;" eventCategory="/roadmap/danksharding" eventName="clicked why is it OK to delete the blob data?">

Τα πακέτα συναλλαγών δημοσιεύουν δεσμεύσεις για τα δεδομένα συναλλαγών τους στην αλυσίδα και επίσης καθιστούν τα πραγματικά δεδομένα διαθέσιμα σε blobs δεδομένων. Αυτό σημαίνει ότι αυτοί που αποδεικνύουν μπορούν να ελέγξουν αν οι δεσμεύσεις είναι έγκυρες ή να αμφισβητήσουν δεδομένα που θεωρούν λανθασμένα. Σε επίπεδο κόμβου, τα δεδομένα blob τηρούνται στον πελάτη συναίνεσης. Οι πελάτες συναίνεσης βεβαιώνουν ότι έχουν δει τα δεδομένα και ότι έχουν διαδοθεί στο δίκτυο. Εάν τα δεδομένα διατηρούνταν για πάντα, αυτοί οι πελάτες θα διογκώνονταν και θα οδηγούσαν σε μεγάλες απαιτήσεις σε υλικό για τη λειτουργία των κόμβων. Αντίθετα, τα δεδομένα περικόπτονται αυτόματα από τον κόμβο κάθε 18 ημέρες. Οι βεβαιώσεις των πελατών συναίνεσης, αποδεικνύουν ότι υπήρξε επαρκής ευκαιρία για τους αποδεικνύοντες να επαληθεύσουν τα δεδομένα. Τα πραγματικά δεδομένα μπορούν να αποθηκευτούν εκτός αλυσίδας από φορείς εκμετάλλευσης, χρήστες ή άλλους.

</ExpandableCard>

### Πώς επαληθεύονται τα δεδομένα blob; {#how-are-blobs-verified}

Τα rollup δημοσιεύουν τις συναλλαγές που εκτελούν σε δεδομένα blob. Αναρτούν και «δέσμευση» για τα δεδομένα. Αυτό επιτυγχάνεται μέσω της προσαρμογής μιας «polynomial» συνάρτησης στα δεδομένα. Αυτή η συνάρτηση μπορεί στη συνέχεια να αξιολογηθεί σε διάφορα σημεία. Για παράδειγμα, αν ορίσουμε μια εξαιρετικά απλή συνάρτηση `f(x) = 2x-1`, τότε μπορούμε να αξιολογήσουμε αυτή τη συνάρτηση για `x = 1`, `x = 2`, `x = 3`, δίνοντας τα αποτελέσματα `1, 3, 5`. Ένας αποδεικνύων εφαρμόζει την ίδια συνάρτηση στα δεδομένα και την αξιολογεί με τον ίδιο τρόπο. Εάν τα αρχικά δεδομένα αλλάξουν, η συνάρτηση δε θα είναι ίδια και επομένως δε θα είναι ίδιες οι τιμές που αξιολογούνται σε κάθε σημείο. Στην πραγματικότητα, η δέσμευση και η απόδειξη είναι πιο περίπλοκες επειδή περιέχονται σε κρυπτογραφικές συναρτήσεις.

### Τι είναι το KZG; {#what-is-kzg}

Το KZG σημαίνει Kate-Zaverucha-Goldberg, τα ονόματα των τριών [αρχικών συγγραφέων](https://link.springer.com/chapter/10.1007/978-3-642-17373-8_11) ενός σχεδίου που μειώνει ένα blob δεδομένων σε μια μικρή [κρυπτογραφική δέσμευση](https://dankradfeist.de/ethereum/2020/06/16/kate-polynomial-commitments.html). Το blob δεδομένων που υποβάλλει ένα rollup πρέπει να επαληθευτεί για να διασφαλιστεί ότι το rollup δε συμπεριφέρεται κακόβουλα. Αυτό περιλαμβάνει την επανεξέταση των συναλλαγών στο blob από έναν αποδεικνύοντα για να ελέγξει ότι η δέσμευση ήταν έγκυρη. Αυτό είναι εννοιολογικά το ίδιο με τον τρόπο που οι πελάτες εκτέλεσης ελέγχουν την εγκυρότητα των συναλλαγών Ethereum στο επίπεδο 1, χρησιμοποιώντας τις αποδείξεις Merkle. Το KZG είναι μια εναλλακτική απόδειξη που προσαρμόζει μια polynomial εξίσωση στα δεδομένα. Η δέσμευση αξιολογεί το polynomial σε κάποια μυστικά σημεία δεδομένων. Ένας αποδεικνύων θα προσαρμόσει το ίδιο polynomial στα δεδομένα και θα το αξιολογήσει στις ίδιες τιμές, ελέγχοντας ότι το αποτέλεσμα είναι το ίδιο. Αυτός είναι ένας τρόπος επαλήθευσης των δεδομένων που είναι συμβατός με τις τεχνικές μηδενικής γνώσης που χρησιμοποιούνται από ορισμένα rollups και άλλα μέρη του πρωτοκόλλου Ethereum.

### Τι ήταν η τελετή KZG; {#what-is-a-kzg-ceremony}

Η τελετή KZG ήταν ένας τρόπος για πολλούς ανθρώπους από όλη την κοινότητα του Ethereum να δημιουργήσουν συλλογικά μια μυστική τυχαία σειρά αριθμών που μπορούν να χρησιμοποιηθούν για την επαλήθευση ορισμένων δεδομένων. Είναι πολύ σημαντικό ότι αυτή η σειρά αριθμών δεν είναι γνωστή και δεν μπορεί να αναδημιουργηθεί από κανέναν. Για να διασφαλιστεί αυτό, κάθε άτομο που συμμετείχε στην τελετή έλαβε μια σειρά από τον προηγούμενο συμμετέχοντα. Οι συμμετέχοντες δημιούργησαν νέες τυχαίες τιμές (π.χ. επιτρέποντας στο πρόγραμμα περιήγησής τους να μετρήσει την κίνηση του ποντικιού τους) και τις ανέμειξαν με την προηγούμενη τιμή. Στη συνέχεια, έστειλαν την τιμή στον επόμενο συμμετέχοντα και την κατέστρεψαν από την τοπική τους μηχανή. Στον βαθμό που ένα άτομο στην τελετή το έκανε αυτό με ειλικρίνεια, η τελική τιμή δε θα είναι γνωστή σε έναν επιτιθέμενο.

Η τελετή KZG του EIP-4844 ήταν ανοιχτή στο κοινό και δεκάδες χιλιάδες άνθρωποι συμμετείχαν για να προσθέσουν τη δική τους εντροπία (τυχαιότητα). Συνολικά έγιναν πάνω από 140.000 συνεισφορές, καθιστώντας την τη μεγαλύτερη τελετή του είδους της στον κόσμο. Για να υπονομευθεί η τελετή, το 100% των συμμετεχόντων θα έπρεπε να είναι ενεργά ανέντιμοι. Από την οπτική των συμμετεχόντων, εάν γνωρίζουν ότι ήταν ειλικρινείς, δε χρειάζεται να εμπιστευτούν κανέναν άλλο, επειδή γνωρίζουν ότι ασφάλισαν την τελετή (ικανοποίησαν ατομικά την απαίτηση ενός ειλικρινούς συμμετέχοντα από τους Ν).

<ExpandableCard title="Σε τι χρησιμοποιείται ο τυχαίος αριθμός από την τελετή KZG;" eventCategory="/roadmap/danksharding" eventName="clicked why is the random number from the KZG ceremony used for?">

Όταν ένα πακέτο συναλλαγών δημοσιεύει δεδομένα σε ένα blob, παρέχει μια "δέσμευση" ότι δημοσιεύει στην αλυσίδα. Αυτή η δέσμευση είναι το αποτέλεσμα της αξιολόγησης μια πολυωνυμικής προσαρμογής στα δεδομένα σε ορισμένα σημεία. Αυτά τα σημεία ορίζονται από τους τυχαίους αριθμούς που δημιουργούνται στην τελετή KZG. Οι αποδεικνύοντες μπορούν στη συνέχεια να αξιολογήσουν το polynomial στα ίδια σημεία για να επαληθεύσουν τα δεδομένα και εάν καταλήξουν στις ίδιες τιμές, τότε τα δεδομένα είναι σωστά.

</ExpandableCard>

<ExpandableCard title="Γιατί πρέπει να παραμείνει μυστικό το τυχαίο δεδομένο KZG;" eventCategory="/roadmap/danksharding" eventName="clicked why does the KZG random data have to stay secret?">

Εάν κάποιος γνωρίζει τις τυχαίες τοποθεσίες που χρησιμοποιούνται για τη δέσμευση, είναι εύκολο για αυτόν να δημιουργήσει ένα νέο polynomial που ταιριάζει σε αυτά τα συγκεκριμένα σημεία (δηλαδή μια «σύγκρουση»). Αυτό σημαίνει ότι θα μπορούσε να προσθέσει ή να αφαιρέσει δεδομένα από το blob και να παράσχει ακόμα μια έγκυρη απόδειξη. Για να αποφευχθεί αυτό, αντί να δίνουν στους αποδεικνύοντες τις πραγματικές μυστικές τοποθεσίες, στην πραγματικότητα λαμβάνουν τις τοποθεσίες καλυμμένες με ένα κρυπτογραφημένο «μαύρο κουτί» χρησιμοποιώντας ελλειπτικές καμπύλες. Αυτές ανακατεύουν αποτελεσματικά τις τιμές με τέτοιο τρόπο ώστε οι αρχικές τιμές να μην μπορούν να αναστραφούν, αλλά με κάποιο έξυπνο υπολογισμό άλγεβρας οι αποδεικνύοντες και οι επαληθευτές μπορούν ακόμα να αξιολογούν polynomials στα σημεία που αντιπροσωπεύουν.

</ExpandableCard>

<Alert variant="warning" className="mb-8">
<AlertContent>
<AlertDescription>
  Ούτε το Danksharding ούτε το Proto-Danksharding ακολουθούν το παραδοσιακό μοντέλο «τμηματοποίησης» που στοχεύει στον διαχωρισμό της κρυπτοαλυσίδας σε πολλαπλά μέρη. Οι αλυσίδες shard δεν αποτελούν πλέον μέρος του οδικού χάρτη. Αντίθετα, το Danksharding χρησιμοποιεί δειγματοληψία κατανεμημένων δεδομένων σε blobs για την κλιμάκωση του Ethereum. Αυτό είναι πολύ απλούστερο στην εφαρμογή. Αυτό το μοντέλο έχει μερικές φορές αναφερθεί ως «data-sharding».
</AlertDescription>
</AlertContent>
</Alert>

## Τι είναι το Danksharding; {#what-is-danksharding}

Το Danksharding είναι η πλήρης υλοποίηση της κλιμάκωσης rollup που ξεκίνησε με το Proto-Danksharding. Το Danksharding θα φέρει τεράστιες ποσότητες χώρου στο Ethereum, ώστε τα rollup να απορρίπτουν τα συμπιεσμένα δεδομένα συναλλαγών τους. Αυτό σημαίνει ότι το Ethereum θα είναι σε θέση να υποστηρίξει εύκολα εκατοντάδες μεμονωμένα rollups και να πραγματοποιήσει εκατομμύρια συναλλαγές ανά δευτερόλεπτο.

Ο τρόπος λειτουργίας του είναι η επέκταση των blobs που συνδέονται με τα μπλοκ από έξι (6) στο Proto-Danksharding σε 64, στο πλήρες Danksharding. Οι υπόλοιπες απαιτούμενες αλλαγές είναι όλες ενημερώσεις στον τρόπο λειτουργίας των πελατών συναίνεσης, για να μπορούν να χειρίζονται τα νέα μεγάλα blobs. Ορισμένες από αυτές τις αλλαγές βρίσκονται ήδη στον οδικό χάρτη για άλλους σκοπούς ανεξάρτητα από το Danksharding. Για παράδειγμα, το Danksharding απαιτεί να έχει εφαρμοστεί ο διαχωρισμός προτείνοντος-κατασκευαστή μπλοκ. Πρόκειται για μια αναβάθμιση που διαχωρίζει τις εργασίες κατασκευής και πρότασης μπλοκ σε διαφορετικούς επικυρωτές. Ομοίως, η δειγματοληψία διαθεσιμότητας δεδομένων απαιτείται για το Danksharding, αλλά απαιτείται επίσης για την ανάπτυξη εφαρμογών πελάτη μικρού μεγέθους που δεν αποθηκεύουν πολλά ιστορικά δεδομένα («πελάτες χωρίς κατάσταση»).

<ExpandableCard title="Γιατί το Danksharding απαιτεί διαχωρισμό προτείνοντος-κατασκευαστή μπλοκ;" eventCategory="/roadmap/danksharding" eventName="clicked why does danksharding require proposer-builder separation?">

Ο διαχωρισμός προτείνοντος-κατασκευαστή μπλοκ απαιτείται για να αποτραπεί η ανάγκη των μεμονωμένων επικυρωτών να δημιουργούν δαπανηρές δεσμεύσεις και αποδείξεις για 32MB δεδομένων blob. Αυτό θα ασκήσει υπερβολική πίεση στους οικιακούς χρήστες αποθηκευμένου κεφαλαίου και θα τους υποχρεώσει να επενδύσουν σε ισχυρότερα συστήματα, γεγονός που βλάπτει την αποκέντρωση. Αντίθετα, εξειδικευμένοι κατασκευαστές μπλοκ αναλαμβάνουν την ευθύνη για αυτή τη δαπανηρή υπολογιστική εργασία. Στη συνέχεια, διαθέτουν τα μπλοκ τους στους προτείνοντες μπλοκ για δημοσίευση. Ο προτείνων μπλοκ απλώς επιλέγει το μπλοκ που είναι πιο κερδοφόρο. Ο καθένας μπορεί να επαληθεύσει τα blobs φθηνά και γρήγορα, πράγμα που σημαίνει ότι οποιοσδήποτε κανονικός επικυρωτής μπορεί να ελέγξει ότι οι κατασκευαστές μπλοκ συμπεριφέρονται αξιόπιστα. Αυτό επιτρέπει την επεξεργασία των μεγάλων blobs χωρίς να θυσιάζεται η αποκέντρωση. Οι κακοήθεις κατασκευαστές μπλοκ θα μπορούσαν απλώς να εκδιωχθούν από το δίκτυο και να επιβληθεί περικοπή, ενώ άλλοι θα μπουν στη θέση τους επειδή η κατασκευή μπλοκ είναι μια κερδοφόρα δραστηριότητα.

</ExpandableCard>

<ExpandableCard title="Γιατί το Danksharding απαιτεί δειγματοληψία διαθεσιμότητας δεδομένων;" eventCategory="/roadmap/danksharding" eventName="clicked why does danksharding require data availability sampling?">

Η δειγματοληψία διαθεσιμότητας δεδομένων απαιτείται για τους επικυρωτές για γρήγορο και αποτελεσματικό έλεγχο των δεδομένων blob. Χρησιμοποιώντας τη δειγματοληψία διαθεσιμότητας δεδομένων, οι επικυρωτές μπορούν να είναι πολύ σίγουροι ότι τα δεδομένα blob ήταν διαθέσιμα και δεσμεύτηκαν σωστά. Κάθε επικυρωτής μπορεί τυχαία να δειγματίσει μερικά μόνο σημεία δεδομένων και να δημιουργήσει μια απόδειξη, που σημαίνει ότι κανένας επικυρωτής δεν χρειάζεται να ελέγξει ολόκληρο το blob. Εάν λείπουν δεδομένα, θα εντοπιστούν γρήγορα και το blob θα απορριφθεί.

</ExpandableCard>

### Τρέχουσα πρόοδος {#current-progress}

Το πλήρες Danksharding είναι αρκετά χρόνια μακριά. Στο μεταξύ, η τελετή KZG ολοκληρώθηκε με περισσότερες από 140.000 συνεισφορές και το [EIP](https://eips.ethereum.org/EIPS/eip-4844) για το Proto-Danksharding έχει ωριμάσει. Αυτή η πρόταση έχει εφαρμοστεί πλήρως σε όλα τα δίκτυα δοκιμών και τέθηκε σε λειτουργία στο Mainnet με την αναβάθμιση δικτύου Cancun-Deneb (Dencun) τον Μάρτιο του 2024.

### Περισσότερες πληροφορίες {#further-reading}

- [Σημειώσεις Proto-Danksharding](https://notes.ethereum.org/@vbuterin/proto_danksharding_faq) - _Vitalik Buterin_
- [Σημειώσεις του Dankrad για το Danksharding](https://notes.ethereum.org/@dankrad/new_sharding)
- [Συζήτηση του Dankrad, Proto και Vitalik για το Danksharding](https://www.youtube.com/watch?v=N5p0TB77flM)
- [Η τελετή KZG](https://ceremony.ethereum.org/)
- [Ομιλία του Carl Beekhuizen στο Devcon για αξιόπιστους τρόπου εγκατάστασης](https://archive.devcon.org/archive/watch/6/the-kzg-ceremony-or-how-i-learnt-to-stop-worrying-and-love-trusted-setups/?tab=YouTube)
- [Περισσότερα για τη δειγματοληψία διαθεσιμότητας δεδομένων για blobs](https://hackmd.io/@vbuterin/sharding_proposal#ELI5-data-availability-sampling)
- [Ο Dankrad Feist για τις δεσμεύσεις και αποδείξεις KZG](https://youtu.be/8L2C6RDMV9Q)
- [Πολυωνυμικές δεσμεύσεις KZG](https://dankradfeist.de/ethereum/2020/06/16/kate-polynomial-commitments.html)
