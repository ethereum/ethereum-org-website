---
title: Η εικονική μηχανή του Ethereum (EVM)
description: Μια εισαγωγή στην εικονική μηχανή του Ethereum και πώς σχετίζεται με την κατάσταση, τις συναλλαγές και τα έξυπνα συμβόλαια.
lang: el
---

Η εικονική μηχανή Ethereum (EVM) είναι ένα αποκεντρωμένο εικονικό περιβάλλον που εκτελεί κώδικα με συνέπεια και ασφάλεια σε όλους τους κόμβους του Ethereum. Οι κόμβοι εκτελούν το EVM για την εκτέλεση έξυπνων συμβολαίων, χρησιμοποιώντας "[gas](/gas/)" για τη μέτρηση της υπολογιστικής προσπάθειας που απαιτούν οι [λειτουργίες](/developers/docs/evm/opcodes/), διασφαλίζοντας αποτελεσματική κατανομή πόρων και ασφάλεια δικτύου.

## Προαπαιτούμενα {#prerequisites}

Για την κατανόηση του EVM απαιτείται κάποια βασική εξοικείωση με την κοινή ορολογία στην επιστήμη των υπολογιστών, όπως [byte](https://wikipedia.org/wiki/Byte), [μνήμη](https://wikipedia.org/wiki/Computer_memory) και [στοίβα](https://wikipedia.org/wiki/Stack_(abstract_data_type)). Θα ήταν επίσης χρήσιμο να νιώθετε άνετα με έννοιες κρυπτογραφίας/αλυσίδας συστοιχιών, όπως [συναρτήσεις κατακερματισμού](https://wikipedia.org/wiki/Cryptographic_hash_function) και [δέντρο Merkle](https://wikipedia.org/wiki/Merkle_tree).

## Από το ledger στη μηχανή κατάστασης {#from-ledger-to-state-machine}

Η αναλογία ενός «κατανεμημένου ledger» χρησιμοποιείται συχνά για να περιγράψει αλυσίδες συστοιχιών, όπως το Bitcoin, που ενεργοποιούν ένα νόμισμα αποκεντρωμένο χρησιμοποιώντας θεμελιώδη εργαλεία κρυπτογραφίας. Το ledger διατηρεί ένα αρχείο δραστηριότητας το οποίο πρέπει να συμμορφώνεται με ένα σύνολο κανόνων που ελέγχουν τι μπορεί και τι δεν μπορεί να κάνει κάποιος για να τροποποιήσει το ledger. Για παράδειγμα, μια διεύθυνση Bitcoin δεν μπορεί να ξοδέψει περισσότερα Bitcoin από όσα είχε λάβει προηγουμένως. Αυτοί οι κανόνες είναι θεμελιώδεις για όλες τις συναλλαγές στο Bitcoin και σε πολλές άλλες αλυσίδες συστοιχιών.

Ενώ το Ethereum έχει το δικό του εγγενές κρυπτονόμισμα (Ether) που ακολουθεί σχεδόν ακριβώς τους ίδιους διαισθητικούς κανόνες, ενεργοποιεί επίσης μια πολύ πιο ισχυρή λειτουργία: [τα έξυπνα συμβόλαια](/developers/docs/smart-contracts/). Για αυτό το πιο περίπλοκο χαρακτηριστικό, απαιτείται μια πιο σύνθετη αναλογία. Αντί για ένα κατανεμημένο ledger, το Ethereum είναι μια κατανεμημένη [μηχανή κατάστασης](https://wikipedia.org/wiki/Finite-state_machine). Η κατάσταση του Ethereum είναι μια μεγάλη δομή δεδομένων που περιέχει όχι μόνο όλους τους λογαριασμούς και τα υπόλοιπα, αλλά μια _κατάσταση μηχανής_, η οποία μπορεί να αλλάζει από μπλοκ σε μπλοκ σύμφωνα με ένα προκαθορισμένο σύνολο κανόνων και η οποία μπορεί να εκτελεί αυθαίρετα κώδικα μηχανήματος. Οι συγκεκριμένοι κανόνες αλλαγής κατάστασης από μπλοκ σε μπλοκ καθορίζονται από το EVM.

![Ένα διάγραμμα που δείχνει τη σύνθεση του EVM](./evm.png)
_Προσαρμοσμένο διάγραμμα [εικονογραφημένο από Ethereum EVM](https://takenobu-hs.github.io/downloads/ethereum_evm_illustrated.pdf)_

## Η λειτουργία μετάβασης της κατάστασης του Ethereum {#the-ethereum-state-transition-function}

Το EVM συμπεριφέρεται όπως μια μαθηματική συνάρτηση: Με δεδομένο στοιχείο εισόδου, παράγει αιτιοκρατικό στοιχείο εξόδου. Επομένως, είναι πολύ χρήσιμο να περιγράφουμε πιο επίσημα ότι το Ethereum έχει **λειτουργία μετάβασης κατάστασης**:

```
Y(S, T)= S'
```

Δεδομένης μιας παλιάς έγκυρης κατάστασης `(S)` και ενός νέου συνόλου έγκυρων συναλλαγών `(T)`, η λειτουργία μετάβασης κατάστασης του Ethereum `Y(S, T)` παράγει μια νέα έγκυρη κατάσταση εξόδου `S'`

### Κατάσταση {#state}

Στο πλαίσιο του Ethereum, η κατάσταση είναι μια τεράστια δομή δεδομένων που ονομάζεται [τροποποιημένο Merkle Patricia Trie](/developers/docs/data-structures-and-encoding/patricia-merkle-trie/), το οποίο διατηρεί όλους τους [λογαριασμούς](/developers/docs/accounts/) συνδεδεμένους με κατακερματισμούς και μπορεί να αναχθεί σε έναν ενιαίο κατακερματισμό ρίζας που είναι αποθηκευμένος στην αλυσίδα συστοιχιών.

### Συναλλαγές {#transactions}

Οι συναλλαγές είναι κρυπτογραφικά υπογεγραμμένες από το λογαριασμό. Υπάρχουν δύο τύποι συναλλαγών: αυτές που καταλήγουν σε κλήσεις μηνυμάτων και εκείνες που καταλήγουν στη δημιουργία συμβολαίων.

Η δημιουργία συμβολαίου έχει ως αποτέλεσμα τη δημιουργία ενός νέου λογαριασμού συμβολαίου που περιέχει συνταγμένο bytecode [έξυπνου συμβολαίου](/developers/docs/smart-contracts/anatomy/). Κάθε φορά που ένας άλλος λογαριασμός κάνει μια κλήση μηνύματος σε αυτό το συμβόλαιο, εκτελεί το bytecode του.

## Οδηγίες EVM {#evm-instructions}

Το EVM εκτελείται ως [μηχάνημα στοίβας](https://wikipedia.org/wiki/Stack_machine) με βάθος 1024 στοιχείων. Κάθε στοιχείο είναι μια λέξη 25- bit, η οποία επιλέχθηκε για την ευκολία χρήσης με κρυπτογραφία 256-bit (όπως κατακερματισμοί Keccak-256 ή υπογραφές secp256k1).

Κατά την εκτέλεση, το EVM διατηρεί μια μεταβατική _μνήμη_ (ως πίνακας byte με αναζήτηση βάσει λέξης), η οποία δεν επιμένει μεταξύ των συναλλαγών.

Τα συμβόλαια, ωστόσο, περιέχουν ένα τρίγωνο _αποθήκευσης_ Merkle Patricia (ως πίνακας λέξεων με αναζήτηση βάσει λέξης), που σχετίζεται με τον εν λόγω λογαριασμό και αποτελεί μέρος της συνολικής κατάστασης.

Ο συνταγμένος bytecode έξυπνων συμβολαίων εκτελείται ως ένας αριθμός [κωδικών](/developers/docs/evm/opcodes) EVM, οι οποίοι εκτελούν τυπικές λειτουργίες στοίβας όπως `XOR`, `AND`, `ADD`, `SUB` κ.λπ. Το EVM υλοποιεί επίσης έναν αριθμό λειτουργιών στοίβας ειδικά για την αλυσίδα συστοιχιών, όπως `ADDRESS`, `BALANCE`, `BLOCKHASH`, κ.λπ.

![Ένα διάγραμμα που δείχνει πού χρειάζεται gas για λειτουργίες EVM](../gas/gas.png) _Τα διαγράμματα προσαρμόζονται από το [εικονογραφημένο EVM του Ethereum](https://takenobu-hs.github.io/downloads/ethereum_evm_illustrated.pdf)_

## Υλοποιήσεις EVM {#evm-implementations}

Όλες οι υλοποιήσεις του EVM πρέπει να συμμορφώνονται με τις προδιαγραφές που περιγράφονται στο Yellowpaper του Ethereum.

Κατά τη διάρκεια της εννιάχρονης ιστορίας του Ethereum, το EVM έχει υποστεί αρκετές αναθεωρήσεις και υπάρχουν αρκετές υλοποιήσεις του EVM σε διάφορες γλώσσες προγραμματισμού.

Οι[πελάτης εκτέλεσης του Ethereum](/developers/docs/nodes-and-clients/#execution-clients) περιλαμβάνουν υλοποίηση EVM. Επιπλέον, υπάρχουν πολλές αυτόνομες υλοποιήσεις, όπως:

- [Py-EVM](https://github.com/ethereum/py-evm) - _Python_
- [evmone](https://github.com/ethereum/evmone) - _C++_
- [ethereumjs-vm](https://github.com/ethereumjs/ethereumjs-vm) - _JavaScript_
- [revm](https://github.com/bluealloy/revm) - _Rust_

## Περισσότερες πληροφορίες {#further-reading}

- [Ethereum Yellowpaper](https://ethereum.github.io/yellowpaper/paper.pdf)
- [Jellopaper ή αλλιώς KEVM: EVM στην K](https://jellopaper.org/)
- [The Beigepaper](https://github.com/chronaeon/beigepaper)
- [Εικονική μηχανή Ethereum Opcodes](https://www.ethervm.io/)
- [Διαδραστική αναφορά της Εικονικής μηχανής Ethereum Opcodes](https://www.evm.codes/)
- [Μια σύντομη εισαγωγή στην τεκμηρίωση του Solidity](https://docs.soliditylang.org/en/latest/introduction-to-smart-contracts.html#index-6)
- [Μαθαίνοντας άριστα το Ethereum - Η εικονική μηχανή του Ethereum](https://github.com/ethereumbook/ethereumbook/blob/develop/13evm.asciidoc)

## Σχετικά Θέματα {#related-topics}

- [Καύσιμα](/developers/docs/gas/)
