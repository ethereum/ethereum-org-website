---
title: Πακέτα ενημέρωσης Optimistic
description: Μια εισαγωγή στα optimistic rollups — μια λύση κλιμάκωσης που χρησιμοποιείται από την κοινότητα του Ethereum.
lang: el
---

Τα πακέτα ενημέρωσης (rollups) optimistic είναι πρωτόκολλα επιπέδου 2 (L2) που έχουν σχεδιαστεί για να επεκτείνουν την απόδοση του βασικού επιπέδου του Ethereum. Μειώνουν τον υπολογισμό στην κύρια αλυσίδα Ethereum μέσω της επεξεργασίας των συναλλαγών εκτός αλυσίδας, γεγονός το οποίο προσφέρει σημαντικές βελτιώσεις στις ταχύτητες επεξεργασίας. Σε αντίθεση με άλλες λύσεις κλιμάκωσης, όπως [πλευρικές αλυσίδες](/developers/docs/scaling/sidechains/), τα πακέτα ενημέρωσης optimistic παίρνουν ασφάλεια από το Mainnet, δημοσιεύοντας αποτελέσματα συναλλαγών στην αλυσίδα ή τις [αλυσίδες plasma](/developers/docs/scaling/plasma/), οι οποίες επαληθεύουν επίσης συναλλαγές στο Ethereum με αποδείξεις απάτης, αλλά αποθηκεύουν δεδομένα συναλλαγών αλλού.

Καθώς ο υπολογισμός είναι το αργό, δαπανηρό μέρος της χρήσης του Ethereum, τα πακέτα ενημέρωσης optimistic μπορούν να προσφέρουν έως και 10-100x βελτιώσεις στην επεκτασιμότητα. Τα πακέτα ενημέρωσης optimistic καταχωρούν επίσης συναλλαγές στο Ethereum ως `calldata` ή σε [blobs](/roadmap/danksharding/), μειώνοντας το κόστος gas για τους χρήστες.

## Προαπαιτούμενα {#prerequisites}

Θα πρέπει να έχετε διαβάσει και κατανοήσει τις σελίδες μας σχετικά με την [κλιμάκωση Ethereum](/developers/docs/scaling/) και το [επίπεδο 2](/layer-2/).

## Τι είναι ένα πακέτο ενημέρωσης optimistic; {#what-is-an-optimistic-rollup}

Ένα πακέτο ενημέρωσης optimistic είναι μια προσέγγιση για την κλιμάκωση του Ethereum που περιλαμβάνει μετακίνηση υπολογισμού και της αποθήκευσης κατάστασης εκτός αλυσίδας. Τα πακέτα ενημέρωσης optimistic εκτελούν συναλλαγές έξω από το Ethereum, αλλά δημοσιεύουν δεδομένα συναλλαγών στο Κεντρικό δίκτυο ως `calldata` ή σε [blobs](/roadmap/danksharding/).

Οι χειριστές του πακέτου ενημέρωσης optimistic ομαδοποιούν πολλές συναλλαγές εκτός αλυσίδας σε μεγάλες παρτίδες πριν τις υποβάλουν στο Ethereum. Αυτή η προσέγγιση επιτρέπει την κατανομή του σταθερού κόστους σε πολλαπλές συναλλαγές σε κάθε παρτίδα, μειώνοντας τα τέλη για τους τελικούς χρήστες. Τα πακέτα ενημέρωσης optimistic χρησιμοποιούν επίσης τεχνικές συμπίεσης για να μειώσουν τον όγκο των δεδομένων που δημοσιεύονται στο Ethereum.

Τα πακέτα ενημέρωσης optimistic θεωρούνται «optimistic» επειδή υποθέτουν ότι οι συναλλαγές εκτός αλυσίδας είναι έγκυρες και δε δημοσιεύουν αποδείξεις εγκυρότητας για παρτίδες συναλλαγών που δημοσιεύονται στην αλυσίδα. Αυτό διαχωρίζει τα πακέτα ενημέρωσης optimistic από τα [πακέτα ενημέρωσης μηδενικής γνώσης](/developers/docs/scaling/zk-rollups) που δημοσιεύουν κρυπτογραφικές [αποδείξεις εγκυρότητας](/glossary/#validity-proof) για συναλλαγές εκτός αλυσίδας.

Τα πακέτα ενημέρωσης optimistic βασίζονται σε ένα σύστημα απόδειξης απάτης για τον εντοπισμό περιπτώσεων όπου οι συναλλαγές δεν υπολογίζονται σωστά. Μετά την υποβολή ενός συνόλου πακέτων ενημέρωσης στο Ethereum, υπάρχει ένα χρονικό παράθυρο (που ονομάζεται περίοδος πρόκλησης) κατά τη διάρκεια του οποίου οποιοσδήποτε μπορεί να αμφισβητήσει τα αποτελέσματα μιας συναλλαγής πακέτου ενημέρωσης, υπολογίζοντας μια [απόδειξη απάτης](/glossary/#fraud-proof).

Εάν η απόδειξη απάτης είναι επιτυχής, το πρωτόκολλο πακέτου ενημέρωσης εκτελεί ξανά τις συναλλαγές και ενημερώνει την κατάσταση του πακέτου ενημέρωσης αναλόγως. Το άλλο αποτέλεσμα μιας επιτυχημένης απόδειξης απάτης είναι ότι ο sequencer που είναι υπεύθυνος για τη συμπερίληψη της εσφαλμένα εκτελεσθείσας συναλλαγής σε ένα μπλοκ λαμβάνει μια ποινή.

Εάν η παρτίδα πακέτου ενημέρωσης παραμείνει χωρίς αμφισβήτηση (δηλαδή, όλες οι συναλλαγές εκτελούνται σωστά) μετά την πάροδο της περιόδου πρόκλησης, θεωρείται έγκυρη και αποδεκτή στο Ethereum. Οι υπόλοιποι μπορούν να συνεχίσουν να βασίζονται σε ένα μη επιβεβαιωμένο πακέτο ενημέρωσης μπλοκ, αλλά με μια προειδοποίηση: τα αποτελέσματα των συναλλαγών θα αντιστραφούν εάν βασίζονται σε μια εσφαλμένα εκτελεσθείσα συναλλαγή που δημοσιεύτηκε προηγουμένως.

## Πώς αλληλεπιδρούν τα πακέτα ενημέρωσης optimistic με το Ethereum; {#optimistic-rollups-and-Ethereum}

Τα πακέτα ενημέρωσης optimistic είναι [λύσεις κλιμάκωσης εκτός αλυσίδας](/developers/docs/scaling/#offchain-scaling) που έχουν σχεδιαστεί για να λειτουργούν πάνω από το Ethereum. Κάθε πακέτο ενημέρωσης optimistic διαχειρίζεται ένα σύνολο έξυπνων συμβολαίων που αναπτύσσονται στο δίκτυο Ethereum. Τα πακέτα ενημέρωσης optimistic επεξεργάζονται συναλλαγές εκτός της κύριας αλυσίδας Ethereum, αλλά δημοσιεύει τις συναλλαγές εκτός αλυσίδας (σε παρτίδες) σε ένα συμβόλαιο πακέτου ενημέρωσης στην αλυσίδα. Όπως η κρυπτοαλυσίδα Ethereum, αυτή η εγγραφή συναλλαγών είναι αμετάβλητη και αποτελεί την «αλυσίδα πακέτου ενημέρωσης optimistic».

Η αρχιτεκτονική ενός πακέτου ενημέρωσης optimistic περιλαμβάνει τα ακόλουθα μέρη:

**Συμβόλαια επί της αλυσίδας**: Η λειτουργία των πακέτων ενημέρωσης optimistic ελέγχεται από έξυπνα συμβόλαια που εκτελούνται στο Ethereum. Αυτό περιλαμβάνει συμβόλαια που αποθηκεύουν πακέτα ενημέρωσης μπλοκ, παρακολουθούν τις ενημερώσεις κατάστασης στο πακέτο και παρακολουθούν τις καταθέσεις των χρηστών. Υπό αυτή την έννοια, το Ethereum χρησιμεύει ως το βασικό στρώμα ή το «επίπεδο 1» για τα πακέτα ενημέρωσης optimistic.

**Εικονική μηχανή (VM) εκτός αλυσίδας**: Αν και τα συμβόλαια που διαχειρίζονται το πρωτόκολλο πακέτου ενημέρωσης optimistic εκτελούνται στο Ethereum, το πρωτόκολλο πακέτου ενημέρωσης εκτελεί υπολογισμούς και αποθήκευση της κατάστασης σε άλλη εικονική μηχανή ξεχωριστά από την [Εικονική μηχανή Ethereum](/developers/docs/evm/). Οι VM εκτός αλυσίδας είναι το σημείο όπου υπάρχουν οι εφαρμογές και εκτελούνται οι αλλαγές κατάστασης και χρησιμεύει ως το ανώτερο στρώμα ή «επίπεδο 2» για ένα πακέτο ενημέρωσης optimistic.

Καθώς τα πακέτα ενημέρωσης optimistic έχουν σχεδιαστεί για την εκτέλεση προγραμμάτων είτε γραμμένων είτε μεταγλωττισμένων για το EVM, η VM εκτός αλυσίδας ενσωματώνει πολλές προδιαγραφές σχεδίασης EVM. Επιπλέον, οι αποδείξεις απάτης που υπολογίζονται στην αλυσίδα επιτρέπουν στο δίκτυο Ethereum να επιβάλλει την εγκυρότητα των αλλαγών κατάστασης που υπολογίζονται στην VM εκτός αλυσίδας.

Τα πακέτα ενημέρωσης optimistic περιγράφονται ως «υβριδικές λύσεις κλιμάκωσης» επειδή, ενώ υπάρχουν ως ξεχωριστά πρωτόκολλα, οι ιδιότητες ασφαλείας τους προέρχονται από το Ethereum. Μεταξύ άλλων, το Ethereum εγγυάται την ορθότητα του υπολογισμού του πακέτου ενημέρωσης εκτός αλυσίδας και τη διαθεσιμότητα δεδομένων πίσω από τον υπολογισμό. Αυτό καθιστά τα πακέτα ενημέρωσης optimistic πιο ασφαλή από τα αγνά πρωτόκολλα κλιμάκωση εκτός αύσίδας (π.χ., [sidechains](/developers/docs/scaling/sidechains/)) που δε βασίζονται στο Ethereum για ασφάλεια.

Τα πακέτα ενημέρωσης optimistic βασίζονται στο κύριο πρωτόκολλο Ethereum για τα ακόλουθα:

### Διαθεσιμότητα δεδομένων {#data-availability}

Όπως αναφέρθηκε, τα πακέτα ενημέρωσης optimistic δημοσιεύουν δεδομένα συναλλαγών στο Ethereum ως `calldata` ή [blobs](/roadmap/danksharding/). Δεδομένου ότι η εκτέλεση του πακέτου ενημέρωσης αλυσίδας βασίζεται σε υποβληθείσες συναλλαγές, οποιοσδήποτε μπορεί να χρησιμοποιήσει αυτές τις πληροφορίες οι οποίες που είναι αγκυρωμένες στο βασικό επίπεδο του Ethereum, για να εκτελέσει την κατάσταση του πακέτου ενημέρωσης και να επαληθεύσει την ορθότητα των μεταβάσεων κατάστασης.

Η [διαθεσιμότητα δεδομένων](/developers/docs/data-availability/) είναι κρίσιμης σημασίας, διότι χωρίς πρόσβαση σε δεδομένα κατάστασης, αυτοί που θα αμφισβητήσουν δεν μπορούν να δημιουργήσουν αποδείξεις απάτης για τις μη έγκυρες λειτουργίες των πακέτων ενημέρωσης. Με το Ethereum να παρέχει διαθεσιμότητα δεδομένων, μειώνεται ο κίνδυνος να ξεφύγουν οι χειριστές των πακέτων ενημέρωσης με κακόβουλες ενέργειες (π.χ. υποβολή μη έγκυρων μπλοκ).

### Αντίσταση στη Λογοκρισία {#censorship-resistance}

Τα πακέτα ενημέρωσης optimistic βασίζονται επίσης στο Ethereum για αντίσταση στη λογοκρισία. Σε ένα πακέτο ενημέρωσης optimistic, μια κεντρική οντότητα (ο χειριστής) είναι υπεύθυνος για την επεξεργασία των συναλλαγών και την υποβολή των πακέτων ενημέρωσης μπλοκ στο Ethereum. Αυτό έχει κάποιες συνέπειες:

- Οι χειριστές των πακέτων ενημέρωσης μπορούν να λογοκρίνουν τους χρήστες με το να βγουν εντελώς εκτός σύνδεσης ή με την άρνησή τους να δημιουργήσουν μπλοκ που περιλαμβάνουν ορισμένες συναλλαγές σε αυτά.

- Οι χειριστές των πακέτων ενημέρωσης μπορούν να αποτρέψουν τους χρήστες από το να κάνουν ανάληψη χρημάτων που έχουν κατατεθεί στη συμβόλαιο του πακέτου ενημέρωσης μέσω της δέσμευσης των δεδομένων κατάστασης που είναι απαραίτητα για τα αποδεικτικά ιδιοκτησίας Merkle. Η δέσμευση δεδομένων κατάστασης μπορεί επίσης να αποκρύψει την κατάσταση του πακέτου ενημέρωσης από τους χρήστες και να τους εμποδίσει να αλληλεπιδράσουν με το πακέτο ενημέρωσης.

Τα πακέτα ενημέρωσης optimistic λύνουν αυτό το πρόβλημα αναγκάζοντας τους χειριστές να δημοσιεύουν δεδομένα που σχετίζονται με ενημερώσεις κατάστασης στο Ethereum. Η δημοσίευση δεδομένων rollup στην αλυσίδα έχει τα ακόλουθα πλεονεκτήματα:

- Εάν ένας χειριστής πακέτου ενημέρωσης optimistic βρεθεί εκτός σύνδεσης ή σταματήσει να παράγει παρτίδες συναλλαγών, ένας άλλος κόμβος μπορεί να χρησιμοποιήσει τα διαθέσιμα δεδομένα για να αναπαραγάγει την τελευταία κατάσταση του πακέτου ενημέρωσης και να συνεχίσει την παραγωγή μπλοκ.

- Οι χρήστες μπορούν να χρησιμοποιήσουν δεδομένα συναλλαγών για να δημιουργήσουν αποδεικτικά Merkle που αποδεικνύουν την ιδιοκτησία κεφαλαίων και να αποσύρουν τα περιουσιακά τους στοιχεία από το πακέτο ενημέρωσης.

- Οι χρήστες μπορούν επίσης να υποβάλουν τις συναλλαγές τους στο L1 αντί για τον sequencer. Στην περίπτωση αυτή, ο sequencer πρέπει να συμπεριλάβει τη συναλλαγή εντός συγκεκριμένου χρονικού ορίου για να συνεχίσει να παράγει έγκυρα μπλοκ.

### Διακανονισμός {#settlement}

Ένας άλλος ρόλος που διαδραματίζει το Ethereum στο πλαίσιο των πακέτων ενημέρωσης optimistic είναι αυτός του επιπέδου διακανονισμού. Ένα επίπεδο διακανονισμού αγκυρώνει ολόκληρο το οικοσύστημα blockchain, δημιουργεί ασφάλεια και παρέχει αντικειμενική οριστικότητα εάν προκύψει μια διαφωνία σε μια άλλη αλυσίδα (στα πακέτα ενημέρωσης optimistic σε αυτή την περίπτωση) που απαιτεί διαιτησία.

Το Κεντρικό Δίκτυο του Ethereum παρέχει έναν κόμβο για τα πακέτα ενημέρωσης optimistic για την επαλήθευση των αποδεικτικών απάτης και την επίλυση διαφορών. Επιπλέον, οι συναλλαγές που πραγματοποιούνται στο πακέτο ενημέρωσης είναι τελικές μόνο _αφού_ το μπλοκ του πακέτου ενημέρωσης γίνει αποδεκτό στο Ethereum. Μόλις δεσμευτεί μια συναλλαγή rollup στο βασικό επίπεδο του Ethereum, δεν μπορεί να αναιρεθεί (εκτός από την εξαιρετικά απίθανη περίπτωση αναδιοργάνωσης της αλυσίδας).

## Πώς λειτουργούν τα πακέτα ενημέρωσης optimistic; {#how-optimistic-rollups-work}

### Εκτέλεση και συγκέντρωση συναλλαγών {#transaction-execution-and-aggregation}

Οι χρήστες υποβάλλουν συναλλαγές σε «χειριστές», οι οποίοι είναι κόμβοι υπεύθυνοι για την επεξεργασία των συναλλαγών στο πακέτο ενημέρωσης optimistic. Γνωστός και ως «επικυρωτής» ή «συσσωρευτής», ο χειριστής συγκεντρώνει συναλλαγές, συμπιέζει τα υποκείμενα δεδομένα και δημοσιεύει το μπλοκ στο Ethereum.

Παρόλο που οποιοσδήποτε μπορεί να γίνει επικυρωτής, οι επικυρωτές πακέτων ενημέρωσης optimistic πρέπει να παρέχουν έναν δεσμό πριν από την παραγωγή μπλοκ, όπως ένα [σύστημα απόδειξης συμμετοχής](/developers/docs/consensus-mechanisms/pos/). Αυτός ο δεσμός μπορεί να κοπεί εάν ο επικυρωτής δημοσιεύσει ένα μη έγκυρο μπλοκ ή χτίσει σε ένα παλιό αλλά μη έγκυρο μπλοκ (ακόμα και αν το μπλοκ του είναι έγκυρο). Με αυτόν τον τρόπο τα πακέτα ενημέρωσης optimistic χρησιμοποιούν κρυπτοοικονομικά κίνητρα για να εξασφαλίσουν ότι οι επικυρωτές ενεργούν με ειλικρίνεια.

Άλλοι επικυρωτές στην αλυσίδα των πακέτων ενημέρωσης optimistic αναμένεται να εκτελέσουν τις υποβληθείσες συναλλαγές χρησιμοποιώντας το αντίγραφο της κατάστασης του πακέτου ενημέρωσης. Εάν η τελική κατάσταση ενός επικυρωτή είναι διαφορετική από την προτεινόμενη κατάσταση του χειριστή, μπορεί να ξεκινήσει μια πρόκληση και να υπολογίσει ένα αποδεικτικό απάτης.

Ορισμένα πακέτα ενημέρωσης optimistic μπορεί να απέχουν από ένα σύστημα επικύρωσης χωρίς άδεια και να χρησιμοποιούν έναν μεμονωμένο «sequencer» για την εκτέλεση της αλυσίδας. Όπως ένας επικυρωτής, ο sequencer επεξεργάζεται συναλλαγές, παράγει μπλοκ πακέτων ενημέρωσης και υποβάλλει συναλλαγές rollup στην αλυσίδα L1 (Ethereum).

Ο sequencer διαφέρει από έναν κανονικό χειριστή πακέτων ενημέρωσης, επειδή ασκεί μεγαλύτερο έλεγχο στη διάταξη των συναλλαγών. Επίσης, ο sequencer έχει πρόσβαση κατά προτεραιότητα στην αλυσίδα πακέτου ενημέρωσης και είναι η μόνη οντότητα που είναι εξουσιοδοτημένη να υποβάλλει συναλλαγές στο συμβόλαιο στην αλυσίδα. Οι συναλλαγές από κόμβους που δεν εκτελούν καθήκοντα sequencer ή από τακτικούς χρήστες απλώς τοποθετούνται σε ουρά σε ξεχωριστά εισερχόμενα inbox μέχρι ο sequencer να τις συμπεριλάβει σε μια νέα παρτίδα.

#### Υποβολή μπλοκ πακέτων ενημέρωσης στο Ethereum {#submitting-blocks-to-ethereum}

Όπως αναφέρθηκε, ο χειριστής ενός πακέτου ενημέρωσης optimistic δεσμεύει τις συναλλαγές εκτός αλυσίδας σε μια παρτίδα και τις στέλνει στο Ethereum για συμβολαιογραφική επικύρωση. Αυτή η διαδικασία περιλαμβάνει τη συμπίεση δεδομένων που σχετίζονται με τις συναλλαγές και τη δημοσίευσή τους στο Ethereum ως `calldata` ή σε blob.

Τα `calldata` είναι μια μη τροποποιήσιμη, μη εμμένουσα περιοχή σε ένα έξυπνο συμβόλαιο που συμπεριφέρεται κυρίως σαν [memory](/developers/docs/smart-contracts/anatomy/#memory). Ενώ τα `calldata` παραμένουν στην αλυσίδα ως μέρος των [history logs](https://docs.soliditylang.org/en/latest/introduction-to-smart-contracts.html?highlight=memory#logs) του blockchain, δεν αποθηκεύονται ως μέρος της κατάστασης του Ethereum. Επειδή το `calldata` δεν αγγίζει κανένα μέρος της κατάστασης του Ethereum, είναι φθηνότερο από την αποθήκευση δεδομένων κατάστασης στην αλυσίδα.

Η λέξη-κλειδί `calldata` χρησιμοποιείται επίσης στο Solidity για τη μεταβίβαση ορισμάτων σε μια συνάρτηση έξυπνου συμβόλαιου κατά τον χρόνο εκτέλεσης. Το `calldata` προσδιορίζει τη λειτουργία που καλείται κατά τη διάρκεια μιας συναλλαγής και διατηρεί εισόδους στη λειτουργία με τη μορφή μιας αυθαίρετης ακολουθίας byte.

Στο πλαίσιο των πακέτων ενημέρωσης optimistic, το `calldata` χρησιμοποιείται για την αποστολή συμπιεσμένων δεδομένων συναλλαγών στο συμβόλαιο στην αλυσίδα. Ο χειριστής του πακέτου ενημέρωσης προσθέτει μια νέα παρτίδα με την κλήση της απαιτούμενης λειτουργίας στο συμβόλαιο του πακέτου ενημέρωσης και τη μεταβίβαση των συμπιεσμένων δεδομένων ως ορισμάτων λειτουργίας. Η χρήση `calldata` μειώνει τις χρεώσεις χρήστη, καθώς το μεγαλύτερο κόστος που επιβαρύνει τα πακέτα ενημέρωσης προέρχεται από την αποθήκευση δεδομένων στην αλυσίδα.

Ακολουθεί [ένα παράδειγμα](https://etherscan.io/tx/0x9102bfce17c58b5fc1c974c24b6bb7a924fb5fbd7c4cd2f675911c27422a5591) μιας υποβολής παρτίδας πακέτων ενημέρωσης για να παρουσιαστεί πώς λειτουργεί αυτή η ιδέα. Ο sequencer κάλεσε τη μέθοδο `appendSequencerBatch()` και πέρασε τα συμπιεσμένα δεδομένα συναλλαγής ως δεδομένα εισόδου με τη χρήση `calldata`.

Ορισμένα πακέτα ενημέρωσης χρησιμοποιούν πλέον blob για να δημοσιεύουν παρτίδες συναλλαγών στο Ethereum.

Τα blob είναι μη τροποποιήσιμα και μη εμμένοντα (ακριβώς όπως το `calldata`), αλλά αφαιρούνται από το ιστορικό μετά από ~18 ημέρες. Για περισσότερες πληροφορίες σχετικά με τα blob, διαβάστε το [Danksharding](/roadmap/danksharding).

### Δεσμεύσεις κατάστασης {#state-commitments}

Σε οποιαδήποτε χρονική στιγμή, η κατάσταση του πακέτου ενημέρωσης optimistic (λογαριασμοί, υπόλοιπα, κώδικας συμβολαίου κ.λπ.) οργανώνεται ως [δέντρο Merkle](/whitepaper/#merkle-trees) που ονομάζεται «δέντρο κατάστασης». Η ρίζα αυτού του δέντρου Merkle (κατάσταση ρίζας), η οποία αναφέρεται στην πιο πρόσφατη κατάσταση του πακέτου ενημέρωσης, κατακερματίζεται και αποθηκεύεται στο συμβόλαιο πακέτου ενημέρωσης. Κάθε μετάβαση κατάστασης στην αλυσίδα παράγει μια νέα κατάσταση πακέτου ενημέρωσης, στην οποία ένας χειριστής δεσμεύεται υπολογίζοντας ένα νέο root κατάστασης.

Ο χειριστής υποχρεούται να υποβάλλει τόσο τις παλιές ρίζες κατάστασης όσο και τις νέες ρίζες κατάστασης κατά την ανάρτηση παρτίδων. Εάν η παλιά κατάσταση ρίζας ταιριάζει με την υπάρχουσα κατάσταση ρίζας στο συμβόλαιο στην αλυσίδα, η τελευταία απορρίπτεται και αντικαθίσταται με τη νέα κατάσταση ρίζας.

Ο χειριστής του πακέτου ενημέρωσης απαιτείται επίσης να δεσμεύσει μια ρίζα Merkle για την ίδια τη δέσμη συναλλαγών. Αυτό επιτρέπει σε οποιονδήποτε να αποδείξει τη συμπερίληψη μιας συναλλαγής στη δέσμη (στο L1) με την παρουσίαση μιας [απόδειξης Merkle](/developers/tutorials/merkle-proofs-for-offline-data-integrity/).

Οι δεσμεύσεις κατάστασης, ιδιαίτερα οι καταστάσεις ρίζας, είναι απαραίτητες για την απόδειξη της ορθότητας των αλλαγών κατάστασης σε ένα πακέτο ενημέρωσης optimistic. Το συμβόλαιο πακέτου ενημέρωσης δέχεται νέες καταστάσεις ρίζες από τους χειριστές αμέσως μετά τη δημοσίευσή τους, αλλά μπορεί αργότερα να διαγράψει μη έγκυρες καταστάσεις ρίζας για να επαναφέρει το πακέτο ενημέρωσης στη σωστή του κατάσταση.

### Απόδειξη απάτης {#fraud-proving}

Όπως εξηγείται, τα πακέτα ενημέρωσης optimistic επιτρέπουν σε οποιονδήποτε να δημοσιεύει μπλοκ χωρίς να παρέχει αποδείξεις εγκυρότητας. Ωστόσο, για να διασφαλιστεί ότι η αλυσίδα παραμένει ασφαλής, τα πακέτα ενημέρωσης optimistic καθορίζουν ένα χρονικό παράθυρο κατά το οποίο οποιοσδήποτε μπορεί να αμφισβητήσει μια μετάβαση κατάστασης. Ως εκ τούτου, τα μπλοκ πακέτων ενημέρωσης ονομάζονται «ισχυρισμοί», καθώς ο οποιοσδήποτε μπορεί να αμφισβητήσει την εγκυρότητά τους.

Εάν κάποιος αμφισβητήσει έναν ισχυρισμό, τότε το πρωτόκολλο πακέτου ενημέρωσης θα ξεκινήσει τον υπολογισμό απόδειξης απάτης. Κάθε τύπος απόδειξης απάτης είναι αλληλεπιδραστικός —κάποιος πρέπει να δημοσιεύσει έναν ισχυρισμό πριν κάποιος άλλος μπορέσει να τον αμφισβητήσει. Η διαφορά έγκειται στο πόσοι γύροι αλληλεπίδρασης απαιτούνται για τον υπολογισμό της απόδειξης απάτης.

Αλληλεπιδραστικά συστήματα απόδειξης ενός γύρου επαναλαμβάνουν αμφισβητούμενες συναλλαγές στο L1 για τον εντοπισμό μη έγκυρων ισχυρισμών. Το πρωτόκολλο πακέτου ενημέρωσης μιμείται την εκ νέου εκτέλεση της αμφισβητούμενης συναλλαγής στο L1 (Ethereum) χρησιμοποιώντας ένα συμβόλαιο επαληθευτή, με την υπολογισμένη ρίζα κατάστασης να καθορίζει ποιος κερδίζει την πρόκληση. Εάν ο ισχυρισμός αυτού που αμφισβητεί σχετικά με τη σωστή κατάσταση του πακέτου ενημέρωσης είναι σωστός, ο χειριστής τιμωρείται με περικοπή του δεσμού του.

Ωστόσο, η επανεκτέλεση συναλλαγών στο L1 για τον εντοπισμό απάτης απαιτεί τη δημοσίευση δεσμεύσεων κατάστασης για μεμονωμένες συναλλαγές και αυξάνει τα δεδομένα που πρέπει να δημοσιεύουν τα πακέτα ενημέρωσης στην αλυσίδα. Η επανάληψη των συναλλαγών συνεπάγεται επίσης σημαντικό κόστος gas. Για αυτούς τους λόγους, γίνεται μετάβαση των πακέτων ενημερώσεων optimistic σε αλληλεπιδραστική απόδειξη πολλαπλών γύρων, η οποία επιτυγχάνει τον ίδιο στόχο (δηλαδή τον εντοπισμό μη έγκυρων λειτουργιών πακέτων ενημερώσεων) με μεγαλύτερη αποτελεσματικότητα.

#### Διαδραστική απόδειξη πολλαπλών κύκλων {#multi-round-interactive-proving}

Η διαδραστική απόδειξη πολλαπλών γύρων περιλαμβάνει ένα πρωτόκολλο εμπρός-πίσω μεταξύ αυτού που υποβάλλει τον ισχυρισμό και αυτού που τον αμφισβητεί, υπό την επίβλεψη ενός συμβολαίου επαληθευτή L1, το οποίο τελικά αποφασίζει το ψευδές μέρος. Αφού ένας κόμβος L2 αμφισβητήσει έναν ισχυρισμό, αυτός που υποβάλλει τον ισχυρισμό πρέπει να διαιρέσει τον αμφισβητούμενο ισχυρισμό σε δύο ισοδύναμα μισά μέρη. Κάθε μεμονωμένος ισχυρισμός σε αυτή την περίπτωση θα περιέχει όσα βήματα υπολογισμού έχει και ο άλλος.

Αυτός που τον αμφισβητεί θα επιλέξει, στη συνέχεια, τον συγκεκριμένο ισχυρισμό που θέλει να αμφισβητήσει. Η διαδικασία διαίρεσης (που ονομάζεται «πρωτόκολλο διχοτόμησης») συνεχίζεται μέχρι και τα δύο μέλη αμφισβητήσουν έναν ισχυρισμό σχετικά με ένα _μεμονωμένο_ βήμα εκτέλεσης. Σε αυτό το σημείο, το συμβόλαιο L1 θα επιλύσει τη διαφορά μέσω της αξιολόγησης της οδηγίας (και του αποτελέσματός της) για να πιάσει το δόλιο μέρος.

Ο διεκδικητής πρέπει να παράσχει μια «απόδειξη ενός βήματος» που επαληθεύει την εγκυρότητα του αμφισβητούμενου υπολογισμού ενός σταδίου. Εάν ο διεκδικητής αποτύχει να παράσχει την απόδειξη ενός βήματος ή ο επαληθευτής L1 κρίνει ότι η απόδειξη δεν είναι έγκυρη, χάνει την πρόκληση.

Μερικές σημειώσεις σχετικά με αυτό το είδος απόδειξης απάτης:

1. Η διαδραστική απόδειξη απάτης πολλαπλών γύρων θεωρείται αποτελεσματική επειδή ελαχιστοποιεί το έργο που πρέπει να κάνει η αλυσίδα L1 στη διαιτησία διαφορών. Αντί να επαναλαμβάνει ολόκληρη τη συναλλαγή, η αλυσίδα L1 χρειάζεται να επαναλάβει μόνο ένα βήμα στην εκτέλεση του πακέτου ενημέρωσης.

2. Τα πρωτόκολλα διχοτόμησης μειώνουν τον όγκο των δεδομένων που δημοσιεύονται στην αλυσίδα (δε χρειάζεται να δημοσιεύονται δεσμεύσεις κατάστασης για κάθε συναλλαγή). Επίσης, τα optimistic πακέτα ενημέρωσης δεν περιορίζονται από το όριο gas του Ethereum. Αντίθετα, τα πακέτα ενημέρωσης optimistic που εκτελούν εκ νέου συναλλαγές πρέπει να διασφαλίζουν ότι μια συναλλαγή L2 έχει ένα χαμηλότερο όριο gas για να μιμηθεί την εκτέλεσή της σε μία μεμονωμένη συναλλαγή Ethereum.

3. Μέρος του δεσμού του κακόβουλου χρήστη απονέμεται στον αμφισβητία, ενώ το άλλο μέρος καίγεται. Το κάψιμο αποτρέπει τη συμπαιγνία μεταξύ επικυρωτών. Εάν δύο επικυρωτές συνεννοηθούν για να ξεκινήσουν ψευδείς προκλήσεις, θα χάσουν ένα σημαντικό κομμάτι ολόκληρου του δεσμευμένου κεφαλαίου.

4. Η διαδραστική απόδειξη πολλαπλών γύρων απαιτεί από τα δύο μέρη (τον διεκδικητή και τον αμφισβητία) να κάνουν κινήσεις εντός του καθορισμένου χρονικού παραθύρου. Η παράλειψη ενεργοποίησης πριν από τη λήξη της προθεσμίας αναγκάζει τον παραβάτη να χάσει την αμφισβήτηση.

#### Γιατί οι αποδείξεις απάτης έχουν σημασία για τα πακέτα ενημέρωσης optimistic {#fraud-proof-benefits}

Οι αποδείξεις απάτης είναι σημαντικές επειδή διευκολύνουν την _αξιόπιστη οριστικότητα_ στα πακέτα ενημέρωσης optimistic. Η αξιόπιστη οριστικότητα είναι μια ποιότητα πακέτων ενημέρωσης optimistic που εγγυάται ότι μια συναλλαγή —εφόσον είναι έγκυρη— θα επιβεβαιωθεί τελικά.

Οι κακόβουλοι κόμβοι μπορούν να προσπαθήσουν να καθυστερήσουν την επιβεβαίωση ενός έγκυρου πακέτου ενημέρωσης μπλοκ ξεκινώντας ψευδείς προκλήσεις. Ωστόσο, οι αποδείξεις απάτης θα αποδείξουν τελικά την εγκυρότητα του μπλοκ rollup και θα οδηγήσουν στην επιβεβαίωσή του.

Αυτό σχετίζεται επίσης με ένα άλλο χαρακτηριστικό ασφαλείας των optimistic rollup: η εγκυρότητα της αλυσίδας βασίζεται στην ύπαρξη _ενός_ ειλικρινούς κόμβου. Ο ειλικρινής κόμβος μπορεί να προωθήσει σωστά την αλυσίδα είτε δημοσιεύοντας έγκυρους ισχυρισμούς είτε αμφισβητώντας μη έγκυρους ισχυρισμούς. Όποια και αν είναι η περίπτωση, οι κακόβουλοι κόμβοι που διαφωνούν με έναν ειλικρινή κόμβο θα χάσουν τα μερίδια τους κατά τη διαδικασία απόδειξης απάτης.

### Διαλειτουργικότητα L1/L2 {#l1-l2-interoperability}

Τα optimistic rollup έχουν σχεδιαστεί για διαλειτουργικότητα με το Κεντρικό Δίκτυο του Ethereum και επιτρέπουν στους χρήστες να μεταφέρουν μηνύματα και αυθαίρετα δεδομένα μεταξύ L1 και L2. Είναι επίσης συμβατά με το EVM, ώστε να μπορείτε να μεταφέρετε υπάρχουσες [dapp](/developers/docs/dapps/) σε optimistic rollup ή να δημιουργείτε νέες dapp χρησιμοποιώντας εργαλεία ανάπτυξης Ethereum.

#### 1. Κίνηση κεφαλαίου {#asset-movement}

##### Προσθήκη πακέτου ενημέρωσης

Για να χρησιμοποιήσουν ένα optimistic rollup, οι χρήστες καταθέτουν ETH, token ERC-20 και άλλα αποδεκτά στοιχεία στο συμβόλαιο [γέφυρας](/developers/docs/bridges/) του rollup στο L1. Το συμβόλαιο γέφυρας θα μεταφέρει τη συναλλαγή στο L2, όπου ένα ισοδύναμο ποσό περιουσιακών στοιχείων κόβεται και αποστέλλεται στη διεύθυνση που έχει επιλέξει ο χρήστης στο optimistic rollup.

Οι συναλλαγές που δημιουργούνται από τους χρήστες (όπως μια κατάθεση L1 > L2) συνήθως τοποθετούνται σε ουρά μέχρι ο sequencer να τις υποβάλει ξανά στο συμβόλαιο rollup. Ωστόσο, για να διατηρηθεί η αντίσταση στη λογοκρισία, τα πακέτα ενημέρωσης optimistic επιτρέπουν στους χρήστες να υποβάλουν μια συναλλαγή απευθείας στο συμβόλαιο στην αλυσίδα εάν έχει καθυστερήσει πέραν του μέγιστου επιτρεπόμενου χρόνου.

Ορισμένα optimistic rollup υιοθετούν μια πιο απλή προσέγγιση για να αποτρέψουν τους sequencer από το να λογοκρίνουν τους χρήστες. Εδώ, ένα μπλοκ ορίζεται από όλες τις συναλλαγές που υποβάλλονται στο συμβόλαιο L1 από το προηγούμενο μπλοκ (π.χ. καταθέσεις) επιπλέον των συναλλαγών που υποβάλλονται για επεξεργασία στην αλυσίδα rollup. Εάν ένας sequencer αγνοήσει μια συναλλαγή L1, θα δημοσιεύσει την (αποδεδειγμένα) λάθος ρίζα κατάστασης. Συνεπώς, οι sequencer δεν μπορούν να καθυστερήσουν τα μηνύματα που δημιουργούνται από τον χρήστη μόλις αναρτηθούν στο L1.

##### Έξοδος από το rollup

Η ανάληψη από ένα optimistic rollup στο Ethereum είναι πιο δύσκολη λόγω του συστήματος απόδειξης απάτης. Εάν ένας χρήστης εκκινήσει μια συναλλαγή L2 > L1για ανάληψη κεφαλαίων που έχουν δεσμευτεί στο L1, πρέπει να περιμένει μέχρι να παρέλθει η περίοδος πρόκλησης, η οποία διαρκεί περίπου επτά ημέρες. Ωστόσο, η ίδια η διαδικασία ανάληψης είναι αρκετά απλή.

Αφού εκκινηθεί το αίτημα ανάληψης στο rollup του L2, η συναλλαγή περιλαμβάνεται στην επόμενη παρτίδα, ενώ τα περιουσιακά στοιχεία του χρήστη στο rollup καίγονται. Μόλις δημοσιευτεί η παρτίδα στο Ethereum, ο χρήστης μπορεί να υπολογίσει μια απόδειξη Merkle που επαληθεύει τη συμπερίληψη της συναλλαγής εξόδου του στο μπλοκ. Στη συνέχεια, το μόνο που μένει να κάνει είναι να περιμένει την περίοδο καθυστέρησης για την οριστικοποίηση της συναλλαγής στο L1 και την ανάληψη χρημάτων στο Κεντρικό Δίκτυο.

Για να αποφύγετε την αναμονή μιας εβδομάδας πριν από την ανάληψη κεφαλαίων στο Ethereum, οι χρήστες των optimistic rollup μπορούν να χρησιμοποιήσουν έναν **πάροχο ρευστότητας** (liquidity provider, LP). Ένας πάροχος ρευστότητας αναλαμβάνει την ιδιοκτησία μιας εκκρεμούς ανάληψης L2 και πληρώνει τον χρήστη στο L1 (με αντάλλαγμα την πληρωμή μιας αμοιβής).

Οι πάροχοι ρευστότητας μπορούν να ελέγξουν την εγκυρότητα του αιτήματος ανάληψης του χρήστη (με το να εκτελέσουν οι ίδιοι την αλυσίδα) πριν αποδεσμεύσουν κεφάλαια. Με αυτόν τον τρόπο έχουν διαβεβαιώσεις ότι η συναλλαγή θα επιβεβαιωθεί τελικά (δηλαδή, αδιαμφισβήτητη οριστικότητα).

#### 2. Συμβατότητα EVM {#evm-compatibility}

Για τους προγραμματιστές, το πλεονέκτημα των optimistic rollup είναι η συμβατότητά τους —ή, ακόμα καλύτερα, η ισοδυναμία τους— με το [Εικονικό μηχάνημα του Ethereum (EVM)](/developers/docs/evm/). Τα συμβατά με EVM rollup συμμορφώνονται με τις προδιαγραφές στην [Κίτρινη Βίβλο του Ethereum](https://ethereum.github.io/yellowpaper/paper.pdf) και υποστηρίζουν το EVM σε επίπεδο bytecode.

Η συμβατότητα με EVM σε optimistic rollup έχει τα ακόλουθα πλεονεκτήματα:

i. Οι προγραμματιστές μπορούν να μετεγκαταστήσουν τα υπάρχοντα έξυπνα συμβόλαια στο Ethereum σε αλυσίδες optimistic rollup χωρίς να χρειάζεται να τροποποιήσουν εκτενώς τις βάσεις κώδικα. Αυτό μπορεί να εξοικονομήσει χρόνο στις ομάδες ανάπτυξης κατά τη δημοσίευση έξυπνων συμβολαίων Ethereum στο L2.

ii. Οι προγραμματιστές και οι ομάδες έργων που χρησιμοποιούν optimistic rollup μπορούν να επωφεληθούν από την υποδομή του Ethereum. Αυτό περιλαμβάνει γλώσσες προγραμματισμού, βιβλιοθήκες κώδικα, εργαλεία δοκιμών, λογισμικό πελάτη, υποδομή ανάπτυξης και άλλα.

Η χρήση υφιστάμενων εργαλείων είναι σημαντική επειδή αυτά τα εργαλεία έχουν ελεγχθεί εκτενώς, διορθωθεί και βελτιωθεί με τα χρόνια. Εξαλείφει επίσης την ανάγκη να μάθουν οι προγραμματιστές του Ethereum πώς να κατασκευάζουν με μια εντελώς νέα στοίβα ανάπτυξης.

#### 3. Κλήσεις συμβολαίων διασταυρούμενων αλυσίδων {#cross-chain-contract-calls}

Οι χρήστες (λογαριασμοί υπό καθεστώς εξωτερικής ιδιοκτησίας) αλληλεπιδρούν με συμβόλαια L2 υποβάλλοντας μια συναλλαγή στο πακέτο ενημέρωσης ή ζητώντας από έναν sequencer ή επικυρωτή να το κάνει εκ μέρους τους. Τα optimistic rollup επιτρέπουν επίσης στους λογαριασμούς συμβολαίων στο Ethereum να αλληλεπιδρούν με συμβόλαια L2 χρησιμοποιώντας συμβόλαια γεφύρωσης για τη μετάδοση μηνυμάτων και τη μεταφορά δεδομένων μεταξύ L1 και L2. Αυτό σημαίνει ότι μπορείτε να προγραμματίσετε ένα συμβόλαιο L1 στο Κεντρικό Δίκτυο του Ethereum για να καλέσετε συναρτήσεις που ανήκουν σε συμβόλαια σε optimistic rollup L2.

Οι κλήσεις συμβολαίων διασταυρούμενων αλυσίδων πραγματοποιούνται ασύγχρονα —αυτό σημαίνει ότι πρώτα ξεκινά η κλήση και μετά εκτελείται σε μεταγενέστερο χρόνο. Αυτό διαφέρει από τις κλήσεις μεταξύ των δύο συμβολαίων στο Ethereum, όπου η κλήση παράγει αποτελέσματα αμέσως.

Ένα παράδειγμα κλήσης συμβολαίου cross-chain είναι η συμβολική κατάθεση που περιγράφηκε προηγουμένως. Ένα συμβόλαιο στο L1 δεσμεύει τα κρυπτονομίσματα του χρήστη και στέλνει ένα μήνυμα σε ένα συζευγμένο συμβόλαιο L2 για να κόψει ισοδύναμο αριθμό κρύπτο στο πακέτο ενημέρωσης.

Καθώς οι κλήσεις μηνυμάτων διασταυρούμενων αλυσίδων καταλήγουν στην εκτέλεση του συμβολαίου, ο αποστολέας συνήθως καλείται να καλύψει το [κόστος gas ](/developers/docs/gas/) για τον υπολογισμό. Συνιστάται να ορίσετε ένα υψηλό όριο gas για να αποτρέψετε την αποτυχία της συναλλαγής στη στοχευμένη αλυσίδα. Το σενάριο της γεφύρωσης κρύπτο είναι ένα καλό παράδειγμα. Εάν η πλευρά L1 της συναλλαγής (κατάθεση των κρύπτο) λειτουργεί, αλλά η πλευρά L2 (κοπή νέων κρύπτο) αποτύχει λόγω χαμηλού gas, η κατάθεση γίνεται μη αναστρέψιμη.

Τέλος, να σημειώσουμε ότι οι κλήσεις μηνυμάτων L2 > L1 μεταξύ συμβολαίων πρέπει να λάβουν υπόψη τις καθυστερήσεις (οι κλήσεις L1 > L2 συνήθως εκτελούνται μετά από μερικά λεπτά). Αυτό συμβαίνει επειδή τα μηνύματα που αποστέλλονται στο Κεντρικό Δίκτυο από το optimistic rollup δεν μπορούν να εκτελεστούν έως ότου παρέλθει το χρονικό περιθώριο πρόκλησης.

## Πώς λειτουργούν τα τέλη των optimistic rollup; {#how-do-optimistic-rollup-fees-work}

Τα optimistic rollups χρησιμοποιούν ένα σύστημα τελών gas, όπως το Ethereum, για να υποδείξουν πόσα πληρώνουν οι χρήστες ανά συναλλαγή. Τα τέλη που χρεώνονται σε optimistic rollup εξαρτώνται από τα ακόλουθα στοιχεία:

1. **State write (καταγραφή κατάστασης)**: Τα optimistic rollup δημοσιεύουν δεδομένα συναλλαγών και κεφαλίδες μπλοκ (που αποτελούνται από τον προηγούμενο hash κεφαλίδας μπλοκ, ρίζα κατάστασης, ρίζα παρτίδας) στο Ethereum ως `blob` ή «δυαδικό μεγάλο αντικείμενο» (binary large object). Το [EIP-4844](https://eips.ethereum.org/EIPS/eip-4844) παρουσίασε μια οικονομικά αποδοτική λύση για τη συμπερίληψη δεδομένων στην αλυσίδα. Το `blob` είναι ένα νέο πεδίο συναλλαγών που επιτρέπει στα rollup να δημοσιεύουν συμπιεσμένα δεδομένα μετάβασης κατάστασης στο Ethereum L1. Σε αντίθεση με τα `calldata`, τα οποία παραμένουν μόνιμα στην αλυσίδα, τα blobs είναι σύντομα και μπορούν να περικοπούν από πελάτες μετά από [4096 εποχές](https://github.com/ethereum/consensus-specs/blob/81f3ea8322aff6b9fb15132d050f8f98b16bdba4/configs/mainnet.yaml#L147) (περίπου 18 ημέρες). Χρησιμοποιώντας blob για τη δημοσίευση παρτίδων συμπιεσμένων συναλλαγών, τα optimistic rollup μπορούν να μειώσουν σημαντικά το κόστος εγγραφής συναλλαγών στο L1.

2. **Blob gas used (gas blob που χρησιμοποιήθηκε)**: Οι συναλλαγές που μεταφέρουν blob χρησιμοποιούν έναν δυναμικό μηχανισμό χρέωσης παρόμοιο με αυτόν που εισήχθη από το [EIP-1559](https://eips.ethereum.org/EIPS/eip-1559). Η χρέωση gas για συναλλαγές τύπου 3 λαμβάνει υπόψη τη βασική χρέωση για blob, η οποία καθορίζεται από το δίκτυο με βάση τη ζήτηση χώρου blob και τη χρήση χώρου blob της συναλλαγής που αποστέλλεται.

3. **L2 operator fees (Τέλη χειριστή L2)**: Αυτό είναι το ποσό που καταβάλλεται στους κόμβους rollup ως αποζημίωση για το υπολογιστικό κόστος που προκύπτει κατά τη διεκπεραίωση συναλλαγών, όπως και τα τέλη gas στο Ethereum. Οι κόμβοι rollup χρεώνουν χαμηλότερα τέλη συναλλαγών, καθώς τα L2 έχουν υψηλότερη ικανότητα επεξεργασίας και δεν αντιμετωπίζουν συμφορήσεις δικτύου που αναγκάζουν τους επικυρωτές στο Ethereum να δίνουν προτεραιότητα στις συναλλαγές με υψηλότερα τέλη.

Τα optimistic rollup εφαρμόζουν διάφορους μηχανισμούς για τη μείωση των τελών για τους χρήστες, συμπεριλαμβανομένων της ομαδοποίησης συναλλαγών και της συμπίεσης `calldata` για τη μείωση του κόστους δημοσίευσης δεδομένων. Μπορείτε να ελέγξετε το [L2 fee tracker](https://l2fees.info/) για μια επισκόπηση σε πραγματικό χρόνο του κόστους χρήσης optimistic rollup που βασίζονται στο Ethereum.

## Πώς τα optimistic rollup επεκτείνουν το Ethereum; {#scaling-ethereum-with-optimistic-rollups}

Όπως έχουμε ήδη εξηγήσει, τα optimistic rollup δημοσιεύουν συμπιεσμένα δεδομένα συναλλαγών στο Ethereum για να εγγυηθούν τη διαθεσιμότητα των δεδομένων. Η ικανότητα συμπίεσης δεδομένων που δημοσιεύονται στην αλυσίδα είναι ζωτικής σημασίας για την κλιμάκωση της απόδοσης στο Ethereum με optimistic rollups.

Η κύρια αλυσίδα του Ethereum θέτει όρια στο πόσα δεδομένα μπορούν να χωρέσουν τα μπλοκ, τα οποία εκφράζονται σε μονάδες gas (το [μέσο μέγεθος μπλοκ](/developers/docs/blocks/#block-size) είναι 15 εκατομμύρια gas). Παρότι αυτό περιορίζει την ποσότητα gas που μπορεί να χρησιμοποιήσει κάθε συναλλαγή, σημαίνει επίσης ότι μπορούμε να αυξήσουμε τις συναλλαγές που υποβάλλονται σε επεξεργασία ανά μπλοκ μειώνοντας τα δεδομένα που σχετίζονται με τις συναλλαγές —βελτιώνοντας άμεσα την επεκτασιμότητα.

Τα optimistic rollup χρησιμοποιούν διάφορες τεχνικές για την επίτευξη συμπίεσης δεδομένων συναλλαγών και τη βελτίωση των ρυθμών TPS. Για παράδειγμα, αυτό το [άρθρο](https://vitalik.eth.limo/general/2021/01/05/rollup.html) συγκρίνει τα δεδομένα που δημιουργεί μια βασική συναλλαγή χρήστη (αποστολή ether) στο Κεντρικό Δίκτυο σε σχέση με πόσα δεδομένα δημιουργεί η ίδια συναλλαγή σε ένα rollup:

| Παράμετρος   | Ethereum (L1)         | Πακέτο ενημ (L2) |
| ------------ | --------------------- | ---------------- |
| Μοναδικότητα | ~3                    | 0                |
| Τιμή αερίου  | ~8                    | 0-0.5            |
| Καύσιμα      | 3                     | 0-0.5            |
| Προς         | 21                    | 4                |
| Τιμή         | 9                     | ~3               |
| Υπογραφή     | ~68 (2 + 33 + 33)     | ~0.5             |
| Aπό          | 0 (επαναφοφά από sig) | 4                |
| **Σύνολο**   | **~112 bytes**        | **~12 bytes**    |

Μερικοί πρόχειροι υπολογισμοί σε αυτά τα αριθμητικά στοιχεία μπορεί να βοηθήσουν να φανούν οι βελτιώσεις επεκτασιμότητας που προσφέρει ένα optimistic rollup:

1. Το μέγεθος στόχου για κάθε μπλοκ είναι 15 εκατομμύρια gas και κοστίζει 16 gas για την επαλήθευση ενός byte δεδομένων. Η διαίρεση του μέσου μεγέθους μπλοκ με 16 gas (15.000.000/16) δείχνει ότι το μέσο μπλοκ μπορεί να χωρέσει **937.500 byte δεδομένων**.
2. Εάν μια βασική συναλλαγή rollup χρησιμοποιεί 12 byte, τότε το μέσο μπλοκ του Ethereum μπορεί να επεξεργαστεί **78.125 συναλλαγές rollup** (937.5000/12) ή **39 παρτίδες rollup ** (αν κάθε παρτίδα περιέχει κατά μέσο όρο 2.000 συναλλαγές).
3. Εάν στο Ethereum παράγεται ένα νέο μπλοκ κάθε 15 δευτερόλεπτα, τότε οι ταχύτητες επεξεργασίας του rollup θα ανέρχονται περίπου σε **5.208 συναλλαγές ανά δευτερόλεπτο**. Αυτό γίνεται διαιρώντας τον αριθμό των βασικών συναλλαγών rollup που μπορεί να χωρέσει ένα μπλοκ Ethereum (**78.125**) με τον μέσο χρόνο μπλοκ (**15 δευτερόλεπτα**).

Πρόκειται για μια αρκετά αισιόδοξη εκτίμηση, δεδομένου ότι οι συναλλαγές optimistic rollup δεν είναι δυνατόν να περιλαμβάνουν ένα ολόκληρο μπλοκ στο Ethereum. Ωστόσο, μπορεί να δώσει μια χονδρική ιδέα για το πόσα οφέλη επεκτασιμότητας μπορούν να προσφέρουν τα optimistic rollup στους χρήστες του Ethereum (οι τρέχουσες υλοποιήσεις προσφέρουν έως και 2.000 TPS).

Η εισαγωγή του [data sharding](/roadmap/danksharding/) στο Ethereum αναμένεται να βελτιώσει την επεκτασιμότητα στα optimistic rollup. Επειδή οι συναλλαγές rollup πρέπει να μοιράζονται χώρο μπλοκ με άλλες συναλλαγές που δεν είναι rollup, η ικανότητα επεξεργασίας τους περιορίζεται από τη διακίνηση δεδομένων στην κύρια αλυσίδα Ethereum. Το Danksharding θα αυξήσει τον διαθέσιμο χώρο στις αλυσίδες L2 για τη δημοσίευση δεδομένων ανά μπλοκ, χρησιμοποιώντας φθηνότερο, προσωρινό χώρο αποθήκευσης «blob» αντί για ακριβό, μόνιμο `CALLDATA`.

### Πλεονεκτήματα και μειονεκτήματα optimistic rollup {#optimistic-rollups-pros-and-cons}

| Πλεονεκτήματα                                                                                                                                                                                           | Μειονεκτήματα                                                                                                                                                                               |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Προσφέρει τεράστιες βελτιώσεις στην επεκτασιμότητα χωρίς να θυσιάζει την ασφάλεια ή την έλλειψη εμπιστοσύνης.                                                                                           | Καθυστερήσεις στην οριστικοποίηση της συναλλαγής λόγω πιθανών αμφισβητήσεων περί απάτης.                                                                                                    |
| Τα δεδομένα συναλλαγών αποθηκεύονται στην αλυσίδα του επιπέδου 1, κάτι που βελτιώνει τη διαφάνεια, την ασφάλεια, την αντίσταση στη λογοκρισία και την αποκέντρωση.                                      | Οι κεντρικοποιημένοι χειριστές rollup (sequencer) μπορούν να επηρεάσουν τη σειρά των συναλλαγών.                                                                                            |
| Η απόδειξη της απάτης εγγυάται την αδιαπραγμάτευτη οριστικότητα και επιτρέπει στις ειλικρινείς μειονότητες να εξασφαλίσουν την αλυσίδα.                                                                 | Εάν δεν υπάρχουν ειλικρινείς κόμβοι, ένας κακόβουλος χειριστής μπορεί να κλέψει χρήματα δημοσιεύοντας μη έγκυρα μπλοκ και δεσμεύσεις κατάστασης.                                            |
| Οι υπολογιστικές αποδείξεις απάτης είναι ανοιχτές στον κανονικό κόμβο L2, σε αντίθεση με τις αποδείξεις εγκυρότητας (που χρησιμοποιούνται σε ZK rollup) που απαιτούν ειδικό υλικό.                      | Το μοντέλο ασφαλείας βασίζεται σε τουλάχιστον έναν ειλικρινή κόμβο που εκτελεί συναλλαγές rollup και υποβάλλει αποδείξεις απάτης για να αμφισβητήσει τις μεταβάσεις μη έγκυρων καταστάσεων. |
| Τα πακέτα συναλλαγών επωφελούνται από την "αξιόπιστη επιβιωσιμότητα" (ο καθένας μπορεί να αναγκάσει την αλυσίδα να προχωρήσει εκτελώντας συναλλαγές και δημοσιεύοντας ισχυρισμούς)                      | Οι χρήστες πρέπει να περιμένουν να λήξει η περίοδος πρόκλησης διάρκειας μίας εβδομάδας προτού κάνουν ανάληψη των χρημάτων πίσω στο Ethereum.                                                |
| Τα optimistic rollup βασίζονται σε καλά σχεδιασμένα κρυπτοοικονομικά κίνητρα για την αύξηση της ασφάλειας στην αλυσίδα.                                                                                 | Τα rollup πρέπει να δημοσιεύουν όλα τα δεδομένα συναλλαγών στην αλυσίδα, κάτι που μπορεί να αυξήσει το κόστος.                                                                              |
| Η συμβατότητα με το EVM και το Solidity επιτρέπει στους προγραμματιστές να μεταφέρουν εγγενή στο Ethereum έξυπνα συμβόλαια σε rollup ή να χρησιμοποιούν υπάρχοντα εργαλεία για τη δημιουργία νέων dapp. |                                                                                                                                                                                             |

### Μια οπτική επεξήγηση των optimistic rollup {#optimistic-video}

Περισσότερα από έναν εικονικό μαθητή; Παρακολουθήστε το Finematics να εξηγεί τα optimistic rollup:

<YouTube id="7pWxCklcNsU" start="263" />

## Περαιτέρω υλικό για ανάγνωση σχετικά με τα optimistic rollup

- [Πώς λειτουργούν τα optimistic rollup (Ο Πλήρης Οδηγός)](https://www.alchemy.com/overviews/optimistic-rollups)
- [Τι είναι το πακέτο ενημέρωσης blockchain; Μια τεχνική οδηγία](https://www.ethereum-ecosystem.com/blog/what-is-a-blockchain-rollup-a-technical-introduction)
- [Ο Βασικός Οδηγός για το Arbitrum](https://newsletter.banklesshq.com/p/the-essential-guide-to-arbitrum)
- [Πρακτικός οδηγός για τα πακέτα ενημέρωσης Ethereum](https://web.archive.org/web/20241108192208/https://research.2077.xyz/the-practical-guide-to-ethereum-rollups)
- [The State Of Fraud Proofs In Ethereum L2s](https://web.archive.org/web/20241124154627/https://research.2077.xyz/the-state-of-fraud-proofs-in-ethereum-l2s)
- [Πώς λειτουργούν πραγματικά τα πακέτα ενημέρωσης Optimism;](https://www.paradigm.xyz/2021/01/how-does-optimisms-rollup-really-work)
- [Περισσότερες λεπτομέρειες OVM](https://medium.com/ethereum-optimism/ovm-deep-dive-a300d1085f52)
- [Τι είναι η εικονική μηχανή Optimistic;](https://www.alchemy.com/overviews/optimistic-virtual-machine)
