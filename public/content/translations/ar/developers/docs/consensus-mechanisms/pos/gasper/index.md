---
title: اسم لنظام
description: شرح آلية إثبات الحصة في جاسبر.
lang: ar
---

يُعتبر Gasper مزيجًا من بروتوكول Casper-FFG (صديق النهائية الودود) وخوارزمية اختيار التفرّع LMD-GHOST. تشكل هذه المكونات معًا آلية الإجماع التي تضمن إثبات الحصة في إيثريوم. Casper هي الآلية التي تقوم بترقية بعض الكتل إلى ”نهائية“ بحيث يمكن للمشاركين الجدد في الشبكة أن يكونوا على ثقة من أنهم يقومون بمزامنة السلسلة القياسية. تستخدم خوارزمية اختيار التفرع الأصوات المتراكمة لضمان أن تتمكن العقد من اختيار الخيار الصحيح بسهولة عند حدوث تفرعات في سلسلة الكتل.

**ملاحظة** تم تحديث التعريف الأصلي لـ Casper-FFG بشكل طفيف لإدراجه في Gasper. في هذه الصفحة نحن نتناول النسخة المحدثة.

## المتطلبات

لفهم هذه المادة، من الضروري قراءة الصفحة التمهيدية حول [إثبات الحصة](/developers/docs/consensus-mechanisms/pos/).

## دور Gasper {#role-of-gasper}

يجلس غاسبر فوق بلوكتشين قائم على إثبات الحصة حيث تضع العُقَد إيثير كوديعة تأمينية قد تُفقد (تُشطب) إذا تقاعست أو تصرفت بغير أمانة عند اقتراح أو مصادقة الكتل. يحدد غاسبر كيف تُمنح المكافآت وتفرض العقوبات على برامج المدقّق، وكيف يُتخذ قرار قبول أو رفض الكتل، وأي فرع من البلوكتشين يُبنى عليه العمل لاحقًا.

## ما هي الـالنهائية؟ {#what-is-finality}

النهائية خاصية لبعض الكتل تعني أنها لا يمكن التراجع عنها إلا في حال فشلٍ جسيم في إجماع الآراء وتمكّن مهاجم من تدمير ما لا يقلُّ عن ثلث إجمالي الإيثير المرهون. يمكن اعتبار الكتل النهائية كمعلومات مؤكّدة لدى البلوكتشين. يجب أن تمرَّ الكتلة بإجراء ترقية مكوَّن من خطوتين لكي تصبح نهائية:

1. يجب أن يصوّت ثلثا إجمالي الإيثير المرهون لصالح إدراج تلك الكتلة في السلسلة المعيارية. هذا يرقّي الكتلة إلى حالة "مبرَّرة". الكتل المبرَّرة من غير المرجّح أن تُرجع، لكن يمكن أن تُرجع في ظروف خاصة.
2. عندما تُبرَّر كتلة أخرى فوق كتلة مبرَّرة، تُرقّى الأخيرة إلى حالة النهائية. إنهاء كتلة هو التزام بإدراجها في السلسلة المعيارية.  ولا يمكن التراجع عنه إلا إذا أتلف مهاجم ملايين وحدات الإيثير (أي مليارات من الدولارات).

لا تحدث هذه الترقيات لكل خانة زمنية. بدلًا من ذلك، تقبل الترقيات فقط على كتلٍ مرتبطة بحدود الحقبة (epoch-boundary blocks). تُعرف هذه الكتل باسم نقاط الفحص. تُنظَرُ عمليات الترقية بين أزواج نقاط الفحص. يجب أن يوجد "رابط أغلبية ساحقة" بين نقطتي تحقق متتاليتين (أي تصويت ثلثي إجمالي الإيثير المرهون بأن نقطة التحقق B هي الخَلَف الصحيح لنقطة التحقق A) لترقية نقطة التحقق الأقدم إلى نهائية والكتلة الأحدث إلى مبررة.

بما أن النهائية تتطلّب اتفاق ثلثي الأصوات على أن كتلةً ما هي المعيارية، فلا يمكن لمهاجم إنشاء سلسلة نهائية بديلة إلا إذا تمكن من:

1. امتلاك أو التلاعب بنسبة ثلثي إجمالي الإيثير المرهون.
2. تدمير ما لا يقلّ عن ثلث إجمالي الإيثير المرهون.

الشرط الأول ينبع من أن ثلثي الحصة مطلوبة لإضفاء النهائية على سلسلة. الشرط الثاني ينبع من أنَّ تصويت ثلثي الحصة لصالح فرعين مختلفين يعني أن ثلث الحصة قد صوّت لكليهما. والتصويت المزدوج يُعدّ حالةً تُستدعى لها عقوبة الشطب ويؤدي إلى تدمير جزءٍ من الحصة يقارب ثلث الإجمالي. حتى أيار/مايو 2022، يجعل هذا من هجومٍ فعليٍّ خيارًا يتطلّب حرق قيمة توازي نحو 10 مليارات دولار من الإيثير. الخوارزمية التي تبرر وتُنهي الكتل في Gasper هي شكل معدل قليلاً من [Casper the Friendly Finality Gadget (Casper-FFG)](https://arxiv.org/pdf/1710.09437.pdf).

### الحوافز والشطب {#incentives-and-slashing}

يتم مكافأة المصادقين على اقتراحهم وتصديقهم للكتل بأمانة. يتم مكافأتهم ب Ether وإضافته إلى حصتهم. من ناحية أخرى، فإن المصادقين الغائبين والذين لا يتصرفون عند استدعائهم يفقدون هذه المكافآت وأحيانًا يفقدون جزءًا صغيرًا من حصتهم الحالية. ومع ذلك، فإن العقوبات المفروضة على عدم الاتصال بالإنترنت ضئيلة، وفي معظم الحالات، تقتصر على تكاليف الفرصة البديلة المتمثلة في فقدان المكافآت. ومع ذلك، فإن بعض إجراءات المصادقة يصعب القيام بها عن طريق الخطأ وتشير إلى نية خبيثة، مثل اقتراح عدة كتل لنفس القطعة، أو المصادقة على عدة كتل لنفس القطعة، أو التناقض مع تصويتات نقاط الفحص السابقة. هذه هي السلوكيات ”القابلة للتخفيض“ التي يتم معاقبتها بشكل أكثر قسوة — يؤدي التخفيض إلى تدمير جزء من حصة المصادق وإزالة المصادق من شبكة المصادقين. تستغرق هذه العملية 36 يوماً. في اليوم الأول، هناك غرامة أولية تصل إلى 1 ETH. ثم يتم استنزاف Ether المصادق الذي تم خفضه ببطء خلال فترة الخروج، ولكن في اليوم الثامن عشر، يتلقى ”عقوبة الترابط“، والتي تكون أكبر عندما يتم خفض المزيد من المصادقين في نفس الوقت تقريبًا. العقوبة القصوى هي كامل الرهان. تم تصميم هذه المكافآت والعقوبات لتحفيز المصادقين الشرفاء وتثبيط الهجمات على الشبكة.

### تسرب عدم النشاط {#inactivity-leak}

بالإضافة إلى الأمان، يوفر Gasper أيضًا ”حيوية معقولة“. وهذا هو الشرط الذي ينص على أنه طالما أن ثلثي إجمالي الإيثر المُستثمر يصوت بنزاهة ويتبع البروتوكول، فستتمكن السلسلة من إتمام العملية بغض النظر عن أي نشاط آخر (مثل الهجمات أو مشكلات التأخير أو العقوبات). بعبارة أخرى، يجب أن يتم التنازل عن ثلث إجمالي Ether المُستثمر بطريقة ما لمنع السلسلة من الانتهاء. في Gasper، هناك خط دفاع إضافي ضد فشل الحيوية، يُعرف باسم ”عقوبة عدم النشاط“. يتم تنشيط هذه الآلية عندما تفشل السلسلة في إتمام العملية لأكثر من أربع فترات زمنية. ”تسرب النشاط او عقوبة عدم النشاط“. يتم استنزاف حصة المصادقين الذين لا يشهدون بنشاط على سلسلة الأغلبية تدريجياً حتى تستعيد الأغلبية ثلثي إجمالي الحصة، مما يضمن أن تكون حالات الفشل في الحيوية مؤقتة فقط.

### اختيار الانقسام {#fork-choice}

تضمن التعريف الأصلي لـ Casper-FFG خوارزمية اختيار التفرع التي فرضت القاعدة: `اتبع السلسلة التي تحتوي على نقطة التحقق المبررة التي لها أعلى ارتفاع` حيث يتم تعريف الارتفاع على أنه أكبر مسافة من كتلة التكوين. في Gasper، تم استبدال قاعدة اختيار التفرع الأصلية بخوارزمية أكثر تطوراً تسمى LMD-GHOST. من المهم أن ندرك أنه في الظروف العادية، لا توجد حاجة لقاعدة اختيار التفرع - فهناك مقترح كتلة واحد لكل فتحة، ويشهد على ذلك المصادقون النزيهون. لا يلزم استخدام خوارزمية اختيار التفرع إلا في حالات عدم التزامن الشبكي الكبير أو عندما يتلاعب مقترح الكتلة غير النزيه. ومع ذلك، عندما تحدث هذه الحالات، فإن خوارزمية اختيار التفرع هي دفاع حاسم يؤمن السلسلة الصحيحة.

LMD-GHOST تعني ”أحدث رسالة موجّهة نحو أثقل شجرة فرعية مُلاحظة“. هذه طريقة مليئة بالمصطلحات الفنية لتعريف خوارزمية تختار الفرع الذي يحتوي على أكبر وزن متراكم من الشهادات باعتباره الفرع الأساسي (أثقل شجرة فرعية بطريقة جشعة) وأنه في حالة تلقي عدة رسائل من أحد المصادقين، يتم أخذ أحدث رسالة فقط في الاعتبار (مدفوعة بأحدث رسالة). قبل إضافة الكتلة الأثقل إلى سلسلتها القياسية، يقوم كل مدقق بتقييم كل كتلة باستخدام هذه القاعدة.

## قراءة إضافية {#further-reading}

- [Gasper: الجمع بين GHOST و Casper](https://arxiv.org/pdf/2003.03052.pdf)
- [Casper the Friendly Finality Gadget](https://arxiv.org/pdf/1710.09437.pdf)
