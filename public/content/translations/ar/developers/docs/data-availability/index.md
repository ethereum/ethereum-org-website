---
title: توفير البيانات
description: نظرة عامة على المشاكل والحلول المتعلقة بتوفر البيانات في Ethereum
lang: ar
---

"لا تثق، تحقق" هي قاعدة شائعة في الإيثريوم. الفكرة هي أن العقدة الخاصة بك يمكنها التحقق بشكل مستقل من صحة المعلومات التي تتلقاها عن طريق تنفيذ جميع المعاملات في الكتل التي تتلقاها من النظراء للتأكد من أن التغييرات المقترحة تتطابق بدقة مع تلك التي تم حسابها بشكل مستقل بواسطة العقدة. وهذا يعني أن العقد لا يجب أن تثق في أن مرسلي الكتلة صادقون. هذا غير ممكن إذا كانت البيانات مفقودة.

**توفر البيانات** يشير إلى الثقة التي يمكن أن يتمتع بها المستخدم في أن البيانات المطلوبة للتحقق من كتلة ما متاحة بالفعل لجميع المشاركين في الشبكة. بالنسبة للعُقد الكاملة على الطبقة الأولى من إيثريوم، يعد هذا بسيطًا نسبيًا؛ تقوم العقدة الكاملة بتنزيل نسخة من جميع البيانات في كل كتلة - _يجب_ أن تكون البيانات متاحة حتى يكون التنزيل ممكنًا. سيتم تجاهل الكتلة التي تحتوي على بيانات مفقودة بدلاً من إضافتها إلى blockchain. هذا هو "توفر البيانات على السلسلة" وهو سمة من سمات سلاسل الكتل المتجانسة. لا يمكن خداع العقد الكاملة لقبول معاملات غير صالحة لأنها تقوم بتنزيل كل معاملة وتنفيذها بنفسها. ومع ذلك، بالنسبة لسلاسل الكتل المعيارية وعمليات التجميع من الطبقة 2 والعملاء الخفيفين، فإن مشهد توفر البيانات أكثر تعقيدًا، ويتطلب بعض إجراءات التحقق الأكثر تطورًا.

## المتطلبات الأساسية {#prerequisites}

يجب أن يكون لديك فهم جيد لـ [أساسيات البلوك تشين](/developers/docs/intro-to-ethereum/)، وخاصة [آليات الإجماع](/developers/docs/consensus-mechanisms/). تفترض هذه الصفحة أيضًا أن القارئ على دراية بـ [الكتل](/developers/docs/blocks/) و[المعاملات](/developers/docs/transactions/) و[العُقد](/developers/docs/nodes-and-clients/) و[حلول التوسع](/developers/docs/scaling/) والمواضيع الأخرى ذات الصلة.

## مشكلة توفر البيانات {#the-data-availability-problem}

تتمثل مشكلة توفر البيانات في الحاجة إلى إثبات للشبكة بأكملها أن الشكل الملخص لبعض بيانات المعاملات التي تتم إضافتها إلى blockchain يمثل حقًا مجموعة من المعاملات الصالحة، ولكن القيام بذلك دون مطالبة جميع العقد بتنزيل جميع البيانات. إن بيانات المعاملة الكاملة ضرورية للتحقق من الكتل بشكل مستقل، ولكن مطالبة جميع العقد بتنزيل جميع بيانات المعاملة يشكل عائقًا أمام التوسع. تهدف الحلول لمشكلة توفر البيانات إلى توفير ضمانات كافية بأن بيانات المعاملات الكاملة أصبحت متاحة للتحقق منها من قبل المشاركين في الشبكة الذين لا يقومون بتنزيل البيانات وتخزينها لأنفسهم.

تُعد [العُقد الخفيفة](/developers/docs/nodes-and-clients/light-clients) و[تكديس معاملات الطبقة الثانية](/developers/docs/scaling) أمثلة مهمة للمشاركين في الشبكة الذين يحتاجون إلى ضمانات قوية لتوفر البيانات ولكن لا يمكنهم تنزيل بيانات المعاملات ومعالجتها بأنفسهم. إن تجنب تنزيل بيانات المعاملات هو ما يجعل العقد الخفيفة خفيفة ويمكّن التجميعات من أن تكون حلولاً فعالة للتوسع.

يُعد توفر البيانات أيضًا مصدر قلق بالغ الأهمية لعملاء إيثريوم ["عديمي الحالة"](/roadmap/statelessness) المستقبليين الذين لا يحتاجون إلى تنزيل بيانات الحالة وتخزينها للتحقق من الكتل. لا يزال العملاء عديمو الحالة بحاجة إلى التأكد من أن البيانات متاحة _في مكان ما_ وأنه تمت معالجتها بشكل صحيح.

## حلول توفر البيانات {#data-availability-solutions}

### أخذ عينات توفر البيانات (DAS) {#data-availability-sampling}

تعد عملية أخذ العينات من توفر البيانات (DAS) طريقة تستخدمها الشبكة للتحقق من توفر البيانات دون وضع الكثير من الضغط على أي عقدة فردية. يقوم كل عقدة (بما في ذلك العقد غير المخصصة للحفظ) بتنزيل مجموعة فرعية صغيرة يتم اختيارها عشوائيًا من إجمالي البيانات. يؤكد تنزيل العينات بنجاح على أن كافة البيانات متوفرة بثقة عالية. يعتمد هذا على ترميز محو البيانات، الذي يوسع مجموعة بيانات معينة بمعلومات زائدة عن الحاجة (تتم هذه الطريقة عن طريق ملاءمة دالة تُعرف باسم _متعددة الحدود_ فوق البيانات وتقييم تلك الدالة متعددة الحدود عند نقاط إضافية). يتيح هذا إمكانية استرداد البيانات الأصلية من البيانات الزائدة عند الضرورة. إحدى عواقب إنشاء هذه البيانات هي أنه إذا كان _أي_ من البيانات الأصلية غير متاح، فسيكون _نصف_ البيانات الموسعة مفقودًا! يمكن ضبط كمية عينات البيانات التي تُنزّلها كل عقدة بحيث يكون من المحتمل _للغاية_ أن يكون جزء واحد على الأقل من أجزاء البيانات التي أخذ كل عميل عينات منها مفقودًا _إذا_ كان أقل من نصف البيانات متاحًا بالفعل.

سيتم استخدام DAS لضمان أن يوفر مشغلو تكديس المعاملات بيانات معاملاتهم بعد تنفيذ [Full Danksharding](/roadmap/danksharding/#what-is-danksharding). ستقوم عقد الإيثريوم بأخذ عينات عشوائية من بيانات المعاملات المقدمة في الكتل باستخدام مخطط التكرار الموضح أعلاه للتأكد من وجود جميع البيانات. يمكن أيضًا استخدام نفس التقنية للتأكد من أن منتجي الكتل يجعلون جميع بياناتهم متاحة لعملاء الضوء الآمنين. وبالمثل، في ظل [فصل المقترح عن الباني](/roadmap/pbs)، سيُطلب من باني الكتلة فقط معالجة كتلة بأكملها - بينما سيتحقق المدققون الآخرون باستخدام أخذ عينات توفر البيانات.

### لجان توفر البيانات {#data-availability-committees}

لجان توافر البيانات (DACs) هي أطراف موثوقة تعمل على توفير أو إثبات توافر البيانات. يمكن استخدام لجان توفر البيانات (DACs) بدلاً من أخذ عينات توفر البيانات (DAS)، [أو بالاشتراك معها](https://hackmd.io/@vbuterin/sharding_proposal#Why-not-use-just-committees-and-not-DAS). تعتمد الضمانات الأمنية التي تأتي مع اللجان على الإعداد المحدد. تستخدم Ethereum مجموعات فرعية من المحققين تم اختيارها عشوائيًا للتأكيد على توفر البيانات للعقد الخفيفة، على سبيل المثال.

يتم استخدام DACs أيضًا بواسطة بعض validiums. DAC عبارة عن مجموعة موثوقة من العقد التي تقوم بتخزين نسخ من البيانات دون اتصال بالإنترنت. يجب على لجنة المساعدة الرقمية أن تجعل البيانات متاحة في حالة حدوث نزاع. ويقوم أعضاء DAC أيضًا بنشر شهادات على السلسلة لإثبات أن البيانات المذكورة متوفرة بالفعل. تحل بعض validiums محل DACs بنظام التحقق من صحة إثبات الحصة (PoS). هنا، يمكن لأي شخص أن يصبح محققًا ويخزن البيانات خارج السلسلة. ومع ذلك، يتعين عليهم تقديم "سند"، يتم إيداعه في عقد ذكي. في حالة حدوث سلوك ضار، مثل قيام المحقق بحجب البيانات، يمكن قطع السند. تعتبر لجان توفر بيانات إثبات الحصة أكثر أمانًا بشكل كبير من لجان DAC العادية لأنها تحفز السلوك الصادق بشكل مباشر.

## توفر البيانات والعُقد الخفيفة {#data-availability-and-light-nodes}

تحتاج [العُقد الخفيفة](/developers/docs/nodes-and-clients/light-clients) إلى التحقق من صحة رؤوس الكتل التي تتلقاها دون تنزيل بيانات الكتلة. إن تكلفة هذه الخفة هي عدم القدرة على التحقق بشكل مستقل من رؤوس الكتل عن طريق إعادة تنفيذ المعاملات محليًا بالطريقة التي تفعلها العقد الكاملة.

تثق العُقد الخفيفة في إيثريوم بمجموعات عشوائية مكونة من 512 مدققًا تم تعيينهم في _لجنة مزامنة_. تعمل لجنة المزامنة كجهاز DAC يرسل إشارات إلى عملاء Light بأن البيانات الموجودة في الرأس صحيحة باستخدام توقيع تشفيري. تعمل لجنة المزامنة كجهاز Dac يرسل إشارات إلى عملاء Light بأن البيانات الموجودة في الرأس صحيحة باستخدام توقيع تشفيري. تقوم كل ترويسة كتلة بتنبيه العُقد الخفيفة إلى المدققين الذين يُتوقع منهم التوقيع على الكتلة _التالية_، حتى لا يتم خداعهم للوثوق في مجموعة ضارة تتظاهر بأنها لجنة المزامنة الحقيقية.

ولكن، ماذا يحدث إذا تمكن مهاجم بطريقة ما _بالفعل_ من تمرير ترويسة كتلة ضارة إلى العملاء الخفيفين وإقناعهم بأنها موقعة من قِبل لجنة مزامنة نزيهة؟ في هذه الحالة، قد يقوم المهاجم بتضمين معاملات غير صالحة وسيقبلها العميل الخفيف بشكل أعمى، حيث لا يتحقق بشكل مستقل من جميع تغييرات الحالة الملخصة في رأس الكتلة. للحماية من هذا، يمكن للعميل الخفيف استخدام أدلة الاحتيال.

الطريقة التي تعمل بها وسائل إثبات الاحتيال هذه هي أن العقدة الكاملة، التي ترى انتقال حالة غير صالح يتم تداوله في جميع أنحاء الشبكة، يمكنها بسرعة إنشاء جزء صغير من البيانات يوضح أن انتقال الحالة المقترح لا يمكن أن ينشأ من مجموعة معينة من المعاملات وبث تلك البيانات إلى الأقران. يمكن للعقد الخفيفة التقاط أدلة الاحتيال هذه واستخدامها للتخلص من رؤوس الكتل السيئة، مما يضمن بقائها على نفس السلسلة الصادقة مثل العقد الكاملة.

يعتمد هذا على قدرة العقد الكاملة على الوصول إلى بيانات المعاملات الكاملة. سيتمكن المهاجم الذي يبث رأس كتلة تالف ويفشل أيضًا في جعل بيانات المعاملة متاحة من منع العقد الكاملة من إنشاء أدلة على الاحتيال. قد تكون العقد الكاملة قادرة على إرسال تحذير بشأن كتلة سيئة، ولكنها لا تستطيع دعم تحذيرها بدليل، لأن البيانات لم تكن متاحة لتوليد الدليل منها!

الحل لمشكلة توفر البيانات هو DAS. تقوم العقد الخفيفة بتنزيل أجزاء عشوائية صغيرة جدًا من بيانات الحالة الكاملة وتستخدم العينات للتحقق من توفر مجموعة البيانات الكاملة. يمكن حساب الاحتمال الفعلي لافتراض توفر البيانات بالكامل بشكل غير صحيح بعد تنزيل عدد N من القطع العشوائية ([بالنسبة لـ 100 قطعة، فإن الاحتمال هو 10^-30](https://dankradfeist.de/ethereum/2019/12/20/data-availability-checks.html)، أي أنه غير محتمل بشكل لا يصدق).

حتى في هذا السيناريو، من الممكن أن تمر الهجمات التي تحجب بضعة بايتات دون أن يلاحظها العملاء الذين يقومون بطلبات بيانات عشوائية. يعمل تشفير المسح على إصلاح هذه المشكلة عن طريق إعادة بناء أجزاء صغيرة مفقودة من البيانات والتي يمكن استخدامها للتحقق من تغييرات الحالة المقترحة. ومن الممكن بعد ذلك إنشاء دليل على الاحتيال باستخدام البيانات المعاد بناؤها، مما يمنع العقد الخفيفة من قبول الرؤوس السيئة.

**ملاحظة:** لم يتم بعد تنفيذ أخذ عينات توفر البيانات (DAS) وإثباتات الاحتيال لعملاء إيثريوم الخفيفين الذين يستخدمون إثبات الحصة، ولكنها مدرجة في خارطة الطريق، ومن المرجح أن تأخذ شكل إثباتات قائمة على ZK-SNARK. يعتمد عملاء الضوء اليوم على شكل من أشكال DAC: حيث يقومون بالتحقق من هويات لجنة المزامنة ثم يثقون في رؤوس الكتل الموقعة التي يتلقونها.

## توفر البيانات وتكديس معاملات الطبقة الثانية {#data-availability-and-layer-2-rollups}

تعمل [حلول التوسع للطبقة الثانية](/layer-2/)، مثل [تكديس المعاملات](/glossary/#rollups)، على تقليل تكاليف المعاملات وزيادة إنتاجية إيثريوم من خلال معالجة المعاملات خارج السلسلة. يتم ضغط المعاملات المجمعة ونشرها على Ethereum في دفعات. تمثل الدفعات آلاف المعاملات الفردية خارج السلسلة في معاملة واحدة على Ethereum. يؤدي هذا إلى تقليل الازدحام على الطبقة الأساسية وخفض الرسوم للمستخدمين.

ومع ذلك، فمن الممكن فقط الوثوق في المعاملات "الملخصة" المنشورة على Ethereum إذا كان من الممكن التحقق من تغيير الحالة المقترح بشكل مستقل وتأكيده على أنه نتيجة لتطبيق جميع المعاملات الفردية خارج السلسلة. إذا لم يقم مشغلو التجميع بإتاحة بيانات المعاملة للتحقق منها، فقد يقومون بإرسال بيانات غير صحيحة إلى Ethereum.

تقوم [الرول أب التفاؤلية](/developers/docs/scaling/optimistic-rollups/) بنشر بيانات المعاملات المضغوطة على إيثريوم والانتظار لبعض الوقت (عادة 7 أيام) للسماح للمدققين المستقلين بالتحقق من البيانات. إذا حدد أي شخص مشكلة، فيمكنه إنشاء نموذج مقاوم للاحتيال واستخدامه لتحدي التجميع. سيؤدي هذا إلى تراجع السلسلة وحذف الكتلة غير الصالحة. هذا ممكن فقط إذا كانت البيانات متاحة. حاليًا، هناك طريقتان لنشر بيانات المعاملات على L1 من خلال التجميعات المتفائلة. تجعل بعض تكديسات المعاملات البيانات متاحة بشكل دائم كـ `CALLDATA` والتي تبقى بشكل دائم على السلسلة. مع تنفيذ EIP-4844، تقوم بعض التجميعات بنشر بيانات المعاملات الخاصة بها إلى تخزين كائنات أرخص بدلاً من ذلك. هذا ليس تخزينًا دائمًا. يتعين على المحققين المستقلين الاستعلام عن البيانات وإثارة تحدياتهم في غضون 18 يومًا تقريبًا قبل حذف البيانات من طبقة Ethereum-1. يتم ضمان توفر البيانات فقط بواسطة بروتوكول Ethereum لتلك النافذة الثابتة القصيرة. بعد ذلك، تصبح المسؤولية على عاتق الكيانات الأخرى في نظام Ethereum البيئي. يمكن لأي عقدة التحقق من توفر البيانات باستخدام أخذ عينات توفر البيانات (DAS)، أي عن طريق تنزيل عينات صغيرة وعشوائية من بيانات النقطة.

لا تحتاج [رول أب المعرفة الصفرية (ZK)](/developers/docs/scaling/zk-rollups) إلى نشر بيانات المعاملات لأن [إثباتات صلاحية المعرفة الصفرية](/glossary/#zk-proof) تضمن صحة انتقالات الحالة. ومع ذلك، لا يزال توفر البيانات يمثل مشكلة لأننا لا نستطيع ضمان وظيفة ZK-rollup (أو التفاعل معها) دون الوصول إلى بيانات حالتها. على سبيل المثال، لا يمكن للمستخدمين معرفة أرصدتهم إذا قام المشغل بحجب التفاصيل المتعلقة بحالة التجميع. بالإضافة إلى ذلك، لا يمكنهم إجراء تحديثات الحالة باستخدام المعلومات الموجودة في كتلة تمت إضافتها حديثًا.

## توفر البيانات مقابل قابلية استرجاع البيانات {#data-availability-vs-data-retrievability}

يختلف توفر البيانات عن إمكانية استرجاع البيانات. توفر البيانات هو الضمان بأن العقد الكاملة كانت قادرة على الوصول إلى مجموعة كاملة من المعاملات المرتبطة بكتلة معينة والتحقق منها. لا يعني هذا بالضرورة أن البيانات ستكون متاحة إلى الأبد.

قابلية استرجاع البيانات هي قدرة العُقد على استرداد _المعلومات التاريخية_ من البلوك تشين. لا تكون هذه البيانات التاريخية ضرورية للتحقق من الكتل الجديدة، بل هي مطلوبة فقط لمزامنة العقد الكاملة من كتلة التكوين أو خدمة طلبات تاريخية محددة.

يهتم بروتوكول Ethereum الأساسي في المقام الأول بتوفر البيانات، وليس إمكانية استرجاع البيانات. يمكن توفير قابلية استرجاع البيانات من خلال مجموعة صغيرة من عُقد الأرشيف التي تديرها جهات خارجية، أو يمكن توزيعها عبر الشبكة باستخدام تخزين ملفات لامركزي مثل [Portal Network](https://www.ethportal.net/).

## قراءة إضافية{#further-reading}

- [ما هو توفر البيانات؟](https://medium.com/blockchain-capital-blog/wtf-is-data-availability-80c2c95ded0f)
- [ما هو توفر البيانات؟](https://coinmarketcap.com/academy/article/what-is-data-availability)
- [مقدمة تمهيدية حول عمليات التحقق من توفر البيانات](https://dankradfeist.de/ethereum/2019/12/20/data-availability-checks.html)
- [شرح لمقترح التقسيم + أخذ عينات توفر البيانات (DAS)](https://hackmd.io/@vbuterin/sharding_proposal#ELI5-data-availability-sampling)
- [ملاحظة حول توفر البيانات وترميز المحو](https://github.com/ethereum/research/wiki/A-note-on-data-availability-and-erasure-coding#can-an-attacker-not-circumvent-this-scheme-by-releasing-a-full-unavailable-block-but-then-only-releasing-individual-bits-of-data-as-clients-query-for-them)
- [لجان توفر البيانات.](https://medium.com/starkware/data-availability-e5564c416424)
- [لجان توفر البيانات القائمة على إثبات الحصة.](https://blog.matter-labs.io/zkporter-a-breakthrough-in-l2-scaling-ed5e48842fbf)
- [حلول لمشكلة قابلية استرجاع البيانات](https://notes.ethereum.org/@vbuterin/data_sharding_roadmap#Who-would-store-historical-data-under-sharding)
- [توفر البيانات أو: كيف تعلم تكديس المعاملات التوقف عن القلق وحب إيثريوم](https://web.archive.org/web/20250515194659/https://web.archive.org/web/20241108192208/https://research.2077.xyz/data-availability-or-how-rollups-learned-to-stop-worrying-and-love-ethereum)
- [مقترح تحسين إيثريوم EIP-7623: زيادة تكلفة بيانات الاستدعاء (Calldata)](https://web.archive.org/web/20250515194659/https://research.2077.xyz/eip-7623-increase-calldata-cost)
