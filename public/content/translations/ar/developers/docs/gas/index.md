---
title: الغاز والرسوم
metaTitle: "إيثريوم: نظرة فنية على الغاز والرسوم"
description: تعرف على رسوم غاز الإيثريوم، وكيفية حسابها، ودورها في أمان الشبكة ومعالجة المعاملات.
lang: ar
---

الغاز ضروري لشبكة Ethereum. فهو الوقود الذي يسمح لـ Ethereum بالعمل، بالطريقة نفسها التي تحتاج بها السيارة إلى البنزين لتعمل.

## المتطلبات الأساسية {#prerequisites}

لفهم هذه الصفحة بشكل أفضل، نوصي بأن تقرأ أولاً عن [المعاملات](/developers/docs/transactions/) و[آلة إيثريوم الافتراضية (EVM)](/developers/docs/evm/).

## ما هو الغاز؟ {#what-is-gas}

يشير مصطلح الغاز إلى الوحدة التي تقيس مقدار الجهد الحسابي المطلوب لتنفيذ عمليات محددة على شبكة Ethereum.

نظرًا لأن كل معاملة على إيثريوم تتطلب موارد حسابية لتنفيذها، يتعين دفع ثمن تلك الموارد لضمان عدم تعرض إيثريوم للبريد العشوائي وعدم تعثره في حلَقات حسابية لانهائية. يتم دفع ثمن الحوسبة في شكل رسوم غاز.

رسوم الغاز هي **مقدار الغاز المستخدم لإجراء عملية معينة، مضروبًا في تكلفة الغاز لكل وحدة**. تُدفع الرسوم النظر عما إذا كانت المعاملة ناجحة أم فاشلة.

![رسم بياني يوضح مكان الحاجة إلى الغاز في عمليات آلة إيثريوم الافتراضية](./gas.png)
_رسم بياني مقتبس من [Ethereum EVM illustrated](https://takenobu-hs.github.io/downloads/ethereum_evm_illustrated.pdf)_

يجب دفع رسوم الغاز بالعملة الأصلية للإيثيريوم، وهي الإيثار (ETH). عادةً ما يتم تسعير أسعار الغاز بوحدات الجوي، وهي وحدة من الإيثيريوم. كل وحدة منا لــ تعادل واحد من مليار ETH (0.000000001 ETH أو 10<sup>-9</sup> ETH).

على سبيل المثال، بدلاً من قول أن الغاز الخاص بك يكلف 0.000000001 أيتر، يمكنك أن تقول إن الغاز الخاص بك يكلف 1 جوي.

كلمة هي اختصار لـ 'مما يعني 'مليار '. واحد غوي يساوي واحد مليار وي. وحدة Wei نفسها (التي سُميت على اسم [وي داي](https://wikipedia.org/wiki/Wei_Dai)، مبتكر [b-money](https://www.investopedia.com/terms/b/bmoney.asp)) هي أصغر وحدة من ETH.

## كيف يتم حساب رسوم الغاز؟ كيف يتم حساب رسوم الغاز؟{#how-are-gas-fees-calculated}

يمكنك تحديد مقدار الغاز الذي ترغب في دفعه عند تقديم معاملة. من خلال عرض كمية معينة من الغاز، فإنك تقدم عطاءً لإدراج معاملتك في الكتلة التالية. إذا عرضت مبلغًا قليلًا جدًا، فإن المدققين سيكونون أقل احتمالًا لاختيار معاملتك للإدراج، مما يعني أن معاملتك قد تتم متاجره أو لا تتم على الإطلاق. إذا كنت تعرض الكثير، فقد تضيع بعض الإيثيريوم. فكيف يمكنك أن تعرف كم يجب أن تدفع؟

إجمالي الغاز الذي تدفعه مقسم إلى مكونين: `الرسوم الأساسية` و`رسوم الأولوية` (الإكرامية).

يتم تحديد `الرسوم الأساسية` بواسطة البروتوكول—يجب عليك دفع هذا المبلغ على الأقل حتى تعتبر معاملتك صالحة. `رسوم الأولوية` هي إكرامية تضيفها إلى الرسوم الأساسية لجعل معاملتك جذابة للمدققين حتى يختاروها لإدراجها في الكتلة التالية.

المعاملة التي تدفع `الرسوم الأساسية` فقط صالحة من الناحية الفنية ولكن من غير المرجح أن يتم تضمينها لأنها لا تقدم أي حافز للمدققين لاختيارها على أي معاملة أخرى. يتم تحديد رسوم `الأولوية` 'الصحيحة' من خلال استخدام الشبكة في وقت إرسال معاملتك—إذا كان هناك طلب كبير، فقد تضطر إلى تحديد رسوم `الأولوية` الخاصة بك بشكل أعلى، ولكن عندما يكون الطلب أقل، يمكنك دفع مبلغ أقل.

على سبيل المثال، لنفترض أن الأُرْدُنّيّ يجب أن يدفع لتايلور 1. يتطلب نقل ETH 21,000 وحدة من الغاز، ومعدل الرسوم الأساسي هو 10 جوي. الأرْدُنّ يتضمن بقشيش قدره 2 جوي.

الرسوم الإجمالية ستكون الآن مساوية لـ:

`وحدات الغاز المستخدمة * (الرسوم الأساسية + رسوم الأولوية)`

حيث تكون `الرسوم الأساسية` قيمة يحددها البروتوكول و`رسوم الأولوية` هي قيمة يحددها المستخدم كإكرامية للمدقق.

على سبيل المثال، `21,000 * (10 + 2) = 252,000 gwei` (0.000252 ETH).

عندما يرسل وجردان المال، سيتم خَصْم 1.000252 إي من حساب وجردان. سيحصل تايلور على 1.0000 أيثير. يتلقى المدقق بقشيش قدره 0.000042 إيثريوم. يتم حرق `الرسوم الأساسية` البالغة 0.00021 ETH.

### الرسوم الأساسية {#base-fee}

كل كتلة لها رسوم أساسية تعمل كحد أدنى للسعر. لكي تكون مؤهلاً للتضمين في كتلة، يجب أن يساوي السعر المعروض لكل غاز في الأقل الرسوم الأساسية. يتم حساب الرسوم الأساسية بشكل مستقل عن الكتلة الحالية ويتم تحديدها بدلاً من ذلك من خلال الكتل التي تسبقها، مما يجعل رسوم المعاملات أكثر قابلية للتنبؤ للمستخدمين. عندما يتم إنشاء الكتلة، **يتم "حرق" هذه الرسوم الأساسية**، وإزالتها من التداول.

يتم حساب الرسوم الأساسية بواسطة صيغة تقارن حجم الكتلة السابقة (كمية الغاز المستخدمة لجميع المعاملات) بالحجم المستهدف (نصف حد الغاز). ستزيد الرسوم الأساسية أو تنقص بحد أقصى 12.5% لكل كتلة إذا كان حجم الكتلة المستهدف أعلى أو أقل من الهدف، على التوالي. يؤدي هذا النمو الأسّي إلى عدم إمكانية الاستمرار في حجم الكتلة بشكل مرتفع إلى أجل غير مسمى من الناحية الاقتصادية.

| رَقْم الكتلة | الغاز المدعوم |          زيادة الرسوم |   الرسوم الأساسية الحالية |
| ------------ | ------------: | --------------------: | ------------------------: |
| ١            |           18M |                    0% |                   100 جوي |
| 2            |           36M |                    0% |                   100 جوي |
| 3            |           36M | 12.5% | 112.5 جوي |
| 4            |           36M | 12.5% | 126.6 جوي |
| 5            |           36M | 12.5% | 142.4 جوي |
| 6            |           36M | 12.5% | 160.2 جوي |
| 7            |           36M | 12.5% | 180.2 جوي |
| 8            |           36M | 12.5% | 202.7 جوي |

في الجدول أعلاه، يتم توضيح مثال باستخدام 36 مليونًا كحد للغاز. باتباع هذا المثال، لإنشاء معاملة على الكتلة رقم 9، ستُعلم المحفظة المستخدم بيقين أن **الحد الأقصى للرسوم الأساسية** التي ستضاف إلى الكتلة التالية هو `الرسوم الأساسية الحالية * 112.5%` أو `202.7 gwei * 112.5% = 228.1 gwei`.

من المهم أيضًا أن نلاحظ أنه من غير المحتمل أن نشهد ارتفاعات ممتدة في الكتل الكاملة بسبب السرعة التي تزداد بها الرسوم الأساسية قبل أن تصل إلى كتلة كاملة.

| رَقْم الكتلة                                        |                                       الغاز المدعوم |          زيادة الرسوم |                             الرسوم الأساسية الحالية |
| --------------------------------------------------- | --------------------------------------------------: | --------------------: | --------------------------------------------------: |
| 30                                                  |                                                 36M | 12.5% |                          2705.6 جوي |
| ... | ... | 12.5% | ... |
| 50                                                  |                                                 36M | 12.5% |                         28531.3 جوي |
| ... | ... | 12.5% | ... |
| 100                                                 |                                                 36M | 12.5% |                     10302608.6 gwei |

### رسوم الأولوية (الإكراميات) {#priority-fee}

تحفز رسوم الأولوية (الإكرامية) المدققين على زيادة عدد المعاملات في الكتلة إلى أقصى حد، مع التقيد فقط بحد غاز الكتلة. بدون الإكراميات، يمكن للمدقق العقلاني تضمين عدد أقل من المعاملات—أو حتى صفر—دون أي عقوبة مباشرة من طبقة التنفيذ أو طبقة الإجماع، حيث أن مكافآت تجميد العملات مستقلة عن عدد المعاملات في الكتلة. بالإضافة إلى ذلك، تسمح الإكراميات للمستخدمين بالمزايدة على الآخرين للحصول على الأولوية داخل نفس الكتلة، مما يشير بفعالية إلى الاستعجال.

### الحد الأقصى للرسوم {#maxfee}

لتنفيذ عملية على الشبكة، يمكن للمستخدمين تحديد حد أقصى يرغبون في دفعه لتنفيذ معاملتهم. يُعرف هذا المعامل الاختياري باسم `maxFeePerGas`. لكي يتم تنفيذ المعاملة، يجب أن تتجاوز الرسوم القصوى مجموع الرسوم الأساسية والإكرامية. يتم رد الفرق بين الحد الأقصى للرسوم ومجموع الرسوم الأساسية ولبقشيش إلى مرسل المعاملة.

### حجم الكتلة {#block-size}

لكل كتلة حجم مستهدف يبلغ نصف حد الغاز الحالي، لكن حجم الكتل سيزيد أو ينقص وفقًا لطلب الشبكة، حتى يتم الوصول إلى حد الكتلة (ضعف حجم الكتلة المستهدف). يحقق البروتوكول متوسط حجم كتلة متوازنًا عند الهدف من خلال عملية _tâtonnement_. هذا يعني أنه إذا كان حجم الكتلة أكبر من حجم الكتلة المستهدف، فإن البروتوكول سيزيد الرسوم الأساسية للكتلة التالية. وبالمثل، سيقلل البروتوكول من الرسوم الأساسية إذا كان حجم الكتلة أقل من حجم الكتلة المستهدف.

وبالمثل، سيقلل البروتوكول من الرسوم الأساسية إذا كان حجم الكتلة أقل من حجم الكتلة المستهدف. هذا حساب خطي من -12.5% للكتلة الفارغة، و0% عند الحجم المستهدف، ويصل إلى +12.5% للكتلة التي تصل إلى حد الغاز. يمكن أن يتقلب حد الغاز بمرور الوقت بناءً على إشارات المدققين، وكذلك عبر ترقيات الشبكة. يمكنك [عرض التغييرات في حد الغاز بمرور الوقت هنا](https://eth.blockscout.com/stats/averageGasLimit?interval=threeMonths).

[المزيد عن الكتل](/developers/docs/blocks/)

### حساب رسوم الغاز عمليًا {#calculating-fees-in-practice}

يمكنك أن تحدد بوضوح المبلغ الذي ترغب في دفعه لتنفيذ معاملتك. ومع ذلك، فإن معظم مزودي المحافظ سيقومون تلقائيًا بتحديد رسم معاملات موصى به (رسم أساسي + رسم أولوية موصى به) لتقليل مقدار التعقيد الملقى على عاتق مستخدميهم.

## ما سبب وجود الرسوم على الغاز ؟ {#why-do-gas-fees-exist}

باختصار، تساعد رسوم الغاز في الحفاظ على أمن شبكة Ethereum. من خلال فرض رسم على كل عملية حسابية تُنفذ على الشبكة، نمنع الجهات السيئة من إزعاج الشبكة. من أجل تجنب الحلَقات اللانهائية العرضية أو العدائية أو أي هدر آخر في العمليات الحاسوبية في الكود، يُطلب من كل معاملة تحديد حد لعدد خطوات التنفيذ البرمجية التي يمكن أن تستخدمها. والوحدة الأساسية للعملية الحسابية هي "الغاز".

على الرغم من أن المعاملة تتضمن حدًا، إلا أن أي غاز غير مستخدم في المعاملة يتم إرجاعه إلى المستخدم (على سبيل المثال، يتم إرجاع `الحد الأقصى للرسوم - (الرسوم الأساسية + الإكرامية)`).

![رسم بياني يوضح كيفية استرداد الغاز غير المستخدم](../transactions/gas-tx.png)
_رسم بياني مقتبس من [Ethereum EVM illustrated](https://takenobu-hs.github.io/downloads/ethereum_evm_illustrated.pdf)_

## ما هو حد الغاز؟ {#what-is-gas-limit}

يُشير حد الغاز إلى الحد الأقصى من الغاز الذي ترغب في استهلاكه في معاملة. تتطلب المعاملات الأكثر تعقيدًا التي تتضمن [العقود الذكية](/developers/docs/smart-contracts/) المزيد من العمل الحسابي، لذا فهي تتطلب حد غاز أعلى من الدفع البسيط. يتطلب نقل ETH القياسي حد غاز قدره 21,000 وحدة من الغاز.

على سبيل المثال، إذا وضعت حد غاز قدره 50,000 لإجراء تحويل بسيط لـ ETH، فإن الآلة الافتراضية لـ EVM ستستهلك 21,000، وستعود إلي كالـ 29,000 المتبقية. ومع ذلك، إذا حددت كمية الغاز قليلة حزناً، على سبيل المثال، حد غاز قدره 20,000 لتحويل بسيط للإيثيريوم، ستفشل المعاملة خلال مرحلة التحقق. سيتم رفضه قبل أن يتم تضمينه في الكتلة، ولن يتم استهلاك أي غاز. من ناحية أخرى، إذا نفدت الغاز من عملية أثناء التنفيذ (على سبيل المثال، إذا استخدم عقد ذكي كل الغاز في منتصف الطريق)، ستقوم آلة الحالة الافتراضية بإعادة أي تغييرات، لكن كل الغاز المقدم سيتم استهلاكه للعمل المنجز.

## لماذا يمكن أن تكون رسوم الغاز مرتفعة جداً؟ لماذا يمكن أن ترتفع رسوم الغاز إلى هذا الحد؟{#why-can-gas-fees-get-so-high}

تعود رسوم الغاز المرتفعة إلى شعبية إيثيريوم. إذا كان هناك طلب كبير، يجب على المستخدمين تقديم مبالغ إكرامية أعلى لمحاولة تجاوز معاملات المستخدمين الآخرين. قد تجعل الإكرامية الأعلى من المحتمل أكثر أن يتم تضمين معاملتك في الكتلة التالية. أيضًا، قد تقوم تطبيقات العقود الذكية الأكثر تعقيدًا بالقيام بالعديد من العمليات لدعم وظائفها، مما يجعلها تستهلك الكثير من الغاز.

## مبادرات لخفض تكاليف الغاز {#initiatives-to-reduce-gas-costs}

يجب أن تعالج [ترقيات قابلية التوسع](/roadmap/) في إيثريوم في النهاية بعض مشكلات رسوم الغاز، مما سيمكن المنصة بدورها من معالجة آلاف المعاملات في الثانية والتوسع عالميًا.

التحجيم من الطبقة 2 هو مبادرة رئيسة لتحسين تكاليف الغاز، وتجربة المستخدم، وقابلية التوسع بشكل كبير.

[المزيد عن توسيع الطبقة الثانية](/developers/docs/scaling/#layer-2-scaling)

## مراقبة رسوم الغاز {#monitoring-gas-fees}

إذا كنت ترغب في مراقبة أسعار الغاز، حتى تتمكن من إرسال الإيثيريوم الخاص بك بتكلفة أقل، يمكنك استخدام العديد من الأدوات المختلفة مثل:

- [Etherscan](https://etherscan.io/gastracker) _أداة تقدير سعر غاز المعاملات_
- [Blockscout](https://eth.blockscout.com/gas-tracker) _أداة تقدير سعر غاز المعاملات مفتوحة المصدر_
- [ETH Gas Tracker](https://www.ethgastracker.com/) _راقب وتتبع أسعار غاز إيثريوم والطبقة الثانية (L2) لتقليل رسوم المعاملات وتوفير المال_
- [Blocknative ETH Gas Estimator](https://chrome.google.com/webstore/detail/blocknative-eth-gas-estim/ablbagjepecncofimgjmdpnhnfjiecfm) _إضافة Chrome لتقدير الغاز تدعم كلاً من المعاملات القديمة من النوع 0 ومعاملات EIP-1559 من النوع 2._
- [حاسبة رسوم الغاز من Cryptoneur](https://www.cryptoneur.xyz/gas-fees-calculator) _احسب رسوم الغاز بعملتك المحلية لأنواع المعاملات المختلفة على الشبكة الرئيسية (Mainnet) وArbitrum وPolygon._

## أدوات ذات صلة {#related-tools}

- [منصة الغاز من Blocknative](https://www.blocknative.com/gas) _واجهة برمجة تطبيقات لتقدير الغاز مدعومة بمنصة بيانات المحطة المؤقتة (mempool) العالمية من Blocknative_
- [شبكة الغاز (Gas Network)](https://gas.network) أوراكل الغاز على السلسلة. يدعم أكثر من 35 سلسلة.

## قراءة إضافية{#further-reading}

- [شرح غاز إيثريوم](https://defiprime.com/gas)
- [تقليل استهلاك الغاز في عقودك الذكية](https://medium.com/coinmonks/8-ways-of-reducing-the-gas-consumption-of-your-smart-contracts-9a506b339c0a)
- [استراتيجيات تحسين الغاز للمطورين](https://www.alchemy.com/overviews/solidity-gas-optimization)
- [مستندات EIP-1559](https://eips.ethereum.org/EIPS/eip-1559).
- [مصادر Tim Beiko حول EIP-1559](https://hackmd.io/@timbeiko/1559-resources)
- [EIP-1559: فصل الآليات عن الميمات](https://web.archive.org/web/20241126205908/https://research.2077.xyz/eip-1559-separating-mechanisms-from-memes)
