---
title: "الكتل"
description: "نظرة عامة على الكتل في سلسلة كتل Ethereum - بنية بياناتها وسبب الحاجة إليها وكيفية إنشائها."
lang: ar
---

الكتل هي دفعات من المعاملات تحمل تجزئة من الكتلة السابقة في السلسلة. وهذا يربط الكتل معًا (في سلسلة) لأن التجزئات مشتقة بشكل مشفّر من بيانات الكتلة. بذلك يتم منع الاحتيال، لأن تغييرًا واحدًا في أي كتلة في السجل يبطل كل الكتل التالية لأن جميع التجزئات اللاحقة ستتغير وسيلاحظ ذلك كل من يقوم بتشغيل سلسلة الكتل.

## المتطلبات الأساسية {#prerequisites}

تعتبر الكتل موضوعًا يسهل على المبتدئين فهمه. ولكن لمساعدتك على فهم هذه الصفحة بشكل أفضل، نوصيك أولاً بقراءة [الحسابات](/developers/docs/accounts/)، [والمعاملات](/developers/docs/transactions/)، و[مقدمتنا إلى إيثريوم](/developers/docs/intro-to-ethereum/).

## ما نفع الكُتل؟ {#why-blocks}

للتأكد من أن جميع المشاركين على شبكة Ethereum يحافظون على حالة متزامنة ويوافقون على التاريخ الدقيق للمعاملات ، نقوم بدفع المعاملات إلى كتل. هذا يعني أن العشرات (أو المئات) من المعاملات يتم الالتزام بها والاتفاق عليها ومزامنتها كلها مرة واحدة.

![رسم تخطيطي يوضح المعاملة في كتلة تسبب تغييرات في الحالة](./tx-block.png)
_الرسم البياني مقتبس من [Ethereum EVM illustrated](https://takenobu-hs.github.io/downloads/ethereum_evm_illustrated.pdf)_

من خلال تباعد الالتزامات ، نمنح جميع المشاركين في الشبكة وقتًا كافيًا للتوصل إلى إجماع: على الرغم من أن طلبات المعاملات تحدث عشرات المرات في الثانية ، يتم إنشاء الكتل والالتزام بها على Ethereum مرة واحدة كل اثنتي عشرة ثانية.

## كيف تعمل الكتل {#how-blocks-work}

للحفاظ على سجل المعاملة، يتم ترتيب الكتل بدقة شديدة (بحيث تحتوي كل كتلة جديدة يتم إنشاؤها على إشارة مرجعية إلى كتلتها الأصلية)، وكذلك الأمر بالنسبة للمعاملات التي تتم داخل الكتل. وباستثناء الحالات النادرة، يكون جميع المشاركين في الشبكة، في أي وقت كان، متفقين على عدد الكتل وسجلها بالضبط، ويعملون على تجميع دفعة طلبات المعاملات النشطة الراهنة إلى الكتلة التالية.

مجرد تجميع الكتلة بواسطة مدقق تم اختياره عشوائيًا على الشبكة ، يتم نشرها إلى بقية الشبكة ؛ تضيف جميع العقد هذه الكتلة إلى نهاية blockchain الخاصة بها ، ويتم تحديد مدقق جديد لإنشاء الكتلة التالية. يتم تحديد عملية تجميع الكتل الدقيقة وعملية الالتزام / الإجماع حاليًا من خلال بروتوكول "إثبات الحصة" الخاص بـ Ethereum.

## بروتوكول إثبات الحصة {#proof-of-stake-protocol}

إثبات الحصة يعني ما يلي: بروتوكول الحصة

- العُقد المُصادِقة يجب أن تُجمِّد 32 ETH في عقد إيداع، كضمان إضافي ضد أي سلوك سيئ يساعد ذلك في حماية الشبكة، لأن أي نشاط غير نزيه يمكن إثباته يؤدي إلى تدمير جزء من الرصيد المرهون أو كله.
- في كل خانة زمنية (تفصل بينها اثنتا عشرة ثانية) يتم اختيار مُصادِق بشكل عشوائي ليكون مُقترِح الكتلة. يقومون بتجميع المعاملات معًا، وتنفيذها، وتحديد حالة جديدة. يُغلِّفون هذه المعلومات داخل كتلة، ثم يمررنها إلى المُصادِقين الآخرين.
- يقوم المُصادِقون الآخرون الذين علموا بالكتلة الجديدة بإعادة تنفيذ المعاملات للتأكد من توافقهم مع التغيير المقترح في الحالة العامة للشبكة. بافتراض أن الكتلة صالحة، يتم إضافتها إلى قاعدة بياناتهم الخاصة.
- إذا علم المُصادِق بوجود كتلتين متعارضتين لنفس الخانة الزمنية، فإنه يستخدم خوارزمية اختيار الفرع لاختيار الكتلة التي يدعمها أكبر قدر من الإيثريوم المرهون.

[المزيد عن إثبات الحصة](/developers/docs/consensus-mechanisms/pos)

## ماذا يوجد في الكتلة؟ {#block-anatomy}

تحتوي الكتلة على كمّ هائل من المعلومات. في أعلى مستوى، تحتوي الكتلة على الحقول التالية:

| حقل              | الوصف                                           |
| :--------------- | :---------------------------------------------- |
| `الخانة`         | الخانة الزمنية التي تنتمي إليها الكتلة          |
| `proposer_index` | معرف المُصادِق الذي يقترح الكتلة                |
| `parent_root`    | التجزئة (هاش) للكتلة السابقة |
| `state_root`     | التجزئة الجذرية لكائن الحالة                    |
| `الجسم`          | كائن يحتوي على عدة حقول، كما هو مُعرَّف أدناه   |

يحتوي `body` الكتلة على عدة حقول خاصة به:

| حقل                  | الوصف                                                           |
| :------------------- | :-------------------------------------------------------------- |
| `randao_reveal`      | قيمة تُستخدم لاختيار مُقترح الكتلة التالي                       |
| `eth1_data`          | معلومات حول عقد الإيداع                                         |
| `graffiti`           | بيانات عشوائية تُستخدم لوضع علامات على الكتل                    |
| `proposer_slashings` | قائمة المُصدِّقين المطلوب شطبها                                 |
| `attester_slashings` | قائمة المُصدِّقين المطلوب شطبها                                 |
| `المصادقات`          | قائمة الإثباتات التي تمت ضد الخانات السابقة                     |
| `الودائع`            | قائمة الإيداعات الجديدة في عقد الإيداع                          |
| `voluntary_exits`    | قائمة المحققين الخارجين من الشبكة                               |
| `sync_aggregate`     | مجموعة فرعية من المُحققين المُستخدمين لخدمة عملاء Light Clients |
| `execution_payload`  | المعاملات المُمررة من عميل التنفيذ                              |

يحتوي حقل `attestations` على قائمة بجميع الإثباتات في الكتلة. للشهادات نوع بيانات خاص بها، يحتوي على عدة أجزاء من البيانات.  تحتوي كل شهادة على:

| حقل                | الوصف                                               |
| :----------------- | :-------------------------------------------------- |
| `aggregation_bits` | قائمة بالمحققين الذين شاركوا في هذه الشهادة         |
| `البيانات`         | حاوية تحتوي على حقول فرعية متعددة                   |
| `التوقيع`          | التوقيع المجمع لمجموعة من المدققين مقابل جزء `data` |

يحتوي حقل `data` في `attestation` على ما يلي:

| حقل                 | الوصف                                                                         |
| :------------------ | :---------------------------------------------------------------------------- |
| `الخانة`            | الخانة التي يرتبط بها الإثبات                                                 |
| `index`             | مؤشرات الإثبات للمحققين                                                       |
| `beacon_block_root` | التجزئة (هاش) الجذرية لكتلة المنارة التي تُرى كرأس للسلسلة |
| `المصدر`            | آخر نقطة تحقق مبررة                                                           |
| `target`            | أحدث كتلة حدودية للعصر                                                        |

يؤدي تنفيذ المعاملات في `execution_payload` إلى تحديث الحالة العامة. يعيد جميع العملاء تنفيذ المعاملات في `execution_payload` لضمان تطابق الحالة الجديدة مع تلك الموجودة في حقل `state_root` للكتلة الجديدة. بهذه الطريقة، يُمكن للعملاء التأكد من صلاحية الكتلة الجديدة وسلامتها لإضافتها إلى سلسلة الكتل الخاصة بهم إن `execution payload` نفسه عبارة عن كائن له عدة حقول. يوجد أيضًا `execution_payload_header` يحتوي على معلومات موجزة مهمة حول بيانات التنفيذ. يتم تنظيم هياكل البيانات هذه على النحو التالي:

يحتوي `execution_payload_header` على الحقول التالية:

| حقل                 | الوصف                                                         |
| :------------------ | :------------------------------------------------------------ |
| `parent_hash`       | تجزئة الكتلة الأصلية                                          |
| `fee_recipient`     | عنوان الحساب لدفع رسوم المعاملات إلى                          |
| `state_root`        | تجزئة الجذر للحالة العالمية بعد تطبيق التغييرات في هذه الكتلة |
| `receipts_root`     | تجزئة إيصالات المعاملات                                       |
| `logs_bloom`        | بنية البيانات التي تحتوي على سجلات الأحداث                    |
| `prev_randao`       | القيمة المستخدمة في اختيار المُصادِق العشوائي                 |
| `block_number`      | رقم الكتلة الحالية                                            |
| `gas_limit`         | الحد الأقصى للغاز المسموح به في هذه الكتلة                    |
| `gas_used`          | الكمية الفعلية للغاز المستخدمة في هذه الكتلة                  |
| `timestamp`         | وقت الكتلة                                                    |
| `extra_data`        | بيانات إضافية عشوائية بصيغة بايتات خام                        |
| `base_fee_per_gas`  | قيمة الرسوم الأساسية                                          |
| `block_hash`        | تجزئة كتلة التنفيذ                                            |
| `transactions_root` | التجزئة الجذرية للمعاملات في الحمولة                          |
| `withdrawal_root`   | التجزئة الجذرية للسحوبات في الحمولة                           |

يحتوي `execution_payload` نفسه على ما يلي (لاحظ أن هذا مطابق للرأس، باستثناء أنه بدلاً من التجزئة (هاش) الجذرية للمعاملات، فإنه يتضمن القائمة الفعلية للمعاملات ومعلومات السحب):

| حقل                | الوصف                                                         |
| :----------------- | :------------------------------------------------------------ |
| `parent_hash`      | تجزئة الكتلة الأصلية                                          |
| `fee_recipient`    | عنوان الحساب لدفع رسوم المعاملات إلى                          |
| `state_root`       | تجزئة الجذر للحالة العالمية بعد تطبيق التغييرات في هذه الكتلة |
| `receipts_root`    | تجزئة إيصالات المعاملات                                       |
| `logs_bloom`       | بنية البيانات التي تحتوي على سجلات الأحداث                    |
| `prev_randao`      | القيمة المستخدمة في اختيار المُصادِق العشوائي                 |
| `block_number`     | رقم الكتلة الحالية                                            |
| `gas_limit`        | الحد الأقصى للغاز المسموح به في هذه الكتلة                    |
| `gas_used`         | الكمية الفعلية للغاز المستخدمة في هذه الكتلة                  |
| `timestamp`        | وقت الكتلة                                                    |
| `extra_data`       | بيانات إضافية عشوائية بصيغة بايتات خام                        |
| `base_fee_per_gas` | قيمة الرسوم الأساسية                                          |
| `block_hash`       | تجزئة كتلة التنفيذ                                            |
| `المعاملات`        | قائمة المعاملات التي سيتم تنفيذها                             |
| `عمليات السحب`     | قائمة كائنات السحب                                            |

تحتوي قائمة `withdrawals` على كائنات `withdrawal` مهيكلة بالطريقة التالية:

| حقل              | الوصف                        |
| :--------------- | :--------------------------- |
| `العنوان`        | عنوان الحساب الذي قام بالسحب |
| `amount`         | مبلغ السحب                   |
| `index`          | قيمة مؤشر السحب              |
| `validatorIndex` | قيمة مؤشر التحقق             |

## وقت الكتلة {#block-time}

Block time refers to the time separating blocks. In Ethereum, time is divided up into twelve second units called 'slots'. In each slot a single validator is selected to propose a block. Assuming all validators are online and fully functional there will be a block in every slot, meaning the block time is 12s. However, occasionally validators might be offline when called to propose a block, meaning slots can sometimes go empty.

This implementation differs from proof-of-work based systems where block times are probabilistic and tuned by the protocol's target mining difficulty. إن [متوسط وقت الكتلة](https://etherscan.io/chart/blocktime) الخاص بإيثريوم هو مثال مثالي على ذلك، حيث يمكن استنتاج الانتقال من إثبات العمل إلى إثبات الحصة بوضوح بناءً على ثبات وقت الكتلة الجديد البالغ 12 ثانية.

## حجم الكتلة {#block-size}

ملاحظة هامة أخيرة: الكتل نفسها مقيدة من حيث الحجم. كل كتلة لها حجم مستهدف يبلغ 30 مليون غاز، لكن حجم الكتل سيزداد أو ينقص وفقًا لمتطلبات الشبكة، حتى يصل إلى حد الكتلة البالغ 60 مليون غاز (ضعف حجم الكتلة المستهدف). يمكن تعديل حد الغاز للكتلة صعودًا أو هبوطًا بمقدار 1/1024 من حد الغاز للكتلة السابقة. As a result, validators can change the block gas limit through consensus. يجب أن يكون إجمالي الغاز المستهلك من قبل جميع المعاملات في الكتلة أقل من حد الغاز للكتلة. هذا مهم لأنه يضمن عدم زيادة حجم الكتل بشكل تعسفي. فإذا أمكن للكتل أن تكون ضخمة بشكل عشوائي، سوف تفقد العُقد الكاملة الأقل فعالية تدريجيًا قدرتها على مواكبة الشبكة بسبب متطلبات المساحة والسرعة. The larger the block, the greater the computing power required to process them in time for the next slot. This is a centralizing force, which is resisted by capping block sizes.

## قراءة إضافية {#further-reading}

_هل تعرف أحد الموارد المجتمعية التي ساعدتك؟ عدّل هذه الصفحة وأضفه!_

## المواضيع ذات الصلة {#related-topics}

- [المعاملات](/developers/docs/transactions/)
- [الغاز](/developers/docs/gas/)
- إثبات الحصة(/developers/docs/consensus-mechanisms/pos)
