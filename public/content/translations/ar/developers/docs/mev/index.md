---
title: "القيمة القابلة للاستخراج القصوى (MEV)"
description: "مقدمة عن القيمة القابلة للاستخراج القصوى (MEV)"
lang: ar
---

تشير القيمة القصوى القابلة للاستخراج (MEV) إلى القيمة القصوى التي يمكن استخراجها من إنتاج الكتلة بما يتجاوز مكافأة الكتلة القياسية ورسوم الغاز عن طريق تضمين واستبعاد وتغيير ترتيب المعاملات في الكتلة.

## أقصى قيمة قابلة للاستخراج {#maximal-extractable-value}

تم تطبيق أقصى قيمة قابلة للاستخراج لأول مرة في سياق [إثبات العمل](/developers/docs/consensus-mechanisms/pow/)، وكان يشار إليها في البداية باسم "القيمة القابلة للاستخراج بواسطة عامل التعدين". This is because in proof-of-work, miners control transaction inclusion, exclusion, and ordering. ومع ذلك، فمنذ الانتقال إلى إثبات الحصة عبر [الدمج](/roadmap/merge)، أصبح المدققون مسؤولين عن هذه الأدوار، ولم يعد التعدين جزءاً من بروتوكول إيثريوم. لا تزال طرق استخراج القيمة موجودة، ومع ذلك، يتم الآن استخدام مصطلح "أقصى قيمة قابلة للاستخراج" بدلاً من ذلك.

## المتطلبات الأساسية {#prerequisites}

تأكد من أنك على دراية بـ [المعاملات](/developers/docs/transactions/)، و[الكتل](/developers/docs/blocks/)، و[إثبات الحصة](/developers/docs/consensus-mechanisms/pos)، و[الغاز](/developers/docs/gas/). من المفيد أيضًا الإلمام بـ [التطبيقات اللامركزية](/apps/) و[التمويل اللامركزي (DeFi)](/defi/).

## استخراج MEV {#mev-extraction}

من الناحية النظرية، تعود ملكية MEV بالكامل إلى المحققين لأنهم الطرف الوحيد الذي يمكنه ضمان تنفيذ فرصة MEV مربحة. ولكن في الممارسة العملية، يتم استخراج جزء كبير من MEV بواسطة المشاركين المستقلين في الشبكة الذين يشار إليهم باسم "الباحثين". يقوم الباحثون بتشغيل خوارزميات معقدة على بيانات blockchain للكشف عن فرص MEV المربحة ولديهم روبوتات لإرسال هذه المعاملات المربحة تلقائيًا إلى الشبكة.

على أي حال، يحصل المحققون على جزء من مبلغ MEV الكامل لأن الباحثين على استعداد لدفع رسوم غاز عالية (تذهب إلى المحقق) في مقابل احتمالية أعلى لإدراج معاملاتهم المربحة في كتلة. بافتراض أن الباحثين عقلانيون اقتصاديًا، فإن رسوم الغاز التي يرغب الباحث في دفعها ستكون مبلغًا يصل إلى 100٪ من القيمة المتوسطة لسيارته (لأنه إذا كانت رسوم الغاز أعلى، فإن الباحث سوف يخسر المال).

ومع ذلك، بالنسبة لبعض فرص MEV شديدة التنافسية، مثل [موازنة منصات التداول اللامركزية (DEX)](#mev-examples-dex-arbitrage)، قد يضطر الباحثون إلى دفع 90% أو أكثر من إجمالي إيرادات MEV الخاصة بهم كرسوم غاز للمدقق، لأن الكثير من الأشخاص يرغبون في إجراء نفس صفقة الموازنة المربحة. ويرجع ذلك إلى أن الطريقة الوحيدة لضمان نجاح معاملة التحكيم الخاصة بهم هي إذا قدموا المعاملة بأعلى سعر للغاز.

### تخفيض استهلاك الغاز {#mev-extraction-gas-golfing}

لقد جعلت هذه الديناميكية من إتقان "لعبة الجولف بالغاز" - برمجة المعاملات بحيث تستخدم أقل كمية من الغاز - ميزة تنافسية، لأنها تسمح للباحثين بتحديد سعر أعلى للغاز مع الحفاظ على إجمالي رسوم الغاز ثابتة (نظرًا لأن رسوم الغاز = سعر الغاز \ \* الغاز المستخدم).

تتضمن بعض تقنيات تخفيض استهلاك الغاز المعروفة: استخدام العناوين التي تبدأ بسلسلة طويلة من الأصفار (على سبيل المثال، [0x0000000000C521824EaFf97Eac7B73B084ef9306](https://eth.blockscout.com/address/0x0000000000C521824EaFf97Eac7B73B084ef9306)) نظرًا لأنها تشغل مساحة أقل (وبالتالي غاز أقل) للتخزين؛ وترك أرصدة صغيرة من رموز [ERC-20](/developers/docs/standards/tokens/erc-20/) في العقود، حيث إن تهيئة خانة تخزين (في حالة كان الرصيد 0) تكلف غازًا أكثر من تحديث خانة تخزين. يعد العثور على المزيد من التقنيات لتقليل استخدام الغاز مجالًا نشطًا للبحث بين الباحثين.

### المتداولون الاستباقيون المعممون {#mev-extraction-generalized-frontrunners}

بدلاً من برمجة خوارزميات معقدة للكشف عن فرص MEV المربحة، يقوم بعض الباحثين بتشغيل رواد معممين. الرواد المعممون هم عبارة عن روبوتات تراقب مجموعة الذاكرة لاكتشاف المعاملات المربحة. سيقوم المتصدر بنسخ رمز المعاملة المربحة المحتملة، واستبدال العناوين بعنوان المتصدر، وتشغيل المعاملة محليًا للتأكد من أن المعاملة المعدلة تؤدي إلى ربح لعنوان المتصدر. إذا كانت المعاملة مربحة بالفعل، فسوف يقدم المتصدر المعاملة المعدلة مع العنوان المستبدل وسعر الغاز الأعلى، "متقدمًا" على المعاملة الأصلية ويحصل على MEV الخاص بالباحث الأصلي.

### Flashbots {#mev-extraction-flashbots}

Flashbots هو مشروع مستقل يوسع نطاق عملاء التنفيذ من خلال خدمة تسمح للباحثين بإرسال معاملات MEV إلى المحققين دون الكشف عنها لمجموعة الذاكرة العامة. يؤدي هذا إلى منع المعاملات من أن يتم إدارتها مسبقًا من قبل المتسابقين المعممين.

## أمثلة على MEV {#mev-examples}

تظهر MEV على blockchain بعدة طرق.

### موازنة منصات التداول اللامركزية (DEX) {#mev-examples-dex-arbitrage}

تعد الموازنة في [منصات التداول اللامركزية](/glossary/#dex) (DEX) أبسط فرص MEV وأشهرها. ونتيجة لذلك، فهي أيضًا الأكثر تنافسية.

تعمل بهذه الطريقة: إذا كان هناك بورصتان لامركزيتان تقدمان رمزًا بسعرين مختلفين، فيمكن لأي شخص شراء الرمز على بورصة لامركزية ذات سعر أقل وبيعه على بورصة لامركزية ذات سعر أعلى في معاملة ذرية واحدة. بفضل آليات blockchain، هذا هو التحكيم الحقيقي الخالي من المخاطر.

[إليك مثال](https://eth.blockscout.com/tx/0x5e1657ef0e9be9bc72efefe59a2528d0d730d478cfc9e6cdd09af9f997bb3ef4) على معاملة موازنة مربحة، حيث قام باحث بتحويل 1,000 ETH إلى 1,045 ETH من خلال الاستفادة من اختلاف الأسعار لزوج ETH/DAI على منصتي Uniswap و Sushiswap.

### التصفيات {#mev-examples-liquidations}

تمثل عمليات تصفية بروتوكول الإقراض فرصة أخرى معروفة لـ MEV.

تتطلب بروتوكولات الإقراض مثل Maker و Aave من المستخدمين إيداع بعض الضمانات (مثل ETH). This deposited collateral is then used to lend out to other users.

يمكن للمستخدمين بعد ذلك اقتراض الأصول والرموز من الآخرين حسب حاجتهم (على سبيل المثال، يمكنك اقتراض MKR إذا كنت ترغب في التصويت على اقتراح حوكمة MakerDAO) حتى نسبة مئوية معينة من ضماناتهم المودعة. على سبيل المثال، إذا كان مبلغ الاقتراض هو 30% كحد أقصى، فيمكن للمستخدم الذي يودع 100 DAI في البروتوكول اقتراض ما يصل إلى 30 DAI من أصل آخر. يحدد البروتوكول النسبة الدقيقة لقوة الاقتراض.

وبما أن قيمة الضمانات التي يقدمها المقترض تتقلب، فإن قدرته على الاقتراض تتقلب أيضا. إذا تجاوزت قيمة الأصول المقترضة، بسبب تقلبات السوق، على سبيل المثال، 30% من قيمة ضماناتها (مرة أخرى، يتم تحديد النسبة المئوية الدقيقة بواسطة البروتوكول)، فإن البروتوكول يسمح عادةً لأي شخص بتصفية الضمانات، وسداد أموال المقرضين على الفور (وهذا مشابه لكيفية عمل [نداءات الهامش](https://www.investopedia.com/terms/m/margincall.asp) في التمويل التقليدي). في حالة التصفية، يتعين على المقترض عادةً دفع رسوم تصفية باهظة، يذهب جزء منها إلى المصفي - وهنا تأتي فرصة MEV.

يتنافس الباحثون على تحليل بيانات blockchain بأسرع ما يمكن لتحديد المقترضين الذين يمكن تصفيتهم ويكونون أول من يقدم معاملة التصفية ويجمع رسوم التصفية لأنفسهم.

### تداول الساندويتش {#mev-examples-sandwich-trading}

تعتبر التجارة الساندويتشية طريقة أخرى شائعة لاستخراج MEV.

للقيام بذلك، سوف يراقب الباحث مجموعة الذاكرة بحثًا عن صفقات DEX كبيرة. على سبيل المثال، لنفترض أن شخصًا ما يريد شراء 10000 UNI باستخدام DAI على Uniswap. ستكون للتجارة بهذا الحجم تأثيرًا كبيرًا على زوج UNI/DAI، مما قد يؤدي إلى رفع سعر UNI بشكل كبير مقارنة بـ DAI.

يمكن للباحث حساب تأثير السعر التقريبي لهذه الصفقة الكبيرة على زوج UNI/DAI وتنفيذ أمر شراء مثالي مباشرة _قبل_ الصفقة الكبيرة، وشراء UNI بسعر رخيص، ثم تنفيذ أمر بيع مباشرة _بعد_ الصفقة الكبيرة، وبيعه بالسعر الأعلى الذي تسببت فيه الصفقة الكبيرة.

ومع ذلك، فإن تداول الساندويتش أكثر خطورة لأنه ليس ذريًا (على عكس موازنة DEX، كما هو موضح أعلاه) وهو عرضة لـ [هجوم السالمونيلا](https://github.com/Defi-Cartel/salmonella).

### MEV في الرموز غير القابلة للاستبدال (NFT) {#mev-examples-nfts}

تعتبر MEV في مجال NFT ظاهرة ناشئة، وليست مربحة بالضرورة.

ومع ذلك، نظرًا لأن معاملات NFT تحدث على نفس blockchain المشتركة بين جميع معاملات Ethereum الأخرى، يمكن للباحثين استخدام تقنيات مماثلة لتلك المستخدمة في فرص MEV التقليدية في سوق NFT أيضًا.

على سبيل المثال، إذا كان هناك NFT شائعًا وأراد أحد الباحثين الحصول على NFT معين أو مجموعة من NFTs، فيمكنه برمجة معاملة بحيث يكون أول من يشتري NFT، أو يمكنه شراء المجموعة الكاملة من NFTs في معاملة واحدة. أو إذا تم [إدراج رمز غير قابل للاستبدال (NFT) عن طريق الخطأ بسعر منخفض](https://www.theblockcrypto.com/post/113546/mistake-sees-69000-cryptopunk-sold-for-less-than-a-cent)، فيمكن للباحث أن يستبق المشترين الآخرين ويحصل عليه بسعر رخيص.

حدث أحد الأمثلة البارزة على MEV في NFT عندما أنفق باحث 7 ملايين دولار [لشراء](https://eth.blockscout.com/address/0x650dCdEB6ecF05aE3CAF30A70966E2F395d5E9E5?tab=txs) كل Cryptopunk عند الحد الأدنى للسعر. [أوضح باحث في بلوكتشين على تويتر](https://twitter.com/IvanBogatyy/status/1422232184493121538) كيف عمل المشتري مع مزود MEV للحفاظ على سرية عملية الشراء.

### الذيل الطويل {#mev-examples-long-tail}

إن التحكيم في بورصات DEX، والتصفية، والتداول بالسندويتش هي فرص معروفة جدًا لـ MEV ومن غير المرجح أن تكون مربحة للباحثين الجدد. ومع ذلك، هناك سلسلة طويلة من فرص MEV الأقل شهرة (يمكن القول أن NFT MEV هي واحدة من هذه الفرص).

قد يتمكن الباحثون الذين بدأوا للتو من تحقيق المزيد من النجاح من خلال البحث عن MEV في هذا الذيل الأطول. تسرد [لوحة وظائف MEV](https://github.com/flashbots/mev-job-board) الخاصة بـ Flashbots بعض الفرص الناشئة.

## تأثيرات MEV {#effects-of-mev}

MEV ليس سيئًا بالكامل - هناك عواقب إيجابية وسلبية لـ MEV على Ethereum.

### الجوانب الإيجابية {#effects-of-mev-the-good}

تعتمد العديد من مشاريع DeFi على جهات فاعلة عقلانية اقتصاديًا لضمان فائدة واستقرار بروتوكولاتها. على سبيل المثال، تضمن التحكيم في بورصات العملات الرقمية اللامركزية (DEX) حصول المستخدمين على أفضل الأسعار وأكثرها صحة لرموزهم، وتعتمد بروتوكولات الإقراض على التصفية السريعة عندما ينخفض ​​​​معدل المقترضين عن نسب الضمان لضمان حصول المقرضين على المبالغ المستردة.

بدون باحثين عقلانيين يسعون إلى إصلاح عدم الكفاءة الاقتصادية والاستفادة من الحوافز الاقتصادية للبروتوكولات، قد لا تكون بروتوكولات DeFi والتطبيقات اللامركزية بشكل عام قوية كما هي اليوم.

### الجوانب السلبية {#effects-of-mev-the-bad}

على مستوى طبقة التطبيق، تؤدي بعض أشكال MEV، مثل التداول الساندويتش، إلى تجربة أسوأ بشكل لا لبس فيه للمستخدمين. يواجه المستخدمون المحاصرون انزلاقًا متزايدًا وتنفيذًا أسوأ لتداولاتهم.

على مستوى الشبكة، يؤدي المتصدرون المعممون ومزادات أسعار الغاز التي يشاركون فيها غالبًا (عندما يتنافس اثنان أو أكثر من المتصدرين على إدراج معاملتهم في الكتلة التالية من خلال رفع سعر الغاز في معاملاتهم تدريجيًا) إلى ازدحام الشبكة وارتفاع أسعار الغاز للجميع الآخرين الذين يحاولون إجراء معاملات منتظمة.

إلى جانب ما يحدث _داخل_ الكتل، يمكن أن يكون لـ MEV تأثيرات ضارة _بين_ الكتل. إذا تجاوزت MEV المتاحة في كتلة بشكل كبير مكافأة الكتلة القياسية، فقد يتم تحفيز المحققين لإعادة تنظيم الكتل والاستيلاء على MEV لأنفسهم، مما يتسبب في إعادة تنظيم blockchain وعدم استقرار الإجماع.

لقد تم [استكشاف إمكانية إعادة تنظيم بلوكتشين هذه سابقًا على بلوكتشين البيتكوين](https://dl.acm.org/doi/10.1145/2976749.2978408). مع تقلص مكافأة كتلة البيتكوين إلى النصف وتشكل رسوم المعاملات جزءًا متزايدًا من مكافأة الكتلة، تنشأ مواقف يصبح فيها من المنطقي اقتصاديًا بالنسبة للمعدنين التخلي عن مكافأة الكتلة التالية وإعادة تعدين الكتل السابقة برسوم أعلى. مع نمو MEV، يمكن أن يحدث نفس النوع من المواقف في Ethereum، مما يهدد سلامة blockchain.

## حالة MEV {#state-of-mev}

ارتفعت معدلات استخراج السيارات الكهربائية متعددة الاستخدامات بشكل كبير في أوائل عام 2021، مما أدى إلى ارتفاع أسعار الغاز بشكل كبير في الأشهر القليلة الأولى من العام. لقد أدى ظهور مرحل MEV الخاص بـ Flashbots إلى تقليل فعالية المتصدرين المعممين ونقل مزادات أسعار الغاز خارج السلسلة، مما أدى إلى خفض أسعار الغاز للمستخدمين العاديين.

في حين لا يزال العديد من الباحثين يحققون أموالاً جيدة من MEV، ومع تزايد شهرة الفرص وتنافس المزيد والمزيد من الباحثين على نفس الفرصة، فإن المحققين سوف يستحوذون على المزيد والمزيد من إجمالي إيرادات MEV (لأن نفس النوع من مزادات الغاز كما هو موضح أعلاه يحدث أيضًا في Flashbots، وإن كان بشكل خاص، وسوف يستحوذ المحققون على إيرادات الغاز الناتجة). كما أن MEV ليست فريدة من نوعها على Ethereum، ومع تزايد الفرص التنافسية على Ethereum، يتجه الباحثون إلى سلاسل الكتل البديلة مثل Binance Smart Chain، حيث توجد فرص MEV مماثلة لتلك الموجودة على Ethereum مع منافسة أقل.

من ناحية أخرى، فإن الانتقال من إثبات العمل إلى إثبات الحصة والجهود الجارية لتوسيع نطاق Ethereum باستخدام التجميعات كلها تغير مشهد MEV بطرق لا تزال غير واضحة إلى حد ما. ليس من المعروف جيدًا بعد كيف أن وجود مقترحي كتل مضمونين ومعروفين مسبقًا بفترة وجيزة يغير ديناميكيات استخراج MEV مقارنة بالنموذج الاحتمالي في إثبات العمل، أو كيف سيتم تعطيل ذلك عند تنفيذ [انتخاب القائد السري الفردي](https://ethresear.ch/t/secret-non-single-leader-election/11789) و[تقنية المدقق الموزعة](/staking/dvt/). وعلى نحو مماثل، يبقى أن نرى ما هي فرص MEV المتاحة عندما يتم نقل معظم نشاط المستخدم بعيدًا عن Ethereum إلى عمليات التجميع والشظايا من الطبقة 2.

## MEV في إثبات الحصة (PoS) على إيثريوم {#mev-in-ethereum-proof-of-stake}

كما تم شرحه، فإن MEV لها آثار سلبية على تجربة المستخدم الشاملة وأمان طبقة الإجماع. لكن انتقال الإيثريوم إلى إجماع إثبات الحصة (المعروف باسم "الدمج") من المحتمل أن يؤدي إلى ظهور مخاطر جديدة مرتبطة بـ MEV:

### مركزية المدققين {#validator-centralization}

في مرحلة ما بعد دمج Ethereum، توصل المحققون (بعد إيداع 32 ETH كضمان) إلى إجماع بشأن صحة الكتل المضافة إلى Beacon Chain. نظرًا لأن 32 ETH قد تكون بعيدة عن متناول الكثيرين، فإن [الانضمام إلى مجمع مشاركة](/staking/pools/) قد يكون خيارًا أكثر جدوى. ومع ذلك، فإن التوزيع الصحي لـ [المشاركين المنفردين](/staking/solo/) هو أمر مثالي، لأنه يخفف من مركزية المدققين ويحسن أمان إيثريوم.

ومع ذلك، يُعتقد أن استخراج MEV قادر على تسريع مركزية المحقق. يرجع هذا جزئيًا إلى أنه نظرًا لأن المدققين [يكسبون أقل مقابل اقتراح الكتل](/roadmap/merge/issuance/#how-the-merge-impacts-ETH-supply) مما كان يفعله المعدِّنون سابقًا، فقد [أثر استخراج MEV بشكل كبير على أرباح المدققين](https://github.com/flashbots/eth2-research/blob/main/notebooks/mev-in-eth2/eth2-mev-calc.ipynb) منذ [الدمج](/roadmap/merge/).

من المرجح أن تتمتع مجموعات المشاركة الأكبر بموارد أكثر للاستثمار في التحسينات اللازمة للاستفادة من فرص MEV. كلما زاد حجم MEV الذي تستخرجه هذه المجمعات، زادت الموارد المتاحة لديها لتحسين قدراتها على استخراج MEV (وزيادة الإيرادات الإجمالية)، مما يؤدي في الأساس إلى خلق [وفورات الحجم](https://www.investopedia.com/terms/e/economiesofscale.asp#).

في ظل قلة الموارد المتاحة لهم، قد لا يتمكن المشاركون المنفردون من الاستفادة من فرص MEV. قد يؤدي هذا إلى زيادة الضغط على المحققين المستقلين للانضمام إلى مجموعات المشاركة القوية لتعزيز أرباحهم، مما يقلل من اللامركزية في Ethereum.

### مجمعات الذاكرة المرخصة {#permissioned-mempools}

ردًا على هجمات التمركز والهجوم الأمامي، قد يبدأ التجار في إجراء صفقات خارج السلسلة مع المحققين لضمان خصوصية المعاملات. بدلاً من إرسال معاملة MEV محتملة إلى مجموعة الذاكرة العامة، يرسلها المتداول مباشرة إلى المحقق، الذي يقوم بتضمينها في كتلة ويقسم الأرباح مع المتداول.

"المجمعات المظلمة" هي نسخة أكبر من هذا الترتيب وتعمل كمجموعات ذاكرة مسموح بها ويمكن الوصول إليها فقط ومفتوحة للمستخدمين الراغبين في دفع رسوم معينة. من شأن هذا الاتجاه أن يقلل من عدم أذونات الإيثريوم وانعدام الثقة فيه، وربما يحول blockchain إلى آلية "الدفع مقابل اللعب" التي تفضل أعلى مزايد.

ستعمل مجموعات الذاكرة المسموح بها أيضًا على تسريع مخاطر المركزية الموضحة في القسم السابق. من المرجح أن تستفيد المجمعات الكبيرة التي تدير العديد من المحققين من توفير خصوصية المعاملات للتجار والمستخدمين، مما يؤدي إلى زيادة إيرادات MEV الخاصة بهم.

إن مكافحة هذه المشاكل المتعلقة بـ MEV في مرحلة ما بعد دمج Ethereum هي مجال بحث أساسي. حتى الآن، هناك حلان مقترحان لتقليل التأثير السلبي لـ MEV على لامركزية وأمان إيثريوم بعد الدمج، وهما [**فصل المقترح عن الباني (PBS)**](/roadmap/pbs/) و[**واجهة برمجة تطبيقات الباني (Builder API)**](https://github.com/ethereum/builder-specs).

### فصل المقترح عن الباني {#proposer-builder-separation}

في كل من إثبات العمل وإثبات الحصة، تقترح العقدة التي تبني كتلة إضافتها إلى السلسلة إلى العقد الأخرى المشاركة في الإجماع. تصبح الكتلة الجديدة جزءًا من السلسلة الأساسية بعد أن يقوم عامل منجم آخر بالبناء فوقها (في PoW) أو تتلقى شهادات من غالبية المحققين (في PoS).

إن الجمع بين أدوار منتج الكتلة ومقترح الكتلة هو ما يؤدي إلى ظهور معظم المشكلات المتعلقة بـ MEV الموصوفة سابقًا. على سبيل المثال، يتم تحفيز عقد الإجماع لبدء عمليات إعادة تنظيم السلسلة في [هجمات لص الوقت](https://www.mev.wiki/attack-examples/time-bandit-attack) لزيادة أرباح MEV إلى أقصى حد.

صُمم [فصل المقترح عن الباني](https://ethresear.ch/t/proposer-block-builder-separation-friendly-fee-market-designs/9725) (PBS) للتخفيف من تأثير MEV، خاصة على طبقة الإجماع. الميزة الرئيسية لـ PBS هي الفصل بين قواعد منتج الكتلة وقواعد مقترح الكتلة. لا يزال المدققون مسؤولين عن اقتراح الكتل والتصويت عليها، ولكن هناك فئة جديدة من الكيانات المتخصصة، تسمى **بناة الكتل**، مكلفة بترتيب المعاملات وبناء الكتل.

في ظل نظام PBS، يقوم منشئ الكتل بإنشاء حزمة معاملات ويضع عرضًا لتضمينها في كتلة Beacon Chain (كـ "حمولة التنفيذ"). يقوم المحقق الذي تم اختياره لاقتراح الكتلة التالية بعد ذلك بفحص العطاءات المختلفة واختيار الحزمة ذات أعلى رسوم. إن PBS تقوم في الأساس بإنشاء سوق للمزادات، حيث يتفاوض المطورون مع المحققين الذين يبيعون blockspace.

تستخدم تصميمات PBS الحالية [مخطط الالتزام والكشف](https://gitcoin.co/blog/commit-reveal-scheme-on-ethereum/) حيث ينشر البناة فقط التزامًا تشفيريًا بمحتويات الكتلة (ترويسة الكتلة) مع عروضهم. بعد قبول العرض الفائز، يقوم مقدم العرض بإنشاء اقتراح كتلة موقع يتضمن رأس الكتلة. من المتوقع أن ينشر باني الكتلة جسم الكتلة بالكامل بعد رؤية اقتراح الكتلة الموقّع، ويجب عليه أيضًا تلقي عدد كافٍ من [المصادقات](/glossary/#attestation) من المدققين قبل إنهاء العملية.

#### كيف يخفف الفصل بين المقترح والمنشئ من تأثير المركبات متعددة الاستخدامات؟ {#how-does-pbs-curb-mev-impact}

يؤدي الفصل بين المقترح والمنشئ داخل البروتوكول إلى تقليل تأثير MEV على الإجماع من خلال إزالة استخراج MEV من نطاق المحققين. وبدلاً من ذلك، فإن منشئي الكتل الذين يستخدمون أجهزة متخصصة سوف يستغلون فرص MEV في المستقبل.

ومع ذلك، لا يستبعد هذا المحققين تمامًا من الدخل المرتبط بـ MEV، حيث يتعين على المطورين تقديم عطاءات عالية حتى يتم قبول كتلهم من قبل المحققين. ومع ذلك، مع عدم تركيز المحققين بشكل مباشر على تحسين دخل MEV، فإن خطر هجمات سرقة الوقت ينخفض.

كما أن الفصل بين مقدم الاقتراح والمنشئ يقلل أيضًا من مخاطر مركزية MEV. على سبيل المثال، يؤدي استخدام مخطط الكشف عن الالتزام إلى إزالة الحاجة إلى ثقة المنشئين في المحققين حتى لا يسرقوا فرصة MEV أو يعرضوها على المنشئين الآخرين. يؤدي هذا إلى خفض الحاجز أمام المشاركين المنفردين للاستفادة من MEV، وإلا فإن المطورين سوف يتجهون نحو تفضيل المجمعات الكبيرة ذات السمعة خارج السلسلة وإجراء صفقات خارج السلسلة معهم.

على نحو مماثل، لا يتعين على المحققين أن يثقوا في المنشئين بعدم حجب أجسام الكتل أو نشر كتل غير صالحة لأن الدفع غير مشروط. تستمر رسوم المحقق في المعالجة حتى لو كانت الكتلة المقترحة غير متوفرة أو تم إعلانها غير صالحة من قبل المحققين الآخرين. في الحالة الأخيرة، يتم التخلص من الكتلة ببساطة، مما يجبر منشئ الكتلة على خسارة جميع رسوم المعاملات وإيرادات MEV.

### واجهة برمجة تطبيقات الباني {#builder-api}

في حين أن الفصل بين المقترح والمنشئ يعد بتقليل تأثيرات استخراج MEV، فإن تنفيذه يتطلب إجراء تغييرات على بروتوكول الإجماع. على وجه التحديد، ستحتاج قاعدة [اختيار الانقسام](/developers/docs/consensus-mechanisms/pos/#fork-choice) في سلسلة المنارة إلى التحديث. [واجهة برمجة تطبيقات الباني](https://github.com/ethereum/builder-specs) هي حل مؤقت يهدف إلى توفير تنفيذ عملي لفصل المقترح عن الباني، وإن كان ذلك بافتراضات ثقة أعلى.

واجهة برمجة تطبيقات الباني هي نسخة معدلة من [واجهة برمجة تطبيقات المحرك](https://github.com/ethereum/execution-apis/blob/main/src/engine/common.md) التي يستخدمها عملاء طبقة الإجماع لطلب حمولات التنفيذ من عملاء طبقة التنفيذ. كما هو موضح في [مواصفات المدقق النزيه](https://github.com/ethereum/consensus-specs/blob/dev/specs/bellatrix/validator.md)، يطلب المدققون المختارون لمهام اقتراح الكتل حزمة معاملات من عميل تنفيذ متصل، والتي يدرجونها في كتلة سلسلة المنارة المقترحة.

تعمل واجهة برمجة التطبيقات Builder أيضًا بمثابة برنامج وسيط بين المحققين وعملاء طبقة التنفيذ؛ ولكنها مختلفة لأنها تسمح للمحققين على Beacon Chain بالحصول على كتل من كيانات خارجية (بدلاً من بناء كتلة محليًا باستخدام عميل التنفيذ).

فيما يلي نظرة عامة حول كيفية عمل واجهة برمجة التطبيقات Builder:

1. تقوم واجهة برمجة التطبيقات Builder بربط المحقق بشبكة من منشئي الكتل الذين يقومون بتشغيل عملاء طبقة التنفيذ. كما هو الحال في PBS، فإن البناة هم أطراف متخصصة تستثمر في بناء الكتل التي تتطلب موارد مكثفة وتستخدم استراتيجيات مختلفة لتعظيم الإيرادات المكتسبة من MEV + النصائح ذات الأولوية.

2. يطلب المحقق (الذي يقوم بتشغيل عميل طبقة الإجماع) حمولات التنفيذ جنبًا إلى جنب مع العطاءات من شبكة المنشئين. ستحتوي العطاءات المقدمة من المطورين على رأس حمولة التنفيذ - وهو التزام تشفيري بمحتويات الحمولة - ورسوم يجب دفعها للمحقق.

3. يقوم المحقق بمراجعة العطاءات الواردة ويختار حمولة التنفيذ ذات أعلى رسوم. باستخدام واجهة برمجة التطبيقات Builder، يقوم المحقق بإنشاء اقتراح كتلة Beacon "مخفي" يتضمن فقط توقيعه ورأس الحمولة التنفيذية ويرسله إلى المنشئ.

4. من المتوقع أن يستجيب المنشئ الذي يقوم بتشغيل واجهة برمجة التطبيقات الخاصة بالمنشئ بالحمولة التنفيذية الكاملة عند رؤية اقتراح الكتلة العمياء. يتيح هذا للمحقق إنشاء كتلة Beacon "موقعة"، والتي يقوم بنشرها في جميع أنحاء الشبكة.

5. لا يزال من المتوقع أن يقوم المحقق الذي يستخدم واجهة برمجة التطبيقات Builder ببناء كتلة محليًا في حالة فشل منشئ الكتلة في الاستجابة بسرعة، حتى لا يفوت مكافآت اقتراح الكتلة. ومع ذلك، لا يمكن للمدقق إنشاء كتلة أخرى باستخدام إما المعاملات التي تم الكشف عنها الآن أو مجموعة أخرى، حيث إن ذلك سيصل إلى حد _المراوغة_ (توقيع كتلتين في نفس الفتحة)، وهي مخالفة تستوجب الخفض.

أحد أمثلة تنفيذ واجهة برمجة تطبيقات الباني هو [MEV Boost](https://github.com/flashbots/mev-boost)، وهو تحسين لـ[آلية مزاد Flashbots](https://docs.flashbots.net/Flashbots-auction/overview) المصممة للحد من التأثيرات الخارجية السلبية لـ MEV على إيثريوم. يسمح مزاد Flashbots للمدققين في إثبات الحصة بالاستعانة بأطراف متخصصة تسمى **الباحثين** للقيام ببناء الكتل المربحة.
![رسم بياني يوضح تدفق MEV بالتفصيل](./mev.png)

يبحث الباحثون عن فرص MEV مربحة ويرسلون حزم المعاملات إلى مقترحي الكتل مع [عرض سعر مختوم](https://en.wikipedia.org/wiki/First-price_sealed-bid_auction) لإدراجها في الكتلة. يتعين على المحقق الذي يقوم بتشغيل mev-geth، وهو نسخة متشعبة من عميل go-ethereum (Geth)، فقط اختيار الحزمة ذات أكبر ربح وتضمينها كجزء من الكتلة الجديدة. لحماية مقترحي الكتل (المدققين) من الرسائل غير المرغوب فيها والمعاملات غير الصالحة، تمر حزم المعاملات عبر **المرحّلين** للتحقق من صحتها قبل وصولها إلى المقترح.

يحتفظ MEV Boost بنفس آلية عمل مزاد Flashbots الأصلي، وإن كان مع ميزات جديدة مصممة لتحول Ethereum إلى إثبات الحصة. لا يزال الباحثون يجدون معاملات MEV مربحة لإدراجها في الكتل، ولكن فئة جديدة من الأطراف المتخصصة، تسمى **البناة**، مسؤولة عن تجميع المعاملات والحزم في كتل. يقبل أحد المنشئين عروض الأسعار المختومة من الباحثين ويقوم بإجراء عمليات تحسين للعثور على الطلب الأكثر ربحية.

لا يزال المرسل مسؤولاً عن التحقق من صحة حزم المعاملات قبل تمريرها إلى المقترح. ومع ذلك، يقدم MEV Boost **جهات ضمان** مسؤولة عن توفير [توفر البيانات](/developers/docs/data-availability/) عن طريق تخزين أجسام الكتل المرسلة من البناة وترويسات الكتل المرسلة من المدققين. هنا، يطلب المحقق المتصل بمرحل حمولات التنفيذ المتاحة ويستخدم خوارزمية ترتيب MEV Boost لتحديد رأس الحمولة بأعلى عرض سعر + نصائح MEV.

#### كيف تعمل واجهة برمجة التطبيقات Builder على التخفيف من تأثير MEV؟ {#how-does-builder-api-curb-mev-impact}

الفائدة الأساسية لـ Builder API هي قدرتها على إضفاء الطابع الديمقراطي على الوصول إلى فرص MEV. يؤدي استخدام مخططات الكشف عن الالتزام إلى إزالة افتراضات الثقة وتقليل حواجز الدخول للمحققين الذين يسعون إلى الاستفادة من MEV. يجب أن يؤدي هذا إلى تقليل الضغط على المشاركين الفرديين للتكامل مع مجموعات المشاركة الكبيرة من أجل تعزيز أرباح MEV.

سيؤدي التنفيذ الواسع النطاق لواجهة برمجة التطبيقات Builder إلى تشجيع المنافسة بشكل أكبر بين منشئي الكتل، مما يؤدي إلى زيادة مقاومة الرقابة. عندما يقوم المحققون بمراجعة العطاءات من العديد من المنشئين، يجب على المنشئ الذي يعتزم فرض رقابة على معاملة مستخدم واحدة أو أكثر أن يتفوق في المزايدة على جميع المنشئين الآخرين غير الخاضعين للرقابة ليكون ناجحًا. ويؤدي هذا إلى زيادة كبيرة في تكلفة الرقابة على المستخدمين ويثبط هذه الممارسة.

تستخدم بعض المشاريع، مثل MEV Boost، واجهة برمجة التطبيقات Builder كجزء من هيكل شامل مصمم لتوفير خصوصية المعاملات لأطراف معينة، مثل التجار الذين يحاولون تجنب هجمات التشغيل المسبق/الحصار. ويتم تحقيق ذلك من خلال توفير قناة اتصال خاصة بين المستخدمين ومنشئي الكتل. على عكس مجموعات الذاكرة المسموح بها والتي تم وصفها سابقًا، فإن هذا النهج مفيد للأسباب التالية:

1. إن وجود العديد من المطورين في السوق يجعل الرقابة غير عملية، وهو ما يعود بالنفع على المستخدمين. وعلى النقيض من ذلك، فإن وجود تجمعات مظلمة مركزية قائمة على الثقة من شأنه أن يركز السلطة في أيدي عدد قليل من بناة الكتل ويزيد من إمكانية الرقابة.

2. يعد برنامج Builder API مفتوح المصدر، مما يسمح لأي شخص بتقديم خدمات إنشاء الكتل. يعني هذا أن المستخدمين ليسوا مجبرين على استخدام أي منشئ كتل معين ويحسن حيادية الإيثريوم وعدم الحاجة إلى الأذونات. علاوة على ذلك، لن يساهم التجار الباحثون عن MEV عن غير قصد في المركزية من خلال استخدام قنوات المعاملات الخاصة.

## الموارد ذات الصلة {#related-resources}

- [مستندات Flashbots](https://docs.flashbots.net/)
- [Flashbots على GitHub](https://github.com/flashbots/pm)
- [mevboost.org](https://www.mevboost.org/) - _متعقب بإحصائيات في الوقت الفعلي لمرحّلات MEV-Boost وبناة الكتل_

## قراءة إضافية{#further-reading}

- [ما هي القيمة القابلة للاستخراج بواسطة عامل التعدين (MEV)؟](https://blog.chain.link/what-is-miner-extractable-value-mev/)
- [MEV وأنا](https://www.paradigm.xyz/2021/02/mev-and-me)
- [إيثريوم غابة مظلمة](https://www.paradigm.xyz/2020/08/ethereum-is-a-dark-forest/)
- [الهروب من الغابة المظلمة](https://samczsun.com/escaping-the-dark-forest/)
- [Flashbots: استباق أزمة MEV](https://medium.com/flashbots/frontrunning-the-mev-crisis-40629a613752)
- [سلاسل تغريدات MEV الخاصة بـ @bertcmiller](https://twitter.com/bertcmiller/status/1402665992422047747)
- [MEV-Boost: بنية Flashbots جاهزة للدمج](https://ethresear.ch/t/mev-boost-merge-ready-flashbots-architecture/11177)
- [ما هو MEV Boost](https://www.alchemy.com/overviews/mev-boost)
- [لماذا تشغّل mev-boost؟](https://writings.flashbots.net/writings/why-run-mevboost/)
- [دليل المسافر إلى إيثريوم](https://members.delphidigital.io/reports/the-hitchhikers-guide-to-ethereum)
