---
title: "تشغيل عقدة إيثريوم على Raspeberry Pi 4"
description: "قم بعمل Flash لجهاز Raspberry Pi 4، وقم بتوصيل كابل إيثرنت، وقم بتوصيل قرص SSD وشغّل الجهاز لتحويل Raspberry Pi 4 إلى عقدة إيثريوم كاملة + برنامج مدقق"
author: "EthereumOnArm"
tags: [ "العملاء", "طبقة التنفيذ", "طبقة الإجماع", "العُقَد" ]
lang: ar
skill: intermediate
published: 2022-06-10
source: Ethereum on ARM
sourceUrl: https://ethereum-on-arm-documentation.readthedocs.io/en/latest/
---

**Ethereum on Arm هي صورة Linux مخصصة يمكنها تحويل جهاز Raspberry Pi إلى عقدة إيثريوم.**

لاستخدام Ethereum on Arm لتحويل جهاز Raspberry Pi إلى عقدة إيثريوم، يوصى باستخدام الأجهزة التالية:

- لوحة Raspberry 4 (طراز B سعة 8 جيجابايت)، أو Odroid M1 أو Rock 5B (ذاكرة وصول عشوائي سعة 8 جيجابايت/16 جيجابايت)
- بطاقة MicroSD (16 جيجابايت الفئة 10 كحد أدنى)
- قرص SSD بسعة 2 تيرابايت كحد أدنى USB 3.0 أو قرص SSD مع حافظة USB إلى SATA.
- مصدر طاقة
- كابل إيثرنت
- إعادة توجيه المنفذ (انظر العملاء لمزيد من المعلومات)
- حافظة مع مبدد حراري ومروحة
- لوحة مفاتيح USB وشاشة وكابل HDMI (micro-HDMI) (اختياري)

## لماذا يجب تشغيل إيثريوم على ARM؟ {#why-run-ethereum-on-arm}

تعد لوحات ARM أجهزة كمبيوتر صغيرة ومرنة وبأسعار معقولة جدًا. إنها خيارات جيدة لتشغيل عُقَد إيثريوم لأنه يمكن شراؤها بثمن بخس، وتهيئتها بحيث تركز جميع مواردها على العقدة فقط، مما يجعلها فعالة، وتستهلك كميات منخفضة من الطاقة وهي صغيرة الحجم فعليًا بحيث يمكن وضعها بشكل غير مزعج في أي منزل. من السهل جدًا أيضًا تشغيل العُقد لأن بطاقة MicroSD الخاصة بجهاز Raspberry Pi يمكن ببساطة عمل Flash لها بصورة مُعدة مسبقًا، دون الحاجة إلى تنزيل أو بناء أي برنامج.

## How does it work؟ {#how-does-it-work}

يتم عمل Flash لبطاقة ذاكرة Raspberry Pi بصورة مُعدة مسبقًا. تحتوي هذه الصورة على كل ما هو مطلوب لتشغيل عقدة إيثريوم. باستخدام بطاقة تم عمل Flash لها، كل ما يحتاج المستخدم إلى القيام به هو تشغيل جهاز Raspberry Pi. تبدأ جميع العمليات المطلوبة لتشغيل العقدة تلقائيًا. يعمل هذا لأن بطاقة الذاكرة تحتوي على نظام تشغيل (OS) قائم على Linux يتم فوقه تشغيل عمليات على مستوى النظام تلقائيًا والتي تحول الوحدة إلى عقدة إيثريوم.

لا يمكن تشغيل إيثريوم باستخدام نظام تشغيل Linux الشهير لـ Raspberry Pi المسمى \"Raspbian\" لأن Raspbian لا يزال يستخدم بنية 32 بت مما يؤدي إلى مواجهة مستخدمي إيثريوم لمشكلات في الذاكرة، ولا يدعم عملاء الإجماع ثنائيات 32 بت. للتغلب على هذا، انتقل فريق Ethereum on Arm إلى نظام تشغيل أصلي 64 بت يسمى \"Armbian\".

**تتكفل الصور بكل الخطوات الضرورية**، من إعداد البيئة وتهيئة قرص SSD إلى تثبيت وتشغيل برنامج إيثريوم بالإضافة إلى بدء مزامنة البلوكتشين.

## ملاحظة حول عملاء التنفيذ والإجماع {#note-on-execution-and-consensus-clients}

تتضمن صورة Ethereum on Arm عملاء تنفيذ وإجماع مُعدين مسبقًا كخدمات. تتطلب عقدة إيثريوم أن يكون كلا العميلين متزامنين ويعملان. أنت مطالب فقط بتنزيل الصورة وعمل Flash لها ثم بدء الخدمات. الصورة محملة مسبقًا بعملاء التنفيذ التاليين:

- جيث
- نورماندي
- يبوس

وعملاء الإجماع التاليين:

- Lighthouse
- Nimbus
- Prysm
- Teku

يجب عليك اختيار واحد من كل نوع لتشغيله - جميع عملاء التنفيذ متوافقون مع جميع عملاء الإجماع. إذا لم تحدد عميلاً بشكل صريح، فستعود العقدة إلى إعداداتها الافتراضية - Geth وLighthouse - وتقوم بتشغيلهما تلقائيًا عند تشغيل اللوحة. يجب عليك فتح المنفذ 30303 على جهاز التوجيه الخاص بك حتى يتمكن Geth من العثور على الأقران والاتصال بهم.

## تنزيل الصورة {#downloading-the-image}

صورة إيثريوم لـ Raspberry Pi 4 هي صورة \"التوصيل والتشغيل\" التي تقوم بتثبيت وإعداد كل من عملاء التنفيذ والإجماع تلقائيًا، وتهيئتهم للتحدث مع بعضهم البعض والاتصال بشبكة إيثريوم. كل ما يحتاج المستخدم إلى القيام به هو بدء عملياتهم باستخدام أمر بسيط.

قم بتنزيل صورة Raspberry Pi من [Ethereum on Arm](https://ethereumonarm-my.sharepoint.com/:u:/p/dlosada/Ec_VmUvr80VFjf3RYSU-NzkBmj2JOteDECj8Bibde929Gw?download=1) وتحقق من تجزئة (هاش) SHA256:

```sh
# من الدليل الذي يحتوي على الصورة التي تم تنزيلها
shasum -a 256 ethonarm_22.04.00.img.zip
# يجب أن يكون مخرج التجزئة (الهاش): fb497e8f8a7388b62d6e1efbc406b9558bee7ef46ec7e53083630029c117444f
```

لاحظ أن الصور الخاصة بلوحات Rock 5B و Odroid M1 متاحة في [صفحة التنزيلات](https://ethereum-on-arm-documentation.readthedocs.io/en/latest/quick-guide/download-and-install.html) الخاصة بـ Ethereum-on-Arm.

## عمل Flash لبطاقة MicroSD {#flashing-the-microsd}

يجب أولاً إدخال بطاقة MicroSD التي سيتم استخدامها في Raspberry Pi في كمبيوتر مكتبي أو كمبيوتر محمول حتى يمكن عمل Flash لها. بعد ذلك، ستقوم أوامر الوحدة الطرفية التالية بعمل Flash للصورة التي تم تنزيلها على بطاقة SD:

```shell
# تحقق من اسم بطاقة MicroSD
sudo fdisk -l

>> sdxxx
```

من المهم حقًا الحصول على الاسم الصحيح لأن الأمر التالي يتضمن `dd` الذي يمحو تمامًا المحتوى الحالي للبطاقة قبل دفع الصورة إليها. للمتابعة، انتقل إلى الدليل الذي يحتوي على الصورة المضغوطة:

```shell
# فك ضغط الصورة وعمل Flash لها
unzip ethonarm_22.04.00.img.zip
sudo dd bs=1M if=ethonarm_22.04.00.img of=/dev/<sdxx> conv=fdatasync status=progress
```

تم الآن عمل Flash للبطاقة، لذا يمكن إدخالها في جهاز Raspberry Pi.

## بدء تشغيل العقدة {#start-the-node}

مع إدخال بطاقة SD في Raspberry Pi، قم بتوصيل كابل إيثرنت وقرص SSD ثم قم بتشغيل الطاقة. سيتم تشغيل نظام التشغيل وسيبدأ تلقائيًا في أداء المهام المكونة مسبقًا التي تحول Raspberry Pi إلى عقدة إيثريوم، بما في ذلك تثبيت وبناء برنامج العميل. من المحتمل أن يستغرق هذا من 10 إلى 15 دقيقة.

بمجرد تثبيت كل شيء وتهيئته، قم بتسجيل الدخول إلى الجهاز عبر اتصال ssh أو باستخدام الوحدة الطرفية مباشرة إذا كانت الشاشة ولوحة المفاتيح متصلتين باللوحة. استخدم حساب `ethereum` لتسجيل الدخول، حيث أن هذا الحساب لديه الأذونات المطلوبة لبدء العقدة.

```shell
المستخدم: ethereum
كلمة المرور: ethereum
```

سيبدأ عميل التنفيذ الافتراضي، Geth، تلقائيًا. يمكنك تأكيد ذلك عن طريق التحقق من السجلات باستخدام أمر الوحدة الطرفية التالي:

```sh
sudo journalctl -u geth -f
```

يجب بدء عميل الإجماع بشكل صريح. للقيام بذلك، افتح أولاً المنفذ 9000 على جهاز التوجيه الخاص بك حتى يتمكن Lighthouse من العثور على الأقران والاتصال بهم. ثم قم بتمكين وبدء خدمة lighthouse:

```sh
sudo systemctl enable lighthouse-beacon
sudo systemctl start lighthouse-beacon
```

تحقق من العميل باستخدام السجلات:

```sh
sudo journalctl -u lighthouse-beacon
```

لاحظ أن عميل الإجماع سيتزامن في بضع دقائق لأنه يستخدم مزامنة نقطة التحقق. سيستغرق عميل التنفيذ وقتًا أطول - ربما عدة ساعات، ولن يبدأ حتى ينتهي عميل الإجماع بالفعل من المزامنة (هذا لأن عميل التنفيذ يحتاج إلى هدف للمزامنة معه، والذي يوفره عميل الإجماع المتزامن).

مع تشغيل خدمات Geth وLighthouse ومزامنتها، أصبح جهاز Raspberry Pi الخاص بك الآن عقدة إيثريوم! الأكثر شيوعًا هو التفاعل مع شبكة إيثريوم باستخدام وحدة تحكم Javascript الخاصة بـ Geth، والتي يمكن إرفاقها بعميل Geth على المنفذ 8545. من الممكن أيضًا إرسال أوامر منسقة ككائنات JSON باستخدام أداة طلب مثل Curl. شاهد المزيد في [توثيق Geth](https://geth.ethereum.org/).

تم تكوين Geth مسبقًا للإبلاغ عن المقاييس إلى لوحة تحكم Grafana والتي يمكن عرضها في المتصفح. قد يرغب المستخدمون الأكثر تقدمًا في استخدام هذه الميزة لمراقبة سلامة عقدهم عن طريق الانتقال إلى `ipaddress:3000`، وتمرير `user: admin` و `passwd: ethereum`.

## المدققون {#validators}

يمكن أيضًا إضافة برنامج مدقق اختياريًا إلى عميل الإجماع. يسمح برنامج المدقق لعقدتك بالمشاركة بنشاط في الإجماع ويوفر للشبكة أمانًا اقتصاديًا مشفرًا. تحصل على مكافأة مقابل هذا العمل بعملة ETH. لتشغيل برنامج مدقق، يجب أن يكون لديك أولاً 32 ETH، والتي يجب إيداعها في عقد الإيداع. يمكن إجراء الإيداع باتباع الدليل المفصل خطوة بخطوة على [منصة التشغيل](https://launchpad.ethereum.org/). قم بذلك على جهاز كمبيوتر مكتبي/محمول، ولكن لا تقم بإنشاء مفاتيح — يمكن القيام بذلك مباشرة على Raspberry Pi.

افتح وحدة طرفية على Raspberry Pi وقم بتشغيل الأمر التالي لإنشاء مفاتيح الإيداع:

```
sudo apt-get update
sudo apt-get install staking-deposit-cli
cd && deposit new-mnemonic --num_validators 1
```

(أو قم بتنزيل [staking-deposit-cli](https://github.com/ethereum/staking-deposit-cli) لتشغيله على جهاز معزول عن الشبكة، وقم بتشغيل أمر `deposit new-mnemnonic`)

حافظ على العبارة التذكيرية آمنة! لقد أنشأ الأمر أعلاه ملفين في ملف مخزن المفاتيح الخاص بالعقدة: مفاتيح المدقق وملف بيانات الإيداع. يجب تحميل بيانات الإيداع في منصة التشغيل، لذلك يجب نسخها من Raspberry Pi إلى الكمبيوتر المكتبي/المحمول. يمكن القيام بذلك باستخدام اتصال ssh أو أي طريقة أخرى للنسخ واللصق.

بمجرد توفر ملف بيانات الإيداع على الكمبيوتر الذي يقوم بتشغيل منصة التشغيل، يمكن سحبه وإفلاته على علامة `+` في شاشة منصة التشغيل. اتبع التعليمات التي تظهر على الشاشة لإرسال معاملة إلى عقد الإيداع.

بالعودة إلى Raspberry Pi، يمكن بدء تشغيل برنامج مدقق. يتطلب ذلك استيراد مفاتيح المدقق، وتعيين العنوان لجمع المكافآت، ثم بدء عملية المدقق المكونة مسبقًا. المثال أدناه خاص بـ Lighthouse—تتوفر تعليمات لعملاء الإجماع الآخرين في [مستندات Ethereum on Arm](https://ethereum-on-arm-documentation.readthedocs.io/en/latest/):

```shell
# استيراد مفاتيح المدقق
lighthouse account validator import --directory=/home/ethereum/validator_keys

# تعيين عنوان المكافأة
sudo sed -i 's/<ETH_ADDRESS>' /etc/ethereum/lighthouse-validator.conf

# بدء تشغيل المدقق
sudo systemctl start lighthouse-validator
```

تهانينا، لديك الآن عقدة إيثريوم كاملة ومدقق يعملان على Raspberry Pi!

## مزيد من التفاصيل {#more-details}

قدمت هذه الصفحة نظرة عامة حول كيفية إعداد عقدة ومدقق Geth-Lighthouse باستخدام Raspberry Pi. تتوفر تعليمات أكثر تفصيلاً على [موقع Ethereum-on-Arm](https://ethereum-on-arm-documentation.readthedocs.io/en/latest/index.html).

## نُقدر ملاحظاتكم {#feedback-appreciated}

نحن نعلم أن Raspberry Pi لديه قاعدة مستخدمين ضخمة يمكن أن يكون لها تأثير إيجابي للغاية على صحة شبكة إيثريوم.
يرجى التعمق في التفاصيل في هذا البرنامج التعليمي، وجرب التشغيل على شبكات الاختبار، وتحقق من GitHub الخاص بـ Ethereum on Arm، وقدم ملاحظاتك، واطرح المشكلات وطلبات السحب وساعد في تطوير التكنولوجيا والتوثيق!

## المراجع {#references}

1. https://ubuntu.com/download/raspberry-pi
2. https://wikipedia.org/wiki/Port_forwarding
3. https://prometheus.io
4. https://grafana.com
5. https://forum.armbian.com/topic/5565-zram-vs-swap/
6. https://geth.ethereum.org
7. https://nethermind.io
8. https://www.hyperledger.org/projects/besu
9. https://github.com/prysmaticlabs/prysm
10. https://lighthouse.sigmaprime.io
11. https://ethersphere.github.io/swarm-home
12. https://raiden.network
13. https://ipfs.io
14. https://status.im
15. https://vipnode.org
