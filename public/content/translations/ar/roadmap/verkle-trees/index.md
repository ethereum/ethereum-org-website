---
title: "أشجار فيركل"
description: "وصف عالي المستوى لأشجار Verkle وكيف سيتم استخدامها لترقية Ethereum"
lang: ar
summaryPoints:
  - اكتشف ما هي أشجار فيركلي
  - اقرأ لماذا تعتبر Verkle Trees ترقية مفيدة لـ Ethereum
---

# أشجار Verkle {#verkle-trees}

أشجار Verkle (مجموعة من "التزام المتجهات" و"أشجار Merkle") هي بنية بيانات يمكن استخدامها لترقية عقد Ethereum حتى تتمكن من التوقف عن تخزين كميات كبيرة من بيانات الحالة دون فقدان القدرة على التحقق من صحة الكتل.

## انعدام الحالة {#statelessness}

تعد أشجار Verkle خطوة حاسمة على الطريق إلى عملاء Ethereum عديمي الجنسية. العملاء عديمي الجنسية هم العملاء الذين لا يتعين عليهم تخزين قاعدة بيانات الحالة بأكملها للتحقق من صحة الكتل الواردة. بدلاً من استخدام نسختهم المحلية من حالة Ethereum للتحقق من الكتل، يستخدم العملاء عديمي الجنسية "شاهدًا" على بيانات الحالة التي تصل مع الكتلة. الشاهد عبارة عن مجموعة من الأجزاء الفردية من بيانات الحالة المطلوبة لتنفيذ مجموعة معينة من المعاملات، ودليل مشفر على أن الشاهد هو بالفعل جزء من البيانات الكاملة. يُستخدم الشاهد _بدلاً من_ قاعدة بيانات الحالة. لكي ينجح هذا، يجب أن يكون الشهود صغيرين جدًا، بحيث يمكن بثهم بأمان عبر الشبكة في الوقت المناسب حتى يتمكن المدققون من معالجتهم خلال فترة 12 ثانية. بنية بيانات الحالة الحالية غير مناسبة لأن عدد الشهود كبير جدًا. تحل أشجار Verkle هذه المشكلة من خلال تمكين الشهود الصغار، وإزالة أحد العوائق الرئيسية أمام العملاء عديمي الجنسية.

<ExpandableCard title="لماذا نريد عملاءً عديمي الجنسية؟" eventCategory="/roadmap/verkle-trees" eventName="clicked why do we want stateless clients?">

يستخدم عملاء Ethereum حاليًا بنية بيانات تُعرف باسم Patricia Merkle Trie لتخزين بيانات الحالة الخاصة به. يتم تخزين المعلومات المتعلقة بالحسابات الفردية كأوراق على المحاولات ويتم تجزئة أزواج الأوراق بشكل متكرر حتى تبقى تجزئة واحدة فقط. يُعرف هذا التجزئة النهائية باسم "الجذر". للتحقق من الكتل، يقوم عملاء Ethereum بتنفيذ جميع المعاملات في الكتلة وتحديث الحالة المحلية الخاصة بهم. تعتبر الكتلة صالحة إذا كان جذر الشجرة المحلية مطابقًا للجذر الذي قدمه مقدم الكتلة، لأن أي اختلافات في الحساب الذي يقوم به مقدم الكتلة وعقدة التحقق من الصحة قد تتسبب في اختلاف تجزئة الجذر تمامًا. تكمن المشكلة في ذلك في أن التحقق من blockchain يتطلب من كل عميل تخزين الحالة بأكملها للكتلة الرئيسية والعديد من الكتل التاريخية (الإعداد الافتراضي في Geth هو الاحتفاظ ببيانات الحالة لـ 128 كتلة خلف الرأس). وهذا يتطلب من العملاء الوصول إلى كمية كبيرة من مساحة القرص، وهو ما يمثل عائقًا أمام تشغيل العقد الكاملة على أجهزة رخيصة ومنخفضة الطاقة. الحل لذلك هو تحديث الحالة إلى بنية أكثر كفاءة (شجرة Verkle) يمكن تلخيصها باستخدام "شاهد" صغير للبيانات التي يمكن مشاركتها بدلاً من بيانات الحالة الكاملة. تعد إعادة تنسيق بيانات الحالة إلى شجرة Verkle بمثابة نقطة انطلاق للانتقال إلى العملاء عديمي الجنسية.
</ExpandableCard>

## ما هو الشاهد ولماذا نحتاجهم؟ {#what-is-a-witness}

التحقق من الكتلة يعني إعادة تنفيذ المعاملات الموجودة في الكتلة، وتطبيق التغييرات على حالة Ethereum، وحساب التجزئة الجذرية الجديدة. الكتلة التي تم التحقق منها هي تلك التي تكون تجزئة جذر حالتها المحسوبة هي نفس تلك المقدمة مع الكتلة (لأن هذا يعني أن مقدم الكتلة قام بالفعل بالحساب الذي يقول إنه قام به). في عملاء Ethereum اليوم، يتطلب تحديث الحالة الوصول إلى محاولة الحالة بأكملها، وهي بنية بيانات كبيرة يجب تخزينها محليًا. يحتوي الشاهد فقط على أجزاء من بيانات الحالة المطلوبة لتنفيذ المعاملات في الكتلة. يمكن للمدقق بعد ذلك استخدام هذه الأجزاء فقط للتحقق من أن مقدم الكتلة قد نفذ معاملات الكتلة وقام بتحديث الحالة بشكل صحيح. ومع ذلك، فإن هذا يعني أنه يجب نقل الشاهد بين النظراء على شبكة إيثريوم بسرعة كافية ليتم استقباله ومعالجته بواسطة كل عقدة بأمان خلال فترة 12 ثانية. إذا كان الشاهد كبيرًا جدًا، فقد يستغرق الأمر بعض العقد وقتًا طويلاً لتنزيله ومواكبة السلسلة. هذه قوة مركزية لأنها تعني أن العقد ذات اتصالات الإنترنت السريعة فقط هي التي يمكنها المشاركة في التحقق من صحة الكتل. مع أشجار Verkle، لا توجد حاجة لتخزين الحالة على محرك الأقراص الثابتة لديك؛ _كل_ ما تحتاجه للتحقق من أي كتلة موجود داخل الكتلة نفسها. ولسوء الحظ، فإن الشهود الذين يمكن إنتاجهم من محاولات ميركل أكبر من أن يدعموا العملاء عديمي الجنسية.

## لماذا تمكن أشجار Verkle الشهود الأصغر؟ {#why-do-verkle-trees-enable-smaller-witnesses}

هيكل Merkle Trie يجعل أحجام الشهود كبيرة جدًا - كبيرة جدًا بحيث لا يمكن البث بأمان بين أقرانهم خلال فترة 12 ثانية. وذلك لأن الشاهد عبارة عن مسار يربط البيانات، المحفوظة في الأوراق، بتجزئة الجذر. للتحقق من البيانات، من الضروري أن يكون لديك ليس فقط جميع التجزئات الوسيطة التي تربط كل ورقة بالجذر، ولكن أيضًا جميع العقد "الشقيقة". تحتوي كل عقدة في الدليل على شقيق يتم تجزئته معه لإنشاء التجزئة التالية في المحاولة. هذا كثير من البيانات. تعمل أشجار Verkle على تقليل حجم الشاهد عن طريق تقصير المسافة بين أوراق الشجرة وجذرها وكذلك إلغاء الحاجة إلى توفير العقد الشقيقة للتحقق من تجزئة الجذر. سيتم اكتساب المزيد من كفاءة المساحة باستخدام نظام التزام متعدد الحدود قوي بدلاً من التزام المتجهات بأسلوب التجزئة. يتيح التزام كثير الحدود للشاهد أن يكون له حجم ثابت بغض النظر عن عدد الأوراق التي يثبتها.

وبموجب نظام الالتزام متعدد الحدود، يكون للشهود أحجام يمكن التحكم فيها ويمكن نقلها بسهولة على شبكة نظير إلى نظير. يتيح ذلك للعملاء التحقق من تغييرات الحالة في كل كتلة باستخدام أقل قدر ممكن من البيانات.

<ExpandableCard title="كم بالتحديد يمكن لأشجار Verkle أن تقلل من حجم الشاهد؟" eventCategory="/roadmap/verkle-trees" eventName="clicked exactly how much can Verkle trees reduce witness size?">

ويختلف حجم الشاهد حسب عدد الأوراق التي يتضمنها. بافتراض أن الشاهد يغطي 1000 ورقة، سيكون حجم الشاهد لمحاولة Merkle حوالي 3.5 ميجابايت (بافتراض 7 مستويات للمحاولة). سيكون حجم الشاهد لنفس البيانات في شجرة Verkle (بافتراض وجود 4 مستويات للشجرة) حوالي 150 كيلو بايت - **أصغر بحوالي 23 مرة**. وهذا التخفيض في حجم الشهود سيسمح للشهود العملاء عديمي الجنسية بأن يكونوا صغارًا بشكل مقبول. شهود كثيرات الحدود هم 0.128 -1 كيلو بايت اعتمادًا على الالتزام المحدد متعدد الحدود المستخدم.
</ExpandableCard>

## ما هو هيكل شجرة فيركلي؟ {#what-is-the-structure-of-a-verkle-tree}

أشجار Verkle هي أزواج `(key,value)` حيث تكون المفاتيح عناصر بحجم 32 بايت تتكون من _جذع_ بحجم 31 بايت و_لاحقة_ بحجم بايت واحد. يتم تنظيم هذه المفاتيح في عُقد _تمديد_ وعُقد _داخلية_. تمثل عقد الامتداد ساقًا واحدًا لـ 256 طفلاً ذوي لواحق مختلفة. تحتوي العقد الداخلية أيضًا على 256 فرعًا، لكنها يمكن أن تكون عقدًا ملحقة أخرى. الفرق الرئيسي بين شجرة Verkle وبنية شجرة Merkle هو أن شجرة Verkle أكثر استواءً، مما يعني وجود عدد أقل من العقد الوسيطة التي تربط الورقة بالجذر، وبالتالي هناك بيانات أقل مطلوبة لإنشاء دليل.

![](./verkle.png)

[اقرأ المزيد عن بنية أشجار Verkle](https://blog.ethereum.org/2021/12/02/verkle-tree-structure)

## التقدم الحالي {#current-progress}

تم بالفعل تشغيل شبكات اختبار شجرة Verkle، ولكن لا تزال هناك تحديثات كبيرة معلقة للعملاء المطلوب منهم دعم أشجار Verkle. يمكنك المساعدة في تسريع التقدم من خلال نشر العقود على شبكات الاختبار أو تشغيل عملاء شبكة الاختبار.

[شاهد Guillaume Ballet وهو يشرح شبكة اختبار Condrieu Verkle](https://www.youtube.com/watch?v=cPLHFBeC0Vg) (لاحظ أن شبكة اختبار Condrieu كانت تعمل بإثبات العمل وقد تم استبدالها الآن بشبكة اختبار Verkle Gen Devnet 6).

## قراءة إضافية{#further-reading}

- [أشجار Verkle لعدمية الحالة](https://verkle.info/)
- [شرح Dankrad Feist لأشجار Verkle على PEEPanEIP](https://www.youtube.com/watch?v=RGJOQHzg3UQ)
- [أشجار Verkle لغير المتخصصين](https://web.archive.org/web/20250124132255/https://research.2077.xyz/verkle-trees)
- [تشريح إثبات Verkle](https://ihagopian.com/posts/anatomy-of-a-verkle-proof)
- [شرح Guillaume Ballet لأشجار Verkle في ETHGlobal](https://www.youtube.com/watch?v=f7bEtX3Z57o)
- ["كيف تجعل أشجار Verkle الإيثريوم أكثر كفاءة وقوة" بقلم Guillaume Ballet في مؤتمر Devcon 6](https://www.youtube.com/watch?v=Q7rStTKwuYs)
- [بايبر ميريام يتحدث عن العملاء عديمي الحالة من مؤتمر ETHDenver 2020](https://www.youtube.com/watch?v=0yiZJNciIJ4)
- [دانكراد فيست يشرح أشجار Verkle وعدمية الحالة في بودكاست المعرفة الصفرية (Zero Knowledge podcast)](https://zeroknowledge.fm/podcast/202/)
- [فيتاليك بوتيرين يتحدث عن أشجار Verkle](https://vitalik.eth.limo/general/2021/06/18/verkle.html)
- [دانكراد فيست يتحدث عن أشجار Verkle](https://dankradfeist.de/ethereum/2021/06/18/verkle-trie-for-eth1.html)
- [توثيق EIP الخاص بأشجار Verkle](https://notes.ethereum.org/@vbuterin/verkle_tree_eip#Illustration)
