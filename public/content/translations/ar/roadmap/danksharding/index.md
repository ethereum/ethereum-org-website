---
title: Danksharding
description: "تعلم عن برتو-اردينان و اردينان - تحديثان متتاليان لتوسيع باريوم."
lang: ar
summaryPoints:
  - Danksharding هو تحديث متعدد المراحل لتحسين قدرة إثيريوم و قابليته للتوسع.
  - المرحلة الأولى، بروتون، تضيف كتل بيانات إلى الكتل
  - توفر كتل البيانات وسيلة أرخص لخدمات التحسين لنشر البيانات على الإيثريوم ويمكن تمرير هذا الثمن للمستخدمين في شكل رسوم معاملات أقل.
  - لاحقًا، ستمتد تقنية دناك شاردينا الكاملة لتوزيع مسؤولية التحقق من كتل البيانات عبر مجموعات من العقد، مما يزيد من قدرة إيثيريوم على معالجة أكثر من 100,000 معاملة في الثانية.
---

# دانكشاردينج {#danksharding}

**دانكشاردينج** هو الطريقة التي يصبح بها إيثيريوم سلسلة كتل قابلة للتطوير حقًا، ولكن هناك العديد من ترقيات البروتوكول المطلوبة للوصول إلى هناك. **بروتو-دانكشاردينج** هو خطوة وسيطة على طول الطريق. يهدف كلاهما إلى جعل المعاملات على الطبقة 2 رخيصة قدر الإمكان للمستخدمين، وينبغي أن يوسِّع نطاق إيثيريوم إلى >100,000 معاملة في الثانية.

## ما هو برتو-اردينان؟ {#what-is-protodanksharding}

بروتو-دانكشاردينج، المعروف أيضًا باسم [EIP-4844](https://eips.ethereum.org/EIPS/eip-4844)، هو طريقة للـ [رول أب](/layer-2/#rollups) لإضافة بيانات أرخص إلى الكتل. الاسم يأتي من الباحثين الذين اقترحا الفكرة: بروتوكولا ودان كراد قيست. تاريخيًا، كانت قدرة الرول أب على جعل معاملات المستخدمين رخيصة محدودة بحقيقة أنها تنشر معاملاتها في `CALLDATA`.

هذا مكلف لأنه يتم معالجته بواسطة جميع عقد الإيثيريوم ويعيش على السلسلة إلى الأبد، على الرغم من أن التجميعات تحتاج فقط إلى البيانات لفترة قصيرة. أدخلت بروتوكولات اردينان كتل بيانات يمكن إرسالها وإلحاقها بالكتل. البيانات في هذه الكتل غير قابلة للوصول إلى EVM ويتم حذفها تلقائيًا بعد فترة زمنية محددة (محددة بـ 4096 حقبة في وقت الكتابة، أو حوالي 18 يومًا). هذا يعني أن الارتفاعات يمكن أن ترسل بياناتها بتكلفة أقل بكثير وتمرر المدخرات إلى المستخدمين النهائيين على شكل معاملات أرخص.

<ExpandableCard title="لماذا تجعل كتل البيانات الرول أب أرخص؟" eventCategory="/roadmap/danksharding" eventName="clicked why do blocks make rollups cheaper?">

عدّ الرويس وسيلة لتوسيع نطاق إيثريوم من خلال تجميع المعاملات خارج السلسلة ثم نشر النتائج على إيثريوم. يتكون التكبير أساسًا من جزأين: البيانات والتحقق من التنفيذ. البيانات هي التسلسل الكامل للمعاملات التي تتم معالجتها بواسطة ورلات لإنتاج تغيير الحالة التي يتم نشره على شبكة يثرو. التحقق من التنفيذ هو إعادة تنفيذ تلك المعاملات بواسطة بعض الأفراد الصادقين ("المدعين") لضمان أن تغيير الحالة المقترح صحيح. لإجراء تحقق من التنفيذ، يجب أن تكون بيانات المعاملة متاحة لفترة كافية لتتيح لأي شخص تنزيلها والتحقق منها. هذا يعني أنه يمكن تحديد أي سلوك غير نزيه من قبل مُتتابِع التجميع ومحاكمته من قبل المُثبِت. ومع ذلك، لا يحتاج أن يكون متاحًا للأبد.
</ExpandableCard>

<ExpandableCard title="لماذا لا بأس من حذف بيانات الكتل؟" eventCategory="/roadmap/danksharding" eventName="clicked why is it OK to delete the blob data?">

تقوم الروون أبُّ بنشر الالتزامات المتعلقة ببيانات معاملاتها على السلسلة، وتوفر أيضًا البيانات الفعلية في كتل البيانات. هذا يعني أن المبرهنون يمكنهم التحقق من أن الالتزامات صحيحة أو تحدي البيانات التي يعتقدون أنها خاطئة. على مستوى العقدة، يتم الاحتفاظ بكتل البيانات في عميل الإجماع. تؤكد عملاء الإجماع أنهم قد رأوا البيانات وأنها تم نشرها حول الشبكة. إذا تم الاحتفاظ بالبيانات إلى الأبد، فإن هؤلاء العملاء سيتضخمون وسيؤدي ذلك إلى متطلبات عتادية كبيرة لتشغيل العقد. بدلاً من ذلك، يتم تلقائيًا تقليم البيانات من العقدة كل 18 يومًا. تظهر شهادات عملاء التوافق أنه كانت هناك فرصة كافية للمثبتين للتحقق من البيانات. يمكن تخزين البيانات الفعلية خارج السلسلة بواسطة مشغلي الإدراج أو المستخدمين أو غيرهم.
</ExpandableCard>

### كيف يتم التحقق من بيانات ؟ {#how-are-blobs-verified}

تقوم التجميعات بنشر المعاملات التي تنفذها في كتل بيانات. هم أيضًا ينشرون "التزامًا" بالبيانات. يفعلون ذلك عن طريق تركيب دالة متعددة الحدود على البيانات. يمكن بعد ذلك تقييم هذه الوظيفة عند نقاط مختلفة. على سبيل المثال، إذا قمنا بتعريف دالة بسيطة للغاية `f(x) = 2x-1`، فيمكننا تقييم هذه الدالة لـ `x = 1`، و`x = 2`، و`x = 3` مما يعطي النتائج `1, 3, 5`. يطبق المُثبت نفس الوظيفة على البيانات ويُقيمها عند نفس النقاط. إذا تم تغيير البيانات الأصلية، فلن تكون الوظيفة متطابقة، وبالتالي لن تكون القيم المقدرة عند كل نقطة. في الواقع، الالتزام والدليل أكثر تعقيدًا لأنه يتم تغليفهم في دوال تشفير.

### ما هو KZG؟ {#what-is-kzg}

KZG هو اختصار لـ Kate-Zaverucha-Goldberg - أسماء [المؤلفين الأصليين](https://link.springer.com/chapter/10.1007/978-3-642-17373-8_11) الثلاثة لمخطط يختزل بلوب بيانات وصولًا إلى ["التزام" تشفيري](https://dankradfeist.de/ethereum/2020/06/16/kate-polynomial-commitments.html) صغير. يجب التحقق من مجموعة البيانات المقدمة من قبل التكديس لضمان عدم تصرف التكديس بشكل غير صحيح. يتضمن ذلك أن يقوم المثبت بإعادة تنفيذ المعاملات في الفقاعة للتحقق من أن الالتزام كان صحيحًا. هذا مفهومياً مشابه للطريقة التي تتحقق بها عملاء التنفيذ من صحة معاملات إيثريوم على المستوى 1 باستخدام إثباتات يركل. KZG هو إثبات بديل يتناسب مع معادلة عديدة الحدود مع البيانات. الالتزام يقوم بتقييم كثيرات الحدود عند بعض نقاط البيانات السرية. سيقوم المصدق بتطبيق نفس كثيرة الحدود على البيانات وتقييمها عند نفس القيم، مع التحقق من أن الناتج هو نفسه. هذه وسيلة للتحقق من البيانات المتوافقة مع تقنيات عدم المعرفة المستخدمة من قبل بعض الروبوتات وأخيراً أجزاء أخرى من بروتوكول إيثيريوم.

### ما هي مراسم KZG؟ {#what-is-a-kzg-ceremony}

كانت مراسم KZG وسيلة للعديد من الأشخاص من مجتمع إيثريوم لتوليد سلسلة عشوائية سرية من الأرقام بشكل جماعي يمكن استخدامها للتحقق من بعض البيانات. من المهم جداً ألا تكون هذه السلسلة من الأرقام معروفة ولا يمكن إعادة إنشائها من قبل أي شخص. لضمان ذلك، تلقى كل شخص شارك في الحفل خيطًا من المشارك السابق. بعد ذلك، أنشؤوا بعض القيم العشوائية الجديدة (على سبيل المثال، عن طريق السماح لمتصفحهم بقياس حركة الفأرة) ومزجوها مع القيمة السابقة. ثم أرسلوا القيمة إلى المشارك التالي ودمروا النسخة الموجودة على جهازهم المحلي. مادام أن شخصًا واحدًا في المراسم ذلك بصدق، فإن القيمة النهائية ستكون غير معروفة للـمهاجم.

كانت مراسم KZG الخاصة بـ EIP-4844 مفتوحة للجمهور وشارك فيها عشرات الآلاف من الأشخاص لإضافة تعشواهم (الخاصة). بلغ مجموع المساهمات أكثر من 140,000، مما جعلها أكبر احتفال من نوعه في العالم. لكي يتم تقويض الحفل، يجب أن يكون 100% من المشاركين غير صادقين بنشاط. من منظور المشاركين، إذا كانوا يعلمون أنهم كانوا صادقين، فلا حاجة للثقة بأي شخص آخر لأنهم يعلمون أنهم ضمنوا نجاح المراسم 1 (حيث وفوا كل واحد منهم بمتطلبات الصدق).

<ExpandableCard title="فيمَ يُستخدم العدد العشوائي من مراسم KZG؟" eventCategory="/roadmap/danksharding" eventName="clicked why is the random number from the KZG ceremony used for?">

عندما يقوم اللف بتسجيل البيانات في وحدة تخزين، فإنهم يقدمون "التزامًا" نشره على السلسلة. هذا الالتزام هو نتيجة تقييم تركيب كثيرات الحدود للبيانات عند نقاط معينة. تُعرف هذه النقاط بالأرقام العشوائية التي تم إنشاؤها في مراسم KZG. يمكن للمثبتين بعد ذلك تقييم كثيرة الحدود في نفس النقاط للتحقق من البيانات - إذا وصلوا إلى نفس القيم، فإن البيانات صحيحة.
</ExpandableCard>

<ExpandableCard title="لماذا يجب أن تبقى بيانات KZG العشوائية سرية؟" eventCategory="/roadmap/danksharding" eventName="clicked why does the KZG random data have to stay secret?">

إذا كان شخص ما يعرف المواقع العشوائية المستخدمة في الالتزام، فمن السهل عليهم توليد كثير حدود جديد يتناسب مع تلك النقاط المحددة (أي "تصادم"). هذا يعني أنه يمكنهم إضافة أو إزالة بيانات من الكتلة وما زال بإمكانهم تقديم دليل صالح. لمنع ذلك، بدلاً من إعطاء المقدّرين المواقع السرية الفعلية، يتلقون في الواقع المواقع مغلفة في "صندوق أسود" تشفيري باستخدام المنحنيات البيانية. إنها تقوم بخلط القيم بطريقة تجعل من المستحيل استعادة القيم الأصلية، لكن باستخدام بعض المبرهنات والمتحققين الأذكياء يمكنهم تقييم كثيرات الحدود عند النقاط التي تمثلها.
</ExpandableCard>

<Alert variant="warning" className="mb-8">
  لا يتبع كل من اردينان وبرتو اردينان النموذج التقليدي لـ "الشفاء" الذي يهدف إلى تقسيم البلوكشين إلى عدة أجزاء. سلاسل الشظايا لم تعد جزءًا من خارطة الطريق. بدلاً من ذلك، يستخدم اردينان عينة بيانات موزعة عبر الكتل لتوسيع نطاق إيثريوم. هذا أسهل بكثير في التنفيذ. لقد تم الإشارة إلى هذا النموذج أحيانًا باسم "توزيع البيانات".
</Alert>

## ما هود انك شاردين؟ {#what-is-danksharding}

اردينان هو التجسيد الكامل لتوسيع ورلات الذي بدأ مع برتو اردينان. ستوفر تقنية ذانك شاردينا كميات ضخمة من المساحة على إيثريوم لتخزين بيانات المعاملات المضغوطة لطرق التوسع. هذا يعني أن إيثريوم ستتمكن من دعم المئات من عمليات التجميع الفردية بسهولة وجعل الملايين من المعاملات في الثانية واقعًا.

تتمثل طريقة عمل هذا في توسيع الكتل المرتبطة بالكتل من ستة (6) في بروتون-يردينان إلى 64 في يردينان الكامل. التغييرات المتبقية المطلوبة هي كلها تحديثات على الطريقة التي تعمل بها عملاء التوافق لتمكينهم من التعامل مع الكتل الكبيرة الجديدة. العديد من هذه التغييرات موجودة بالفعل على خريطة الطريق لأغراض أخرى مستقلة عن داركنان. على سبيل المثال، يتطلب داني كشاردين فصل المقترحين والبنائين ليكون قد تم تنفيذه. هذه ترقية تفصل بين مهام بناء الكتل واقتراح الكتل عبر موثوقين مختلفين. وبالمثل، يلزم توفر بيانات العينة من أجل Danksharding، ولكنه مطلوب أيضًا من أجل تطوير عملاء خفيفين للغاية لا يخزنون الكثير من البيانات التاريخية ("عملاء بلا حالة").

<ExpandableCard title="لماذا يتطلب Danksharding فصل المقترحين والبنائين؟" eventCategory="/roadmap/danksharding" eventName="clicked why does danksharding require proposer-builder separation?">

يتطلب فصل مقترح البناء منع المدققين الفرديين من الحاجة إلى إنشاء التزامات وإثباتات باهظة الثمن لبيانات بحجم 32MB ميغابايت. هذا سيفرض ضغطًا كبيرًا على المشاركين في المنازل وسيتطلب منهم استثمار المزيد من الأجهزة القوية، مما يؤثر سلبًا على اللامركزية. بدلاً من ذلك، يتحمل بناة الكتل المتخصصون مسؤولية هذا العمل الحسابي المكلف. ثم، يجعلون كتلهم متاحة لمقترحي الكتل للبث. يقوم مقترح الكتلة ببساطة باختيار الكتلة الأكثر ربحية. يمكن لأي شخص التحقق من الكتل بسرعة وبتكلفة منخفضة، مما يعني أنه يمكن لأي مدقق عادي التأكد من أن مُنشئي الكتل يتصرفون بنزاهة. هذا يسمح بمعالجة الكتل الكبيرة دون التضحية بتوزيع السلطة. يمكن ببساطة طرد بناة الكتل الذين يتصرفون بشكل غير صحيح من الشبكة وتعرضهم للعقوبات - وسيأتي الآخرون ليحلوا محلهم لأن بناء الكتل هو نشاط مربح.
</ExpandableCard>

<ExpandableCard title="لماذا يتطلب Danksharding أخذ عينات توافر البيانات؟" eventCategory="/roadmap/danksharding" eventName="clicked why does danksharding require data availability sampling?">

يتطلب أخذ عينات توافر البيانات من المدققين للتحقق بسرعة وكفاءة من بيانات الفقاعات. من خلال استخدام عينة من توفر البيانات، يمكن للم أن يكونوا واثقين جدًا من أن بيانات كانت متاحة وتم الالتزام بها بشكل صحيح. يمكن لكل مُحقق أن يأخذ عينة عشوائية من بعض نقاط البيانات فقط ويُنشئ دليلاً، مما يعني أنه لا يتعين على أي مُحقق فحص الكتلة بأكملها. إذا كانت هناك بيانات مفقودة، فسيتم تحديدها بسرعة وسيتم رفض العنصر.
</ExpandableCard>

### التقدم الحالي {#current-progress}

تقنية الشظايا الكاملة لا تزال بعيدة لعدة سنوات. في غضون ذلك، اختُتمت احتفالية KZG بأكثر من 140,000 مساهمة، وقد نضج [EIP](https://eips.ethereum.org/EIPS/eip-4844) الخاص ببروتو-دانكشاردينج. تم تنفيذ هذا الاقتراح بالكامل في جميع شبكات الاختبار، وتم إطلاقه على شبكة مع ترقية الشبكة ("") في مارس 2024.

### قراءة إضافية{#further-reading}

- [ملاحظات حول بروتو-دانكشاردينج](https://notes.ethereum.org/@vbuterin/proto_danksharding_faq) - _فيتاليك بوتيرين_
- [ملاحظات دانكراد حول دانكشاردينج](https://notes.ethereum.org/@dankrad/new_sharding)
- [دانكراد وبروتو وفيتاليك يناقشون دانكشاردينج](https://www.youtube.com/watch?v=N5p0TB77flM)
- [احتفالية KZG](https://ceremony.ethereum.org/)
- [حديث كارل بيكهويزن في ديفكون حول الإعدادات الموثوقة](https://archive.devcon.org/archive/watch/6/the-kzg-ceremony-or-how-i-learnt-to-stop-worrying-and-love-trusted-setups/?tab=YouTube)
- [المزيد حول أخذ عينات توفر البيانات للبلوبات (blobs)](https://hackmd.io/@vbuterin/sharding_proposal#ELI5-data-availability-sampling)
- [دانكراد فيست حول التزامات وبراهين KZG](https://youtu.be/8L2C6RDMV9Q)
- [التزامات كثيرات الحدود KZG](https://dankradfeist.de/ethereum/2020/06/16/kate-polynomial-commitments.html)
