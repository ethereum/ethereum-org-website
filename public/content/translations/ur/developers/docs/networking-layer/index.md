---
title: نیٹ ورکنگ پرت
description: Ethereum کی نیٹ ورکنگ پرت کا تعارف۔
lang: ur-in
sidebarDepth: 2
---

Ethereum ایک پیئر-ٹو-پیئر نیٹ ورک ہے جس میں ہزاروں نوڈز ہیں جنہیں معیاری پروٹوکولز کا استعمال کرتے ہوئے ایک دوسرے کے ساتھ بات چیت کرنے کے قابل ہونا چاہیے۔ "نیٹ ورکنگ پرت" پروٹوکولز کا ایک اسٹیک ہے جو ان نوڈز کو ایک دوسرے کو تلاش کرنے اور معلومات کا تبادلہ کرنے کی اجازت دیتا ہے۔ اس میں نیٹ ورک پر معلومات کی "گوسپنگ" (ایک سے کئی تک مواصلات) کے ساتھ ساتھ مخصوص نوڈز کے درمیان درخواستوں اور جوابات کا تبادلہ (ایک سے ایک مواصلات) شامل ہے۔ ہر نوڈ کو مخصوص نیٹ ورکنگ قوانین پر عمل کرنا چاہیے تاکہ یہ یقینی بنایا جا سکے کہ وہ صحیح معلومات بھیج اور وصول کر رہے ہیں۔

کلائنٹ سافٹ ویئر کے دو حصے ہیں (ایگزیکیوشن کلائنٹس اور کنسینسس کلائنٹس)، ہر ایک کا اپنا الگ نیٹ ورکنگ اسٹیک ہے۔ دیگر Ethereum نوڈز کے ساتھ مواصلات کرنے کے ساتھ ساتھ، ایگزیکیوشن اور کنسینسس کلائنٹس کو ایک دوسرے کے ساتھ بھی مواصلات کرنا ہوتا ہے۔ یہ صفحہ ان پروٹوکولز کی تعارفی وضاحت فراہم کرتا ہے جو اس مواصلات کو ممکن بناتے ہیں۔

ایگزیکیوشن کلائنٹس ایگزیکیوشن-لیئر پیئر-ٹو-پیئر نیٹ ورک پر ٹرانزیکشنز کی گوسپنگ کرتے ہیں۔ اس کے لیے تصدیق شدہ پیئرز کے درمیان انکرپٹڈ مواصلات کی ضرورت ہوتی ہے۔ جب کسی بلاک کی تجویز کے لیے کسی ویلیڈیٹر کا انتخاب کیا جاتا ہے، تو نوڈ کے مقامی ٹرانزیکشن پول سے ٹرانزیکشنز کو ایک مقامی RPC کنکشن کے ذریعے کنسینسس کلائنٹس کو بھیجا جائے گا، جنہیں بیکن بلاکس میں پیکج کیا جائے گا۔ کنسینسس کلائنٹس پھر اپنے p2p نیٹ ورک پر بیکن بلاکس کی گوسپنگ کریں گے۔ اس کے لیے دو الگ الگ p2p نیٹ ورکس کی ضرورت ہوتی ہے: ایک ٹرانزیکشن گوسپ کے لیے ایگزیکیوشن کلائنٹس کو جوڑتا ہے اور دوسرا بلاک گوسپ کے لیے کنسینسس کلائنٹس کو جوڑتا ہے۔

## شرائط {#prerequisites}

اس صفحے کو سمجھنے کے لیے Ethereum [نوڈز اور کلائنٹس](/developers/docs/nodes-and-clients/) کا کچھ علم مددگار ثابت ہوگا۔

## ایگزیکیوشن پرت {#execution-layer}

ایگزیکیوشن پرت کے نیٹ ورکنگ پروٹوکولز کو دو اسٹیکس میں تقسیم کیا گیا ہے:

- ڈسکوری اسٹیک: UDP کے اوپر بنایا گیا ہے اور ایک نئے نوڈ کو جڑنے کے لیے پیئرز تلاش کرنے کی اجازت دیتا ہے

- DevP2P اسٹیک: TCP کے اوپر بیٹھتا ہے اور نوڈز کو معلومات کا تبادلہ کرنے کے قابل بناتا ہے

دونوں اسٹیکس متوازی طور پر کام کرتے ہیں۔ ڈسکوری اسٹیک نئے نیٹ ورک شرکاء کو نیٹ ورک میں فیڈ کرتا ہے، اور DevP2P اسٹیک ان کے تعاملات کو قابل بناتا ہے۔

### ڈسکوری {#discovery}

ڈسکوری نیٹ ورک میں دیگر نوڈز کو تلاش کرنے کا عمل ہے۔ اسے بوٹ نوڈز کے ایک چھوٹے سیٹ کا استعمال کرتے ہوئے بوٹسٹریپ کیا جاتا ہے (وہ نوڈز جن کے پتے کلائنٹ میں [ہارڈ کوڈڈ](https://github.com/ethereum/go-ethereum/blob/master/params/bootnodes.go) ہوتے ہیں تاکہ انہیں فوری طور پر پایا جا سکے اور کلائنٹ کو پیئرز سے جوڑا جا سکے)۔ یہ بوٹ نوڈز صرف ایک نئے نوڈ کو پیئرز کے ایک سیٹ سے متعارف کرانے کے لیے موجود ہیں - یہی ان کا واحد مقصد ہے، وہ عام کلائنٹ کے کاموں جیسے کہ چین کو مطابقت پذیر بنانے میں حصہ نہیں لیتے ہیں، اور وہ صرف پہلی بار استعمال ہوتے ہیں جب کسی کلائنٹ کو شروع کیا جاتا ہے۔

نوڈ-بوٹ نوڈ تعاملات کے لیے استعمال ہونے والا پروٹوکول [Kademlia](https://medium.com/coinmonks/a-brief-overview-of-kademlia-and-its-use-in-various-decentralized-platforms-da08a7f72b8f) کی ایک ترمیم شدہ شکل ہے جو نوڈز کی فہرستیں شیئر کرنے کے لیے ایک [تقسیم شدہ ہیش ٹیبل](https://en.wikipedia.org/wiki/Distributed_hash_table) کا استعمال کرتا ہے۔ ہر نوڈ کے پاس اس ٹیبل کا ایک ورژن ہوتا ہے جس میں اس کے قریب ترین پیئرز سے جڑنے کے لیے درکار معلومات ہوتی ہیں۔ یہ 'قربت' جغرافیائی نہیں ہے - فاصلے کی تعریف نوڈ کی ID کی مماثلت سے ہوتی ہے۔ ہر نوڈ کی ٹیبل کو سیکیورٹی فیچر کے طور پر باقاعدگی سے تازہ کیا جاتا ہے۔ مثال کے طور پر، [Discv5](https://github.com/ethereum/devp2p/tree/master/discv5) میں، ڈسکوری پروٹوکول نوڈز 'اشتہارات' بھیجنے کے قابل ہوتے ہیں جو ان سب پروٹوکولز کو دکھاتے ہیں جنہیں کلائنٹ سپورٹ کرتا ہے، جس سے پیئرز کو ان پروٹوکولز کے بارے میں گفت و شنید کرنے کی اجازت ملتی ہے جنہیں وہ دونوں مواصلات کے لیے استعمال کر سکتے ہیں۔

ڈسکوری PING-PONG کے کھیل سے شروع ہوتی ہے۔ ایک کامیاب PING-PONG نئے نوڈ کو بوٹ نوڈ سے "بونڈ" کرتا ہے۔ ابتدائی پیغام جو ایک بوٹ نوڈ کو نیٹ ورک میں داخل ہونے والے نئے نوڈ کی موجودگی سے آگاہ کرتا ہے وہ ایک `PING` ہے۔ اس `PING` میں نئے نوڈ، بوٹ نوڈ اور ایک ایکسپائری ٹائم اسٹیمپ کے بارے میں ہیش شدہ معلومات شامل ہوتی ہیں۔ بوٹ نوڈ `PING` وصول کرتا ہے اور ایک `PONG` واپس کرتا ہے جس میں `PING` ہیش ہوتا ہے۔ اگر `PING` اور `PONG` ہیشز مماثل ہوں تو نئے نوڈ اور بوٹ نوڈ کے درمیان کنکشن کی تصدیق ہو جاتی ہے اور کہا جاتا ہے کہ وہ "بونڈڈ" ہو گئے ہیں۔

ایک بار بونڈڈ ہونے کے بعد، نیا نوڈ بوٹ نوڈ کو ایک `FIND-NEIGHBOURS` درخواست بھیج سکتا ہے۔ بوٹ نوڈ کے ذریعے واپس کیا گیا ڈیٹا ان پیئرز کی ایک فہرست پر مشتمل ہوتا ہے جن سے نیا نوڈ جڑ سکتا ہے۔ اگر نوڈز بونڈڈ نہیں ہیں، تو `FIND-NEIGHBOURS` کی درخواست ناکام ہو جائے گی، لہذا نیا نوڈ نیٹ ورک میں داخل نہیں ہو سکے گا۔

ایک بار جب نیا نوڈ بوٹ نوڈ سے پڑوسیوں کی فہرست وصول کر لیتا ہے، تو وہ ان میں سے ہر ایک کے ساتھ PING-PONG کا تبادلہ شروع کر دیتا ہے۔ کامیاب PING-PONGs نئے نوڈ کو اس کے پڑوسیوں کے ساتھ بونڈ کرتے ہیں، جس سے پیغام کا تبادلہ ممکن ہوتا ہے۔

```
کلائنٹ شروع کریں --> بوٹ نوڈ سے جڑیں --> بوٹ نوڈ سے بونڈ کریں --> پڑوسی تلاش کریں --> پڑوسیوں سے بونڈ کریں
```

ایگزیکیوشن کلائنٹس فی الحال [Discv4](https://github.com/ethereum/devp2p/blob/master/discv4.md) ڈسکوری پروٹوکول استعمال کر رہے ہیں اور [Discv5](https://github.com/ethereum/devp2p/tree/master/discv5) پروٹوکول پر منتقل ہونے کی ایک فعال کوشش جاری ہے۔

#### ENR: Ethereum نوڈ ریکارڈز {#enr}

[Ethereum نوڈ ریکارڈ (ENR)](/developers/docs/networking-layer/network-addresses/) ایک آبجیکٹ ہے جس میں تین بنیادی عناصر ہوتے ہیں: ایک دستخط (کسی متفقہ شناختی اسکیم کے مطابق بنائے گئے ریکارڈ کے مواد کا ہیش)، ایک ترتیب نمبر جو ریکارڈ میں تبدیلیوں کو ٹریک کرتا ہے، اور کلیدی: قدر کے جوڑوں کی ایک من مانی فہرست۔ یہ ایک مستقبل کا ثبوت فارمیٹ ہے جو نئے پیئرز کے درمیان شناختی معلومات کے آسان تبادلے کی اجازت دیتا ہے اور Ethereum نوڈز کے لیے ترجیحی [نیٹ ورک ایڈریس](/developers/docs/networking-layer/network-addresses) فارمیٹ ہے۔

#### ڈسکوری UDP پر کیوں بنائی گئی ہے؟ {#why-udp}

UDP کسی بھی خرابی کی جانچ، ناکام پیکٹوں کو دوبارہ بھیجنے، یا متحرک طور پر کنکشن کھولنے اور بند کرنے کی حمایت نہیں کرتا ہے - اس کے بجائے یہ صرف ایک ہدف پر معلومات کا ایک مسلسل سلسلہ فائر کرتا ہے، چاہے وہ کامیابی سے موصول ہو یا نہ ہو۔ یہ کم سے کم فعالیت بھی کم سے کم اوور ہیڈ میں ترجمہ کرتی ہے، جس سے اس قسم کا کنکشن بہت تیز ہو جاتا ہے۔ ڈسکوری کے لیے، جہاں ایک نوڈ صرف اپنی موجودگی کو ظاہر کرنا چاہتا ہے تاکہ پھر ایک پیئر کے ساتھ رسمی کنکشن قائم کیا جا سکے، UDP کافی ہے۔ تاہم، باقی نیٹ ورکنگ اسٹیک کے لیے، UDP مقصد کے لیے موزوں نہیں ہے۔ نوڈز کے درمیان معلوماتی تبادلہ کافی پیچیدہ ہے اور اس لیے اسے ایک زیادہ مکمل خصوصیات والے پروٹوکول کی ضرورت ہے جو دوبارہ بھیجنے، خرابی کی جانچ وغیرہ کی حمایت کر سکے۔ TCP سے وابستہ اضافی اوور ہیڈ اضافی فعالیت کے قابل ہے۔ لہذا، P2P اسٹیک کی اکثریت TCP پر کام کرتی ہے۔

### DevP2P {#devp2p}

DevP2P خود پروٹوکولز کا ایک پورا اسٹیک ہے جسے Ethereum پیئر-ٹو-پیئر نیٹ ورک کو قائم کرنے اور برقرار رکھنے کے لیے نافذ کرتا ہے۔ نئے نوڈز کے نیٹ ورک میں داخل ہونے کے بعد، ان کے تعاملات [DevP2P](https://github.com/ethereum/devp2p) اسٹیک میں پروٹوکولز کے ذریعے چلائے جاتے ہیں۔ یہ سب TCP کے اوپر بیٹھتے ہیں اور ان میں RLPx ٹرانسپورٹ پروٹوکول، وائر پروٹوکول اور کئی سب پروٹوکول شامل ہیں۔ [RLPx](https://github.com/ethereum/devp2p/blob/master/rlpx.md) نوڈز کے درمیان سیشنز کو شروع کرنے، تصدیق کرنے اور برقرار رکھنے کا پروٹوکول ہے۔ RLPx RLP (ریکرسیو لینتھ پریفکس) کا استعمال کرتے ہوئے پیغامات کو انکوڈ کرتا ہے جو نوڈز کے درمیان بھیجنے کے لیے ڈیٹا کو کم سے کم ڈھانچے میں انکوڈ کرنے کا ایک بہت ہی جگہ-موثر طریقہ ہے۔

دو نوڈز کے درمیان ایک RLPx سیشن ایک ابتدائی کرپٹوگرافک ہینڈ شیک سے شروع ہوتا ہے۔ اس میں نوڈ ایک تصدیقی پیغام بھیجتا ہے جسے پھر پیئر کے ذریعے تصدیق کیا جاتا ہے۔ کامیاب تصدیق پر، پیئر ایک تصدیقی-اعترافی پیغام تیار کرتا ہے تاکہ اسے شروع کرنے والے نوڈ کو واپس کیا جا سکے۔ یہ ایک کلیدی-تبادلہ کا عمل ہے جو نوڈز کو نجی اور محفوظ طریقے سے مواصلات کرنے کے قابل بناتا ہے۔ ایک کامیاب کرپٹوگرافک ہینڈ شیک پھر دونوں نوڈز کو ایک دوسرے کو "تار پر" ایک "ہیلو" پیغام بھیجنے کے لیے متحرک کرتا ہے۔ وائر پروٹوکول ہیلو پیغامات کے کامیاب تبادلے سے شروع ہوتا ہے۔

ہیلو پیغامات میں شامل ہیں:

- پروٹوکول ورژن
- کلائنٹ ID
- پورٹ
- نوڈ ID
- حمایت یافتہ سب-پروٹوکولز کی فہرست

یہ ایک کامیاب تعامل کے لیے درکار معلومات ہے کیونکہ یہ اس بات کی وضاحت کرتی ہے کہ دونوں نوڈز کے درمیان کون سی صلاحیتیں مشترک ہیں اور مواصلات کو ترتیب دیتی ہیں۔ سب-پروٹوکول مذاکرات کا ایک عمل ہے جہاں ہر نوڈ کے ذریعے حمایت یافتہ سب-پروٹوکولز کی فہرستوں کا موازنہ کیا جاتا ہے اور جو دونوں نوڈز کے لیے مشترک ہیں وہ سیشن میں استعمال کی جا سکتی ہیں۔

ہیلو پیغامات کے ساتھ، وائر پروٹوکول ایک "ڈس کنیکٹ" پیغام بھی بھیج سکتا ہے جو ایک پیئر کو انتباہ دیتا ہے کہ کنکشن بند کر دیا جائے گا۔ وائر پروٹوکول میں PING اور PONG پیغامات بھی شامل ہیں جو سیشن کو کھلا رکھنے کے لیے وقتاً فوقتاً بھیجے جاتے ہیں۔ RLPx اور وائر پروٹوکول تبادلے اس لیے نوڈز کے درمیان مواصلات کی بنیادیں قائم کرتے ہیں، جو ایک مخصوص سب-پروٹوکول کے مطابق مفید معلومات کے تبادلے کے لیے اسکافولڈنگ فراہم کرتے ہیں۔

### سب-پروٹوکولز {#sub-protocols}

#### وائر پروٹوکول {#wire-protocol}

ایک بار جب پیئرز جڑ جاتے ہیں، اور ایک RLPx سیشن شروع ہو جاتا ہے، تو وائر پروٹوکول یہ بتاتا ہے کہ پیئرز کیسے مواصلات کرتے ہیں۔ ابتدائی طور پر، وائر پروٹوکول نے تین اہم کاموں کی تعریف کی: چین کی ہم آہنگی، بلاک کی تشہیر اور ٹرانزیکشن کا تبادلہ۔ تاہم، ایک بار جب Ethereum پروف-آف-اسٹیک پر منتقل ہو گیا، تو بلاک کی تشہیر اور چین کی ہم آہنگی کنسینسس پرت کا حصہ بن گئیں۔ ٹرانزیکشن کا تبادلہ اب بھی ایگزیکیوشن کلائنٹس کے دائرہ کار میں ہے۔ ٹرانزیکشن کا تبادلہ نوڈز کے درمیان زیر التواء ٹرانزیکشنز کے تبادلے سے مراد ہے تاکہ بلاک بنانے والے ان میں سے کچھ کو اگلے بلاک میں شامل کرنے کے لیے منتخب کر سکیں۔ ان کاموں کے بارے میں تفصیلی معلومات [یہاں](https://github.com/ethereum/devp2p/blob/master/caps/eth.md) دستیاب ہیں۔ وہ کلائنٹس جو ان سب-پروٹوکولز کو سپورٹ کرتے ہیں وہ انہیں [JSON-RPC](/developers/docs/apis/json-rpc/) کے ذریعے ظاہر کرتے ہیں۔

#### les (لائٹ Ethereum سب پروٹوکول) {#les}

یہ لائٹ کلائنٹس کو مطابقت پذیر بنانے کے لیے ایک کم سے کم پروٹوکول ہے۔ روایتی طور پر یہ پروٹوکول شاذ و نادر ہی استعمال کیا جاتا ہے کیونکہ مکمل نوڈز کو بغیر کسی ترغیب کے لائٹ کلائنٹس کو ڈیٹا فراہم کرنے کی ضرورت ہوتی ہے۔ ایگزیکیوشن کلائنٹس کا پہلے سے طے شدہ رویہ les پر لائٹ کلائنٹ ڈیٹا فراہم کرنا نہیں ہے۔ مزید معلومات les [spec](https://github.com/ethereum/devp2p/blob/master/caps/les.md) میں دستیاب ہے۔

#### Snap {#snap}

[اسنیپ پروٹوکول](https://github.com/ethereum/devp2p/blob/master/caps/snap.md#ethereum-snapshot-protocol-snap) ایک اختیاری توسیع ہے جو پیئرز کو حالیہ ریاستوں کے اسنیپ شاٹس کا تبادلہ کرنے کی اجازت دیتی ہے، جس سے پیئرز کو درمیانی Merkle ٹرائی نوڈز کو ڈاؤن لوڈ کیے بغیر اکاؤنٹ اور اسٹوریج ڈیٹا کی تصدیق کرنے کی اجازت ملتی ہے۔

#### Wit (وٹنس پروٹوکول) {#wit}

[وٹنس پروٹوکول](https://github.com/ethereum/devp2p/blob/master/caps/wit.md#ethereum-witness-protocol-wit) ایک اختیاری توسیع ہے جو پیئرز کے درمیان اسٹیٹ وٹنسز کے تبادلے کو قابل بناتی ہے، جس سے کلائنٹس کو چین کے سرے تک مطابقت پذیر بنانے میں مدد ملتی ہے۔

#### Whisper {#whisper}

Whisper ایک پروٹوکول تھا جس کا مقصد بلاک چین پر کوئی معلومات لکھے بغیر پیئرز کے درمیان محفوظ پیغام رسانی فراہم کرنا تھا۔ یہ DevP2P وائر پروٹوکول کا حصہ تھا لیکن اب اسے فرسودہ کر دیا گیا ہے۔ اسی طرح کے مقاصد کے ساتھ دیگر [متعلقہ منصوبے](https://wakunetwork.com/) موجود ہیں۔

## کنسینسس پرت {#consensus-layer}

کنسینسس کلائنٹس ایک مختلف تفصیلات کے ساتھ ایک علیحدہ پیئر-ٹو-پیئر نیٹ ورک میں حصہ لیتے ہیں۔ کنسینسس کلائنٹس کو بلاک گوسپ میں حصہ لینے کی ضرورت ہوتی ہے تاکہ وہ پیئرز سے نئے بلاکس وصول کر سکیں اور جب ان کی باری ہو تو انہیں بلاک پروپوزر کے طور پر براڈکاسٹ کر سکیں۔ ایگزیکیوشن پرت کی طرح، اس کے لیے پہلے ایک ڈسکوری پروٹوکول کی ضرورت ہوتی ہے تاکہ ایک نوڈ پیئرز تلاش کر سکے اور بلاکس، اٹیسٹیشنز وغیرہ کے تبادلے کے لیے محفوظ سیشنز قائم کر سکے۔

### ڈسکوری {#consensus-discovery}

ایگزیکیوشن کلائنٹس کی طرح، کنسینسس کلائنٹس پیئرز کو تلاش کرنے کے لیے UDP پر [discv5](https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/p2p-interface.md#the-discovery-domain-discv5) کا استعمال کرتے ہیں۔ discv5 کا کنسینسس پرت کا نفاذ ایگزیکیوشن کلائنٹس سے صرف اس لحاظ سے مختلف ہے کہ اس میں ایک اڈاپٹر شامل ہے جو discv5 کو [libP2P](https://libp2p.io/) اسٹیک سے جوڑتا ہے، جس سے DevP2P فرسودہ ہو جاتا ہے۔ ایگزیکیوشن پرت کے RLPx سیشنز کو libP2P کے نائز سیکیور چینل ہینڈ شیک کے حق میں فرسودہ کر دیا گیا ہے۔

### ENRs {#consensus-enr}

کنسینسس نوڈز کے لیے ENR میں نوڈ کی پبلک کی، IP ایڈریس، UDP اور TCP پورٹس اور دو کنسینسس-مخصوص فیلڈز شامل ہیں: اٹیسٹیشن سب نیٹ بٹ فیلڈ اور `eth2` کلید۔ سابقہ نوڈز کے لیے مخصوص اٹیسٹیشن گوسپ سب-نیٹ ورکس میں حصہ لینے والے پیئرز کو تلاش کرنا آسان بناتا ہے۔ `eth2` کلید میں اس بارے میں معلومات ہوتی ہیں کہ نوڈ کون سا Ethereum فورک ورژن استعمال کر رہا ہے، جس سے یہ یقینی ہوتا ہے کہ پیئرز صحیح Ethereum سے جڑ رہے ہیں۔

### libP2P {#libp2p}

libP2P اسٹیک ڈسکوری کے بعد تمام مواصلات کی حمایت کرتا ہے۔ کلائنٹس اپنے ENR میں بیان کردہ کے مطابق IPv4 اور/یا IPv6 پر ڈائل اور سن سکتے ہیں۔ libP2P پرت پر موجود پروٹوکولز کو گوسپ اور req/resp ڈومینز میں تقسیم کیا جا سکتا ہے۔

### گوسپ {#gossip}

گوسپ ڈومین میں وہ تمام معلومات شامل ہیں جنہیں پورے نیٹ ورک میں تیزی سے پھیلانا ہوتا ہے۔ اس میں بیکن بلاکس، ثبوت، اٹیسٹیشنز، ایگزٹس اور سلیشنگز شامل ہیں۔ یہ libP2P gossipsub v1 کا استعمال کرتے ہوئے منتقل کیا جاتا ہے اور ہر نوڈ پر مقامی طور پر ذخیرہ شدہ مختلف میٹا ڈیٹا پر انحصار کرتا ہے، بشمول وصول کرنے اور منتقل کرنے کے لیے گوسپ پے لوڈز کا زیادہ سے زیادہ سائز۔ گوسپ ڈومین کے بارے میں تفصیلی معلومات [یہاں](https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/p2p-interface.md#the-gossip-domain-gossipsub) دستیاب ہیں۔

### درخواست-جواب {#request-response}

درخواست-جواب ڈومین میں کلائنٹس کے لیے ان کے پیئرز سے مخصوص معلومات کی درخواست کرنے کے لیے پروٹوکولز شامل ہیں۔ مثالوں میں مخصوص بیکن بلاکس کی درخواست کرنا شامل ہے جو کچھ روٹ ہیشز سے مماثل ہوں یا سلاٹس کی ایک رینج کے اندر ہوں۔ جوابات ہمیشہ اسنیپی-کمپریسڈ SSZ انکوڈڈ بائٹس کے طور پر واپس کیے جاتے ہیں۔

## کنسینسس کلائنٹ RLP کے بجائے SSZ کو کیوں ترجیح دیتا ہے؟ {#ssz-vs-rlp}

SSZ کا مطلب ہے سادہ سیریلائزیشن۔ یہ فکسڈ آفسیٹس کا استعمال کرتا ہے جو پورے ڈھانچے کو ڈی کوڈ کیے بغیر انکوڈڈ پیغام کے انفرادی حصوں کو ڈی کوڈ کرنا آسان بناتا ہے، جو کنسینسس کلائنٹ کے لیے بہت مفید ہے کیونکہ یہ انکوڈڈ پیغامات سے معلومات کے مخصوص ٹکڑوں کو مؤثر طریقے سے حاصل کر سکتا ہے۔ اسے خاص طور پر Merkle پروٹوکولز کے ساتھ ضم کرنے کے لیے بھی ڈیزائن کیا گیا ہے، جس میں Merkleization کے لیے متعلقہ کارکردگی میں اضافہ ہوتا ہے۔ چونکہ کنسینسس پرت میں تمام ہیشز Merkle روٹس ہیں، اس لیے یہ ایک اہم بہتری کا باعث بنتا ہے۔ SSZ قدروں کی منفرد نمائندگی کی بھی ضمانت دیتا ہے۔

## ایگزیکیوشن اور کنسینسس کلائنٹس کو جوڑنا {#connecting-clients}

دونوں کنسینسس اور ایگزیکیوشن کلائنٹس متوازی طور پر چلتے ہیں۔ انہیں جڑنے کی ضرورت ہے تاکہ کنسینسس کلائنٹ ایگزیکیوشن کلائنٹ کو ہدایات فراہم کر سکے، اور ایگزیکیوشن کلائنٹ ٹرانزیکشنز کے بنڈل کنسینسس کلائنٹ کو بیکن بلاکس میں شامل کرنے کے لیے بھیج سکے۔ دو کلائنٹس کے درمیان مواصلات کو مقامی RPC کنکشن کا استعمال کرتے ہوئے حاصل کیا جا سکتا ہے۔ ایک API جسے ['Engine-API'](https://github.com/ethereum/execution-apis/blob/main/src/engine/common.md) کہا جاتا ہے، دو کلائنٹس کے درمیان بھیجی گئی ہدایات کی وضاحت کرتا ہے۔ چونکہ دونوں کلائنٹس ایک ہی نیٹ ورک شناخت کے پیچھے بیٹھتے ہیں، وہ ایک ENR (Ethereum نوڈ ریکارڈ) شیئر کرتے ہیں جس میں ہر کلائنٹ کے لیے ایک الگ کلید ہوتی ہے (eth1 کلید اور eth2 کلید)۔

کنٹرول فلو کا خلاصہ ذیل میں دکھایا گیا ہے، جس میں متعلقہ نیٹ ورکنگ اسٹیک بریکٹ میں ہے۔

### جب کنسینسس کلائنٹ بلاک پروڈیوسر نہ ہو: {#when-consensus-client-is-not-block-producer}

- کنسینسس کلائنٹ بلاک گوسپ پروٹوکول (کنسینسس p2p) کے ذریعے ایک بلاک وصول کرتا ہے
- کنسینسس کلائنٹ بلاک کی پہلے سے تصدیق کرتا ہے، یعنی یہ یقینی بناتا ہے کہ یہ درست میٹا ڈیٹا کے ساتھ ایک درست بھیجنے والے سے آیا ہے
- بلاک میں موجود ٹرانزیکشنز کو ایگزیکیوشن پے لوڈ کے طور پر ایگزیکیوشن پرت کو بھیجا جاتا ہے (مقامی RPC کنکشن)
- ایگزیکیوشن پرت ٹرانزیکشنز پر عمل درآمد کرتی ہے اور بلاک ہیڈر میں حالت کی توثیق کرتی ہے (یعنی، ہیشز کے مماثل ہونے کی جانچ کرتی ہے)
- ایگزیکیوشن پرت توثیق کا ڈیٹا واپس کنسینسس پرت کو بھیجتی ہے، بلاک کو اب توثیق شدہ سمجھا جاتا ہے (مقامی RPC کنکشن)
- کنسینسس پرت بلاک کو اپنے بلاک چین کے سرے میں شامل کرتی ہے اور اس کی تصدیق کرتی ہے، نیٹ ورک پر اٹیسٹیشن کو براڈکاسٹ کرتی ہے (کنسینسس p2p)

### جب کنسینسس کلائنٹ بلاک پروڈیوسر ہو: {#when-consensus-client-is-block-producer}

- کنسینسس کلائنٹ کو نوٹس ملتا ہے کہ وہ اگلا بلاک پروڈیوسر ہے (کنسینسس p2p)
- کنسینسس پرت ایگزیکیوشن کلائنٹ میں `create block` طریقہ کو کال کرتی ہے (مقامی RPC)
- ایگزیکیوشن پرت ٹرانزیکشن میم پول تک رسائی حاصل کرتی ہے جسے ٹرانزیکشن گوسپ پروٹوکول (ایگزیکیوشن p2p) کے ذریعے آباد کیا گیا ہے
- ایگزیکیوشن کلائنٹ ٹرانزیکشنز کو ایک بلاک میں بنڈل کرتا ہے، ٹرانزیکشنز پر عمل درآمد کرتا ہے اور ایک بلاک ہیش تیار کرتا ہے
- کنسینسس کلائنٹ ایگزیکیوشن کلائنٹ سے ٹرانزیکشنز اور بلاک ہیش حاصل کرتا ہے اور انہیں بیکن بلاک میں شامل کرتا ہے (مقامی RPC)
- کنسینسس کلائنٹ بلاک گوسپ پروٹوکول (کنسینسس p2p) پر بلاک کو براڈکاسٹ کرتا ہے
- دیگر کلائنٹس مجوزہ بلاک کو بلاک گوسپ پروٹوکول کے ذریعے وصول کرتے ہیں اور جیسا کہ اوپر بیان کیا گیا ہے توثیق کرتے ہیں (کنسینسس p2p)

ایک بار جب بلاک کی کافی ویلیڈیٹرز کے ذریعے تصدیق ہو جاتی ہے تو اسے چین کے سرے میں شامل کیا جاتا ہے، جواز پیش کیا جاتا ہے اور آخر کار حتمی شکل دی جاتی ہے۔

![](cons_client_net_layer.png)
![](exe_client_net_layer.png)

کنسینسس اور ایگزیکیوشن کلائنٹس کے لیے نیٹ ورک پرت کا اسکیمیٹک، [ethresear.ch](https://ethresear.ch/t/eth1-eth2-client-relationship/7248) سے

## مزید مطالعہ {#further-reading}

[DevP2P](https://github.com/ethereum/devp2p)
[LibP2p](https://github.com/libp2p/specs)
[کنسینسس پرت نیٹ ورک کی تفصیلات](https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/p2p-interface.md#enr-structure)
[kademlia to discv5](https://vac.dev/kademlia-to-discv5)
[kademlia پیپر](https://pdos.csail.mit.edu/~petar/papers/maymounkov-kademlia-lncs.pdf)
[Ethereum p2p کا تعارف](https://p2p.paris/en/talks/intro-ethereum-networking/)
[eth1/eth2 تعلق](http://ethresear.ch/t/eth1-eth2-client-relationship/7248)
[مرج اور eth2 کلائنٹ کی تفصیلات کی ویڈیو](https://www.youtube.com/watch?v=zNIrIninMgg)
