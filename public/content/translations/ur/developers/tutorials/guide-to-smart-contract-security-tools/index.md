---
title: اسمارٹ کنٹریکٹ سیکیورٹی ٹولز کے لئے ایک گائیڈ
description: تین مختلف ٹیسٹنگ اور پروگرام کے تجزیہ کی تکنیکوں کا ایک جائزہ
author: "Trailofbits"
lang: ur-in
tags: [ "solidity", "اسمارٹ معاہدات", "سیکورٹی" ]
skill: intermediate
published: 2020-09-07
source: محفوظ کنٹریکٹس بنانا
sourceUrl: https://github.com/crytic/building-secure-contracts/tree/master/program-analysis
---

ہم تین مخصوص ٹیسٹنگ اور پروگرام کے تجزیہ کی تکنیکوں کا استعمال کرنے جا رہے ہیں:

- **[Slither](/developers/tutorials/how-to-use-slither-to-find-smart-contract-bugs/) کے ساتھ اسٹیٹک تجزیہ۔** پروگرام کے تمام راستوں کا تخمینہ لگایا جاتا ہے اور ایک ہی وقت میں تجزیہ کیا جاتا ہے، مختلف پروگرام پریزنٹیشنز (مثال کے طور پر، کنٹرول-فلو-گراف) کے ذریعے۔
- **[Echidna](/developers/tutorials/how-to-use-echidna-to-test-smart-contracts/) کے ساتھ فزنگ۔** کوڈ کو ٹرانزیکشنز کی سیوڈو-رینڈم جنریشن کے ساتھ عمل میں لایا جاتا ہے۔ فزر دی گئی پراپرٹی کی خلاف ورزی کرنے کے لیے ٹرانزیکشنز کا ایک سلسلہ تلاش کرنے کی کوشش کرے گا۔
- **[Manticore](/developers/tutorials/how-to-use-manticore-to-find-smart-contract-bugs/) کے ساتھ سمبولک ایکزیکیوشن۔** ایک رسمی تصدیقی تکنیک، جو ہر ایکزیکیوشن پاتھ کو ایک ریاضیاتی فارمولے میں ترجمہ کرتی ہے، جس کے اوپر رکاوٹوں کی جانچ کی جا سکتی ہے۔

ہر تکنیک کے فوائد اور نقصانات ہیں، اور یہ [مخصوص معاملات](#determining-security-properties) میں مفید ہوگی:

| تکنیک             | ٹول       | استعمال                       | رفتار | چھوٹے ہوئے بگز | غلط الارم |
| ----------------- | --------- | ----------------------------- | ----- | -------------- | --------- |
| اسٹیٹک تجزیہ      | Slither   | CLI اور اسکرپٹس               | سیکنڈ | معتدل          | کم        |
| فزنگ              | Echidna   | Solidity پراپرٹیز             | منٹ   | کم             | کوئی نہیں |
| سمبولک ایکزیکیوشن | Manticore | Solidity پراپرٹیز اور اسکرپٹس | گھنٹے | کوئی نہیں\*    | کوئی نہیں |

\* اگر تمام راستوں کو ٹائم آؤٹ کے بغیر دریافت کیا جاتا ہے

**Slither** سیکنڈوں میں کنٹریکٹس کا تجزیہ کرتا ہے، تاہم، اسٹیٹک تجزیہ غلط الارم کا باعث بن سکتا ہے اور پیچیدہ جانچ (مثال کے طور پر، حسابی جانچ) کے لیے کم موزوں ہوگا۔ بلٹ ان ڈیٹیکٹرز تک پش بٹن رسائی کے لیے API کے ذریعے Slither چلائیں یا صارف کی طرف سے متعین کردہ جانچ کے لیے API کے ذریعے۔

**Echidna** کو کئی منٹ تک چلنے کی ضرورت ہے اور یہ صرف سچے مثبت نتائج پیدا کرے گا۔ Echidna صارف کی فراہم کردہ سیکیورٹی پراپرٹیز کی جانچ کرتا ہے، جو Solidity میں لکھی گئی ہیں۔ یہ بگز کو چھوڑ سکتا ہے کیونکہ یہ رینڈم ایکسپلوریشن پر مبنی ہے۔

**Manticore** "سب سے بھاری وزن" کا تجزیہ کرتا ہے۔ Echidna کی طرح، Manticore صارف کی فراہم کردہ پراپرٹیز کی تصدیق کرتا ہے۔ اسے چلنے کے لیے زیادہ وقت درکار ہوگا، لیکن یہ کسی پراپرٹی کی درستگی کو ثابت کر سکتا ہے اور غلط الارم کی اطلاع نہیں دے گا۔

## تجویز کردہ ورک فلو {#suggested-workflow}

Slither کے بلٹ ان ڈیٹیکٹرز کے ساتھ شروع کریں تاکہ یہ یقینی بنایا جا سکے کہ کوئی سادہ بگز ابھی موجود نہیں ہیں یا بعد میں متعارف نہیں ہوں گے۔ وراثت، متغیر انحصار، اور ساختی مسائل سے متعلق پراپرٹیز کی جانچ کے لیے Slither کا استعمال کریں۔ جیسے جیسے کوڈبیس بڑھتا ہے، اسٹیٹ مشین کی مزید پیچیدہ پراپرٹیز کی جانچ کے لیے Echidna کا استعمال کریں۔ Solidity سے غیر دستیاب تحفظات کے لیے کسٹم چیکس تیار کرنے کے لیے Slither پر دوبارہ جائیں، جیسے کسی فنکشن کو اوور رائڈ ہونے سے بچانا۔ آخر میں، اہم سیکیورٹی پراپرٹیز کی ٹارگٹڈ تصدیق کے لیے Manticore کا استعمال کریں، جیسے، حسابی آپریشنز۔

- عام مسائل کو پکڑنے کے لیے Slither کے CLI کا استعمال کریں
- اپنے کنٹریکٹ کی اعلیٰ سطحی سیکیورٹی پراپرٹیز کی جانچ کے لیے Echidna کا استعمال کریں
- کسٹم اسٹیٹک چیکس لکھنے کے لیے Slither کا استعمال کریں
- جب آپ اہم سیکیورٹی پراپرٹیز کی گہری یقین دہانی چاہتے ہیں تو Manticore کا استعمال کریں

**یونٹ ٹیسٹ پر ایک نوٹ**۔ اعلیٰ معیار کا سافٹ ویئر بنانے کے لیے یونٹ ٹیسٹ ضروری ہیں۔ تاہم، یہ تکنیکیں سیکیورٹی کی خامیوں کو تلاش کرنے کے لیے سب سے زیادہ موزوں نہیں ہیں۔ وہ عام طور پر کوڈ کے مثبت رویوں کی جانچ کے لیے استعمال ہوتے ہیں (یعنی، کوڈ عام سیاق و سباق میں توقع کے مطابق کام کرتا ہے)، جبکہ سیکیورٹی کی خامیاں ان ایج کیسز میں رہتی ہیں جن پر ڈیولپرز نے غور نہیں کیا تھا۔ درجنوں اسمارٹ کنٹریکٹ سیکیورٹی جائزوں کے ہمارے مطالعے میں، [یونٹ ٹیسٹ کوریج کا سیکیورٹی کی خامیوں کی تعداد یا شدت پر کوئی اثر نہیں تھا](https://blog.trailofbits.com/2019/08/08/246-findings-from-our-smart-contract-audits-an-executive-summary/) جو ہمیں اپنے کلائنٹ کے کوڈ میں ملیں۔

## سیکیورٹی پراپرٹیز کا تعین کرنا {#determining-security-properties}

اپنے کوڈ کو مؤثر طریقے سے ٹیسٹ اور تصدیق کرنے کے لیے، آپ کو ان علاقوں کی نشاندہی کرنی ہوگی جن پر توجہ کی ضرورت ہے۔ چونکہ سیکیورٹی پر خرچ ہونے والے آپ کے وسائل محدود ہیں، اس لیے اپنی کوشش کو بہتر بنانے کے لیے اپنے کوڈبیس کے کمزور یا اعلیٰ قیمت والے حصوں کی گنجائش کا تعین کرنا ضروری ہے۔ تھریٹ ماڈلنگ مدد کر سکتی ہے۔ جائزہ لینے پر غور کریں:

- [ریپڈ رسک اسیسمنٹس](https://infosec.mozilla.org/guidelines/risk/rapid_risk_assessment.html) (ہمارا ترجیحی طریقہ جب وقت کم ہو)
- [ڈیٹا سینٹرک سسٹم تھریٹ ماڈلنگ کے لیے گائیڈ](https://csrc.nist.gov/pubs/sp/800/154/ipd) (عرف NIST 800-154)
- [Shostack تھریٹ ماڈلنگ](https://www.amazon.com/Threat-Modeling-Designing-Adam-Shostack/dp/1118809998)
- [STRIDE](https://wikipedia.org/wiki/STRIDE_\(security\)) / [DREAD](https://wikipedia.org/wiki/DREAD_\(risk_assessment_model\))
- [PASTA](https://wikipedia.org/wiki/Threat_model#P.A.S.T.A.)
- [Assertions کا استعمال](https://blog.regehr.org/archives/1091)

### اجزاء {#components}

یہ جاننا کہ آپ کیا جانچنا چاہتے ہیں، آپ کو صحیح ٹول منتخب کرنے میں بھی مدد ملے گی۔

وہ وسیع علاقے جو اسمارٹ کنٹریکٹس کے لیے اکثر متعلقہ ہوتے ہیں ان میں شامل ہیں:

- **اسٹیٹ مشین۔** زیادہ تر کنٹریکٹس کو اسٹیٹ مشین کے طور پر پیش کیا جا سکتا ہے۔ یہ جانچنے پر غور کریں کہ (1) کوئی غلط اسٹیٹ تک نہیں پہنچا جا سکتا، (2) اگر کوئی اسٹیٹ درست ہے تو اس تک پہنچا جا سکتا ہے، اور (3) کوئی اسٹیٹ کنٹریکٹ کو ٹریپ نہیں کرتی ہے۔

  - Echidna اور Manticore اسٹیٹ مشین کی تفصیلات کی جانچ کے لیے ترجیحی ٹولز ہیں۔

- **رسائی کنٹرولز۔** اگر آپ کے سسٹم میں مراعات یافتہ صارفین ہیں (مثال کے طور پر، ایک مالک، کنٹرولرز، ...) آپ کو یہ یقینی بنانا ہوگا کہ (1) ہر صارف صرف مجاز کارروائیاں انجام دے سکتا ہے اور (2) کوئی صارف زیادہ مراعات یافتہ صارف کی کارروائیوں کو بلاک نہیں کر سکتا۔

  - Slither، Echidna اور Manticore درست رسائی کنٹرولز کی جانچ کر سکتے ہیں۔ مثال کے طور پر، Slither یہ جانچ سکتا ہے کہ صرف وائٹ لسٹ کیے گئے فنکشنز میں onlyOwner موڈیفائر کی کمی ہے۔ Echidna اور Manticore زیادہ پیچیدہ رسائی کنٹرول کے لیے مفید ہیں، جیسے کہ اجازت صرف اس صورت میں دی جاتی ہے جب کنٹریکٹ کسی دی گئی اسٹیٹ تک پہنچ جائے۔

- **حسابی آپریشنز۔** حسابی آپریشنز کی درستگی کی جانچ کرنا بہت اہم ہے۔ ہر جگہ `SafeMath` کا استعمال اوور فلو/انڈر فلو کو روکنے کے لیے ایک اچھا قدم ہے، تاہم، آپ کو اب بھی دیگر حسابی خامیوں پر غور کرنا چاہیے، بشمول راؤنڈنگ کے مسائل اور وہ خامیاں جو کنٹریکٹ کو ٹریپ کرتی ہیں۔

  - Manticore یہاں بہترین انتخاب ہے۔ Echidna کا استعمال کیا جا سکتا ہے اگر حساب کتاب SMT سالور کے دائرہ کار سے باہر ہو۔

- **وراثت کی درستگی۔** Solidity کنٹریکٹس کثیر وراثت پر بہت زیادہ انحصار کرتے ہیں۔ غلطیاں جیسے کہ `super` کال سے محروم شیڈونگ فنکشن اور غلط تشریح شدہ c3 لینیئرائزیشن آرڈر آسانی سے متعارف ہو سکتے ہیں۔

  - Slither ان مسائل کا پتہ لگانے کو یقینی بنانے کا ٹول ہے۔

- **بیرونی تعاملات۔** کنٹریکٹس ایک دوسرے کے ساتھ تعامل کرتے ہیں، اور کچھ بیرونی کنٹریکٹس پر بھروسہ نہیں کرنا چاہیے۔ مثال کے طور پر، اگر آپ کا کنٹریکٹ بیرونی اوریکلز پر انحصار کرتا ہے، تو کیا یہ محفوظ رہے گا اگر آدھے دستیاب اوریکلز سے سمجھوتہ ہو جائے؟

  - Manticore اور Echidna آپ کے کنٹریکٹس کے ساتھ بیرونی تعاملات کی جانچ کے لیے بہترین انتخاب ہیں۔ Manticore میں بیرونی کنٹریکٹس کو اسٹب کرنے کے لیے ایک بلٹ ان میکانزم ہے۔

- **معیاری مطابقت۔** Ethereum معیارات (مثال کے طور پر، ERC20) کے ڈیزائن میں خامیوں کی ایک تاریخ ہے۔ اس معیار کی حدود سے آگاہ رہیں جس پر آپ تعمیر کر رہے ہیں۔
  - Slither، Echidna، اور Manticore آپ کو کسی دیے گئے معیار سے انحراف کا پتہ لگانے میں مدد کریں گے۔

### ٹول سلیکشن چیٹ شیٹ {#tool-selection-cheatsheet}

| جز              | ٹولز                        | مثالیں                                                                                                                                                                                                                                                                        |
| --------------- | --------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| اسٹیٹ مشین      | Echidna, Manticore          |                                                                                                                                                                                                                                                                               |
| رسائی کنٹرول    | Slither, Echidna, Manticore | [Slither exercise 2](https://github.com/crytic/slither/blob/7f54c8b948c34fb35e1d61adaa1bd568ca733253/docs/src/tutorials/exercise2.md)، [Echidna exercise 2](https://github.com/crytic/building-secure-contracts/blob/master/program-analysis/echidna/exercises/Exercise-2.md) |
| حسابی آپریشنز   | Manticore, Echidna          | [Echidna exercise 1](https://github.com/crytic/building-secure-contracts/blob/master/program-analysis/echidna/exercises/Exercise-1.md)، [Manticore exercises 1 - 3](https://github.com/crytic/building-secure-contracts/tree/master/program-analysis/manticore/exercises)     |
| وراثت کی درستگی | Slither                     | [Slither exercise 1](https://github.com/crytic/slither/blob/7f54c8b948c34fb35e1d61adaa1bd568ca733253/docs/src/tutorials/exercise1.md)                                                                                                                                         |
| بیرونی تعاملات  | Manticore, Echidna          |                                                                                                                                                                                                                                                                               |
| معیاری مطابقت   | Slither, Echidna, Manticore | [`slither-erc`](https://github.com/crytic/slither/wiki/ERC-Conformance)                                                                                                                                                                                                       |

آپ کے اہداف کے لحاظ سے دیگر علاقوں کی جانچ کرنے کی ضرورت ہوگی، لیکن توجہ کے یہ موٹے دانے والے علاقے کسی بھی اسمارٹ کنٹریکٹ سسٹم کے لیے ایک اچھی شروعات ہیں۔

ہمارے عوامی آڈٹس میں تصدیق شدہ یا آزمائی گئی پراپرٹیز کی مثالیں شامل ہیں۔ حقیقی دنیا کی سیکیورٹی پراپرٹیز کا جائزہ لینے کے لیے درج ذیل رپورٹس کے `Automated Testing and Verification` سیکشنز کو پڑھنے پر غور کریں:

- [0x](https://github.com/trailofbits/publications/blob/master/reviews/0x-protocol.pdf)
- [Balancer](https://github.com/trailofbits/publications/blob/master/reviews/BalancerCore.pdf)
