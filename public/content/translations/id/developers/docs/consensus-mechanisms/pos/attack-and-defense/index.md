---
title: Serangan dan pertahanan proof-of-stake Ethereum
description: Pelajari tentang vektor serangan yang diketahui pada proof-of-stake Ethereum dan bagaimana cara mempertahankannya.
lang: id
---

Pencuri dan penyabotase terus mencari peluang untuk menyerang perangkat lunak klien Ethereum. Halaman ini menguraikan vektor serangan yang diketahui pada lapisan konsensus Ethereum dan menguraikan bagaimana serangan tersebut dapat dipertahankan. Informasi pada halaman ini di adaptasi dari [https://mirror.xyz/jmcook.eth/YqHargbVWVNRQqQpVpzrqEQ8IqwNUJDIpwRP7SS5FXsverssi lama]

## Persyaratan {#prerequisites}

Beberapa pengetahuan dasar [proof of stake]/developers/docs/consensus-mechanisms/pos/ dibutuhkan  juga, dapat membantu mendapaatkan pemahaman dasar ethereum [interactive layer]/developers/docs/consensus-mechanisms/pos/rewards-and-penalties and fork choice algorithm, [LMD-GOHST/developers/docs/consensus-mechanisms/pos/gasper

## Apa yang diinginkan penyerang? {#what-do-attackers-want}

Kesalahpahaman yang umum terjadi adalah bahwa penyerang yang berhasil dapat menghasilkan ether baru, atau menguras ether dari akun-akun sembarangan. Kedua hal ini tidak mungkin terjadi karena semua transaksi dieksekusi oleh semua klien eksekusi di jaringan. Transaksi tersebut harus memenuhi syarat-syarat dasar keabsahan (contoh: transaksi ditandatangani oleh kunci pribadi pengirim, pengirim memiliki saldo yang cukup, dan sebagainya) atau transaksi tersebut akan dibatalkan. Ada tiga kelas hasil yang mungkin ditargetkan oleh penyerang secara realistis: reorganisasi, finalitas ganda, atau penundaan finalitas.

Reorg adalah pegaturan ulang blok kedalam urutan baru yang di tambahkan atau di buang dari chain utama. Reorganisasi yang berbahaya dapat memastikan blok tertentu disertakan atau dikecualikan, memungkinkan pengeluaran ganda atau ekstraksi nilai melalui transaksi yang berjalan di depan dan transaksi yang berjalan di belakang (MEV). Re-orgs juga dapat digunakan untuk mencegah transaksi tertentu agar tidak disertakan dalam rantai kanonik - suatu bentuk penyensoran. Bentuk paling ekstrem dari reorg adalah "finality reversion" yang menghapus atau mengganti blok yang sebelumnya telah difinalisasi. Hal ini hanya mungkin terjadi jika lebih dari ⅓ dari total eter yang dipertaruhkan dihancurkan oleh penyerang - jaminan ini dikenal sebagai "finalitas ekonomi" - lebih lanjut tentang hal ini nanti.

double finalty adalah kondisi yang jarang terjadi, nmun sana serius dimana dua fork dapat memfinalisasikan asecara bersamaan, sehinga menimbulkan perpecahan permanen pada chain Hal ini secara teoritis memungkinkan untuk penyerang yang bersedia mengambil risiko 34% dari total ether yang dipertaruhkan. komunitas akan di paksa utuk melakukan koordinnasi diluar chain dan sepakat mau mengikuti chain yang mana, yang memerlukan kekuatan lapisan sosial.

Finalty elay adalah serangan mencegah jaringan mencapai kondisi buat ngefinaize chain Tanpa finalitas, sulit untuk mempercayai aplikasi keuangan yang dibangun di atas Ethereum. Tujuan dari serangan penundaan finalitas kemungkinan besar hanya untuk mengganggu Ethereum dan bukan untuk mendapatkan keuntungan secara langsung, kecuali jika penyerang memiliki beberapa posisi short yang strategis.

Serangan pada lapisan sosial mungkin bertujuan untuk merusak kepercayaan publik terhadap Ethereum, mendevaluasi eter, mengurangi adopsi, atau melemahkan komunitas Ethereum untuk mempersulit koordinasi di luar jaringan.

sudah jelas kenapa ada yang mau nyerang ethereum, bagian berikutnya  akan di  jelaskan bagaimana serangan tersebut dapat dilakukan.

## metode serangan

### Lapisan 0 serangan

Pertama-tama, individu yang tidak berpartisipasi aktif dalam Ethereum (dengan menjalankan perangkat lunak klien) dapat menyerang dengan menargetkan lapisan sosial (Lapisan 0). Lapisan 0 adalah fondasi di mana Ethereum dibangun, dan dengan demikian, ini merupakan permukaan potensial untuk serangan dengan konsekuensi yang merembes ke seluruh tumpukan. Beberapa contoh mungkin termasuk:

- Kampanye informasi yang salah dapat mengikis kepercayaan komunitas terhadap peta jalan Ethereum, tim pengembang, aplikasi, dll. Hal ini kemudian dapat mengurangi jumlah individu yang bersedia untuk berpartisipasi dalam mengamankan jaringan, menurunkan desentralisasi dan keamanan ekonomi kripto.

- Serangan yang ditargetkan dan/atau intimidasi yang ditujukan kepada komunitas pengembang. Hal ini dapat menyebabkan keluarnya para pengembang secara sukarela dan memperlambat kemajuan Ethereum.

- Regulasi yang terlalu bersemangat juga dapat dianggap sebagai serangan terhadap Layer 0, karena dapat dengan cepat menghilangkan partisipasi dan adopsi.

- Penyusupan aktor-aktor yang berpengetahuan luas namun berniat jahat ke dalam komunitas pengembang yang bertujuan untuk memperlambat kemajuan dengan diskusi yang tidak jelas, menunda keputusan-keputusan penting, membuat spam, dan lain-lain.

- Suap yang diberikan kepada para pemain kunci dalam ekosistem Ethereum untuk mempengaruhi pengambilan keputusan.

Apa yang membuat serangan ini sangat berbahaya adalah bahwa dalam banyak kasus, sangat sedikit modal atau pengetahuan teknis yang diperlukan. Serangan Layer 0 dapat menjadi pengganda pada serangan ekonomi kripto. Misalnya, jika penyensoran atau pembalikan hasil akhir dilakukan oleh pemangku kepentingan mayoritas yang jahat, merusak lapisan sosial dapat mempersulit koordinasi respons komunitas di luar jalur.

Mempertahankan diri dari serangan Layer 0 mungkin tidak mudah, tetapi beberapa prinsip dasar dapat ditetapkan. Salah satunya adalah mempertahankan rasio signal to noise yang tinggi secara keseluruhan untuk informasi publik tentang Ethereum, yang dibuat dan disebarkan oleh anggota komunitas yang jujur melalui blog, server perselisihan, spesifikasi yang beranotasi, buku, podcast, dan Youtube. Di ethereum.org, kami berusaha keras untuk mempertahankan informasi yang akurat dan menerjemahkannya ke dalam sebanyak mungkin bahasa. Membanjiri ruang dengan informasi dan meme berkualitas tinggi adalah pertahanan yang efektif untuk melawan informasi yang salah.

Benteng penting lainnya terhadap serangan lapisan sosial adalah pernyataan misi dan protokol tata kelola yang jelas. Ethereum telah memposisikan dirinya sebagai juara desentralisasi dan keamanan di antara smart-contract layer 1, sementara juga sangat menghargai skalabilitas dan keberlanjutan. Apapun ketidaksepakatan yang muncul dalam komunitas Ethereum, prinsip-prinsip inti ini tidak akan terganggu. Menilai sebuah narasi terhadap prinsip-prinsip inti ini, dan memeriksanya melalui putaran peninjauan yang berurutan dalam proses EIP (Ethereum Improvement Proposal), dapat membantu komunitas untuk membedakan yang baik dan yang buruk, serta membatasi ruang lingkup aktor jahat untuk mempengaruhi arah masa depan Ethereum.

Terakhir, sangat penting bahwa komunitas Ethereum tetap terbuka dan ramah kepada semua peserta. Komunitas dengan penjaga gerbang dan eksklusivitas adalah komunitas yang sangat rentan terhadap serangan sosial karena mudah untuk membangun narasi "kita dan mereka". Tribalisme dan maksimalisme beracun merugikan komunitas dan mengikis keamanan Layer 0. Para pengguna Ethereum yang berkepentingan dengan keamanan jaringan harus melihat perilaku mereka secara online dan di meatspace sebagai kontributor langsung terhadap keamanan Layer 0 Ethereum.

### Penyerangan Protokol

Siapa pun dapat menjalankan perangkat lunak klien Ethereum. Untuk menambahkan validator ke klien, pengguna diharuskan untuk mempertaruhkan 32 ether ke dalam kontrak setoran. Validator memungkinkan pengguna untuk berpartisipasi aktif dalam keamanan jaringan Ethereum dengan mengusulkan dan mengesahkan blok baru. Validator sekarang memiliki suara yang dapat mereka gunakan untuk memengaruhi konten blockchain di masa depan - mereka dapat melakukannya dengan jujur dan mengembangkan simpanan ether mereka melalui reward, atau mereka dapat mencoba memanipulasi proses untuk keuntungan mereka sendiri, dengan mempertaruhkan kepemilikan mereka. Salah satu cara untuk melancarkan serangan adalah dengan mengakumulasi proporsi yang lebih besar dari total taruhan dan kemudian menggunakannya untuk mengalahkan validator yang jujur. Semakin besar proporsi saham yang dikendalikan oleh penyerang, semakin besar pula kekuatan suara mereka, terutama pada tonggak ekonomi tertentu yang akan kita bahas nanti. Akan tetapi, sebagian besar penyerang tidak akan dapat mengumpulkan ether yang cukup untuk menyerang dengan cara ini, sehingga mereka harus menggunakan teknik-teknik halus untuk memanipulasi mayoritas yang jujur untuk bertindak dengan cara tertentu.

Pada dasarnya, semua serangan small-stake adalah variasi halus dari dua jenis perilaku buruk validator: kurang aktif (gagal mengesahkan/mengajukan atau terlambat melakukannya) atau terlalu aktif (mengajukan/mengesahkan terlalu sering dalam satu slot). Dalam bentuknya yang paling sederhana, tindakan-tindakan ini dengan mudah ditangani oleh algoritme fork-choice dan lapisan insentif, tetapi ada beberapa cara cerdas untuk mempermainkan sistem demi keuntungan penyerang.

### Menyerang menggunakan eth jumlah kecil

#### REORG{#reorgs}

Beberapa makalah telah menjelaskan serangan terhadap Ethereum yang mencapai reorg atau penundaan finalitas hanya dengan sebagian kecil dari total eter yang dipertaruhkan. Serangan ini umumnya bergantung pada penyerang yang menahan beberapa informasi dari validator lain dan kemudian melepaskannya dengan cara tertentu dan/atau pada saat yang tepat. Mereka biasanya bertujuan untuk memindahkan beberapa blok yang jujur dari rantai kanonik. [neuder et al 2020](https://arxiv.org/pdf/2102.02247.pdf) menunjukkan bagaimana validator penyerang dapat membuat dan membuktikan suatu blok (`B`) untuk slot tertentu `n+1` tetapi tidak menyebarkannya ke node lain di jaringan. Sebaliknya mereka hold block yang telah di attest tersebut hingga slot berikutnya 'n+2' Validator yang fair ngepropose blok (C) untuk slot 'n+2' Hampir secara bersamaan, attacker dapat ngeepas blok (B) yang di tahan beserta attestasi yang ditahanya.terus mereka ngetes attestasi'B' adalah head dari rantai dengan suara mereka untuk slot n+2, sehingga secara efektif menolak keberadaan blok jujur C. Ketika blok `D` yang jujur dirilis, algoritma pemilihan fork melihat bahwa `D` yang dibangun di atas `B` lebih berat daripada `D` yang dibangun di atas `C`. Oleh karena itu, penyerang berhasil menghapus blok jujur ​​`C` di slot `n+2` dari rantai kanonik menggunakan reorganisasi ex ante 1 blok. [seorang penyerang dengan 34%](https://www.youtube.com/watch?v=6vzXwwk12ZE) saham memiliki peluang yang sangat bagus untuk berhasil dalam serangan ini, seperti yang dijelaskan [dalam catatan ini](https://notes.ethereum.org/plgVdz-ORe-fGjK06BZ_3A#Fork-choice-by-block-slot-pair). Namun, secara teori, serangan ini dapat dicoba dengan staking yang lebih kecil. [Neuder et al 2020]
(https://arxiv.org/pdf/2102.02247.pdf) menjelaskan serangan ini dapat dilakukan dengan 30% stake, tetapi kemudian ditunjukkan bahwa serangan ini bisa dilakukan dengan [2% dari total stake] (https://arxiv.org/pdf/2009.04987.pdf) dan bahkan dengan [satu validator] (https://arxiv.org/abs/2110.10086#) menggunakan teknik balancing yang akan kita bahas di bagian berikutnya.

![reorganisasi ex-ante](reorg-schematic.png)

Diagram konseptual dari serangan reorg satu blok yang dijelaskan di atas (diadaptasi dari https://notes.ethereum.org/plgVdz-ORe-fGjK06BZ_3A#Fork-choice-by-block-slot-pair)

Serangan yang lebih canggih dapat memecah kumpulan validator yang jujur menjadi beberapa kelompok terpisah yang memiliki pandangan yang berbeda dari kepala rantai. Ini dikenal sebagai **serangan penyeimbang**. Penyerang menunggu kesempatan untuk mengajukan blok, dan ketika kesempatan itu tiba, mereka akan menyamar dan mengajukan dua blok. Mereka mengirim satu blok ke setengah dari set validator yang jujur dan blok lainnya ke setengah lainnya. Penyamaran akan terdeteksi oleh algoritma fork-choice dan pengusul blok akan dipotong dan dikeluarkan dari jaringan, tetapi kedua blok tersebut akan tetap ada dan akan memiliki sekitar setengah dari set validator yang membuktikan setiap fork. Sementara itu, validator jahat yang tersisa menahan pengesahan mereka. Kemudian, dengan secara selektif melepaskan pengesahan yang mendukung satu atau beberapa fork ke validator yang cukup saat algoritma fork-choice dieksekusi, mereka memberikan bobot akumulasi pengesahan yang mendukung satu atau beberapa fork. Hal ini dapat berlanjut tanpa batas waktu, dengan validator yang menyerang mempertahankan pembagian validator yang merata di kedua garpu. Karena tidak ada satu pun fork yang dapat menarik supermayoritas 2/3, jaringan tidak akan selesai.

**Serangan memantul** serupa. Suara kembali ditahan oleh validator yang menyerang. Alih-alih melepaskan suara untuk menjaga pembagian yang seimbang antara dua fork, mereka menggunakan suara mereka pada saat yang tepat untuk membenarkan titik-titik pemeriksaan yang bergantian antara fork A dan fork B. Pembalikan pembenaran di antara dua fork ini mencegah adanya pasangan titik-titik pemeriksaan sumber dan target yang dibenarkan yang dapat diselesaikan di salah satu rantai, menghentikan finalitas.

<YouTube id="xcPxwhrg3Ao"/>

Baik serangan bouncing maupun balancing bergantung pada penyerang yang memiliki kontrol yang sangat baik atas waktu pesan di seluruh jaringan, yang tidak mungkin terjadi. Namun demikian, pertahanan dibangun ke dalam protokol dalam bentuk pembobotan tambahan yang diberikan kepada pesan yang cepat dibandingkan dengan pesan yang lambat. Ini dikenal sebagai [peningkatan bobot pengusul](https://github.com/ethereum/consensus-specs/pull/2730). Untuk melindungi dari serangan bouncing, algoritma fork-choice diperbarui sehingga latest justified checkpoint hanya dapat beralih ke rantai alternatif selama [1/3 pertama slot di setiap epoch](https://ethresear.ch/t/prevention-of-bouncing-attack-on-ffg/6114). Kondisi ini mencegah penyerang untuk menyimpan suara untuk digunakan nanti - algoritma pilihan fork hanya tetap setia pada checkpoint yang dipilihnya pada 1/3 pertama dari epoch di mana sebagian besar validator yang jujur akan memberikan suara.

Jika digabungkan, langkah-langkah ini menciptakan sebuah skenario dimana pengusul blok yang jujur mengeluarkan blok mereka dengan sangat cepat setelah dimulainya slot, kemudian ada periode ~ 1/3 slot (4 detik) di mana blok baru tersebut dapat menyebabkan algoritma fork-choice beralih ke rantai yang lain. Setelah tenggat waktu yang sama, pengesahan yang datang dari validator yang lambat akan diberi bobot lebih rendah dibandingkan dengan yang datang lebih awal. Hal ini sangat membantu para pengusul dan validator yang cepat dalam menentukan kepala rantai dan secara substansial mengurangi kemungkinan terjadinya serangan balancing atau serangan balik.

Perlu dicatat bahwa proposer boosting sendiri hanya melindungi dari "reorg murahan", yaitu yang dicoba oleh penyerang dengan taruhan kecil. Faktanya, pengajuan proposal itu sendiri dapat dipermainkan oleh pemangku kepentingan yang lebih besar. Penulis [posting ini](https://ethresear.ch/t/change-fork-choice-rule-to-mitigate-balancing-and-reorging-attacks/11127) menjelaskan bagaimana seorang penyerang dengan 7% dari stake dapat menempatkan suara mereka secara strategis untuk menipu validator jujur agar membangun di fork mereka, sehingga reorg menghapus blok jujur. Serangan ini dirancang dengan mengasumsikan kondisi latensi ideal yang sangat tidak mungkin terjadi. Peluangnya masih sangat panjang bagi penyerang, dan taruhan yang lebih besar juga berarti lebih banyak modal yang dipertaruhkan dan disinsentif ekonomi yang lebih kuat.

[serangan penyeimbang yang secara khusus menargetkan aturan lmd](https://ethresear.ch/t/balancing-attack-lmd-edition/11853) juga diusulkan, yang dianggap layak meskipun ada peningkatan pengusul. Seorang penyerang membuat dua rantai yang bersaing dengan menyamarkan proposal blok mereka dan menyebarkan masing-masing blok ke sekitar setengah jaringan, membuat perkiraan keseimbangan di antara kedua fork tersebut. Kemudian, para validator yang berkolusi menyamakan suara mereka, mengatur waktunya sehingga separuh jaringan menerima suara mereka untuk Fork `A` terlebih dahulu dan separuh lainnya menerima suara mereka untuk Fork `B` terlebih dahulu. Karena aturan LMD membuang pengesahan kedua dan hanya menyimpan yang pertama untuk setiap validator, separuh jaringan melihat suara untuk `A` dan tidak ada suara untuk `B`, separuh lainnya melihat suara untuk `B` dan tidak ada suara untuk `A`. Para penulis menggambarkan aturan LMD memberikan "kekuatan luar biasa" kepada musuh untuk melakukan serangan penyeimbang.

Vektor serangan lmd ini ditutup dengan [memperbarui algoritma pilihan fork](https://github.com/ethereum/consensus-specs/pull/2845) sehingga membuang validator yang meragukan dari pertimbangan pilihan fork secara keseluruhan. Validator yang tidak jelas juga memiliki pengaruh di masa depan yang didiskon oleh algoritme pilihan garpu. Hal ini mencegah serangan penyeimbang yang diuraikan di atas sekaligus mempertahankan ketahanan terhadap serangan longsoran salju.

Kelas serangan lain, yang disebut [**serangan longsor**](https://ethresear.ch/t/avalanche-attack-on-proof-of-stake-ghost/11854/3), dijelaskan dalam [makalah Maret 2022](https://arxiv.org/pdf/2203.01315.pdf). Untuk melakukan serangan longsoran, penyerang harus mengendalikan beberapa pengusul blok secara berurutan. Di setiap slot proposal blok, penyerang menahan blok mereka, mengumpulkannya hingga rantai yang jujur mencapai bobot sub-pohon yang sama dengan blok yang ditahan. Kemudian, blok yang ditahan dilepaskan sehingga mereka menyamarkan secara maksimal. Para penulis menyarankan bahwa penguat pengusung - pertahanan utama terhadap serangan balancing dan bouncing - tidak melindungi dari beberapa varian serangan longsoran. Akan tetapi, penulis juga hanya mendemonstrasikan serangan tersebut pada versi yang sangat ideal dari algoritma fork-choice Ethereum (mereka menggunakan GHOST tanpa LMD).

Serangan longsoran salju dimitigasi oleh bagian LMD dari algoritme pilihan garpu LMD-GHOST. LMD berarti "latest-message-driven" dan mengacu pada tabel yang disimpan oleh setiap validator yang berisi pesan terbaru yang diterima dari validator lain. Bidang tersebut hanya diperbarui jika pesan baru berasal dari slot yang lebih baru daripada yang sudah ada di tabel untuk validator tertentu. Dalam praktiknya, ini berarti bahwa dalam setiap slot, pesan pertama yang diterima adalah pesan yang diterima dan pesan tambahan lainnya akan diabaikan. Dengan kata lain, klien konsensus tidak menghitung equivokasi - mereka menggunakan pesan yang tiba pertama kali dari setiap validator dan equivokasi dibuang begitu saja, sehingga mencegah serangan longsor.

Ada beberapa potensi peningkatan lain di masa depan pada aturan pilihan fork yang dapat menambah keamanan yang disediakan oleh proposer-boost. Salah satunya adalah [view-merge](https://ethresear.ch/t/view-merge-as-a-replacement-for-proposer-boost/13739), di mana attester membekukan pandangan mereka terhadap fork choice n detik sebelum awal slot, dan proposer kemudian membantu menyinkronkan pandangan rantai di seluruh jaringan. Peningkatan potensial lainnya adalah [single-slot finality](https://notes.ethereum.org/@vbuterin/single_slot_finality), yang melindungi terhadap serangan berbasis waktu pengiriman pesan dengan memfinalisasi rantai setelah hanya satu slot.

#### Penundaan Finalitas {#finality-delay}

[Makalah yang sama] (https://econcs.pku.edu.cn/wine2020/wine2020/Workshop/GTiB20_paper_8.pdf) yang pertama kali mendeskripsikan serangan reorganisasi blok tunggal berbiaya rendah juga mendeskripsikan serangan penundaan finalitas (a.k.a. “kegagalan hidup”) yang bergantung pada penyerang sebagai pengusul blok untuk blok batas waktu. Hal ini sangat penting karena blok-blok batas zaman ini menjadi pos pemeriksaan yang digunakan Casper FFG untuk menyelesaikan bagian-bagian rantai. Penyerang hanya menahan blok mereka sampai cukup banyak validator yang jujur menggunakan suara FFG mereka untuk mendukung blok batas waktu sebelumnya sebagai target finalisasi saat ini. Kemudian mereka melepaskan blok yang ditahan. Mereka membuktikan blok mereka dan validator jujur yang tersisa juga melakukan hal yang sama dengan membuat fork dengan target checkpoint yang berbeda. Jika mereka mengatur waktunya dengan tepat, mereka akan mencegah finalitas karena tidak akan ada supermayoritas 2/3 yang mendukung salah satu fork. Semakin kecil taruhannya, semakin tepat waktu yang dibutuhkan karena penyerang mengontrol lebih sedikit pengesahan secara langsung, dan semakin rendah kemungkinan penyerang mengontrol validator yang mengusulkan blok batas waktu tertentu.

#### Serangan jarak jauh

Ada juga kelas serangan khusus untuk blockchain proof-of-stake yang melibatkan validator yang berpartisipasi dalam blok genesis yang mempertahankan fork terpisah dari blockchain bersama dengan yang jujur, yang pada akhirnya meyakinkan validator yang jujur untuk beralih ke fork tersebut pada waktu yang tepat di kemudian hari. Jenis serangan ini tidak mungkin terjadi di Ethereum karena adanya alat finalitas yang memastikan semua validator menyetujui keadaan rantai yang jujur secara berkala ("pos pemeriksaan"). Mekanisme sederhana ini menetralisir penyerang jarak jauh karena klien Ethereum tidak akan mengatur ulang blok yang sudah selesai. Node baru yang bergabung dengan jaringan melakukannya dengan menemukan hash status terkini yang terpercaya (sebuah “[subjektivitas yang lemah](https://blog.ethereum.org/2014/11/25/proof-stake-learned-love-weak-subjectivity/) checkpoint”) dan menggunakannya sebagai blok pseudo-genesis untuk dibangun di atasnya. Hal ini menciptakan 'gerbang kepercayaan' untuk simpul baru yang memasuki jaringan sebelum simpul tersebut dapat mulai memverifikasi informasi untuk dirinya sendiri.

#### Penolakan Layanan {#penolakan layanan}

Mekanisme PoS Ethereum memilih satu validator dari total validator yang ditetapkan untuk menjadi pengusul blok di setiap slot. Ethereum's PoS mechanism selects one validator from the total validators assigned to be the block proposer in each slot. Kemudian, penyerang dapat mengirim spam kepada pengusul blokir untuk mencegah mereka bertukar informasi dengan rekan-rekan mereka. Bagi seluruh jaringan, akan terlihat bahwa pengusul blok sedang offline dan slotnya akan kosong. Ini dapat menjadi sebuah bentuk penyensoran terhadap validator tertentu, mencegah mereka untuk menambahkan informasi ke dalam blockchain. Menerapkan pemilihan pemimpin rahasia tunggal (SSLE) atau pemilihan pemimpin rahasia non-single akan mengurangi risiko DoS karena hanya pengusul blok yang mengetahui bahwa mereka telah dipilih dan pemilihan tidak dapat diketahui sebelumnya. Hal ini belum diimplementasikan, tetapi merupakan area aktif [penelitian dan pengembangan] (https://ethresear.ch/t/secret-non-single-leader-election/11789).

Semua ini menunjukkan fakta bahwa sangat sulit untuk berhasil menyerang Ethereum dengan saham yang kecil. Serangan yang dapat dilakukan yang telah dijelaskan di sini membutuhkan algoritma fork-choice yang ideal, kondisi jaringan yang tidak memungkinkan, atau vektor serangan telah ditutup dengan patch yang relatif kecil pada perangkat lunak klien. Hal ini, tentu saja, tidak mengesampingkan kemungkinan adanya zero-day di alam liar, tetapi hal ini menunjukkan standar yang sangat tinggi untuk kemampuan teknis, pengetahuan lapisan konsensus, dan keberuntungan yang diperlukan agar penyerang yang memiliki saham minoritas dapat menjadi efektif. Dari sudut pandang penyerang, taruhan terbaik mereka mungkin adalah mengumpulkan ether sebanyak mungkin dan kembali dengan proporsi yang lebih besar dari total taruhan.

### Penyerang menggunakan >= 33% dari total taruhan {#penyerang-dengan-33-taruhan}

Semua serangan yang disebutkan sebelumnya dalam artikel ini menjadi lebih mungkin untuk berhasil ketika penyerang memiliki lebih banyak ether yang dipertaruhkan untuk dipilih, dan lebih banyak validator yang dapat dipilih untuk mengajukan blok di setiap slot. Oleh karena itu, validator yang jahat mungkin bertujuan untuk mengontrol sebanyak mungkin eter yang dipertaruhkan.

33% dari ether yang dipertaruhkan merupakan tolak ukur untuk penyerang karena dengan jumlah yang lebih besar dari jumlah ini, mereka memiliki kemampuan untuk mencegah rantai untuk menyelesaikannya tanpa harus mengontrol dengan baik tindakan validator lainnya. Mereka bisa saja menghilang bersamaan. Jika 1/3 atau lebih dari ether yang dipertaruhkan membuktikan secara jahat atau gagal membuktikan, maka supermayoritas 2/3 tidak dapat ada dan rantai tidak dapat diselesaikan. Pertahanan terhadap hal ini adalah kebocoran aktivitas. Kebocoran ketidakaktifan mengidentifikasi validator yang gagal membuktikan atau membuktikan bertentangan dengan mayoritas. Ether yang dipertaruhkan yang dimiliki oleh validator yang tidak melakukan pengujian ini secara bertahap dihilangkan hingga akhirnya mereka secara kolektif mewakili kurang dari 1/3 dari total sehingga rantai tersebut dapat diselesaikan kembali.

Tujuan dari kebocoran ketidakaktifan ini adalah untuk menyelesaikan rantai kembali. Namun, penyerang juga kehilangan sebagian dari ether yang dipertaruhkan. Ketidakaktifan yang terus-menerus di seluruh validator yang mewakili 33% dari total eter yang dipertaruhkan sangat mahal meskipun validator tidak dipotong.

Dengan asumsi bahwa jaringan Ethereum bersifat asinkron (yaitu terdapat penundaan antara pesan yang dikirim dan diterima), seorang penyerang yang mengendalikan 34% dari total taruhan dapat menyebabkan finalitas ganda. Hal ini dikarenakan penyerang dapat mengelabui ketika mereka terpilih menjadi produsen blok, kemudian memberikan suara ganda kepada semua validator mereka. Hal ini menciptakan sebuah situasi di mana sebuah fork dari blockchain ada, masing-masing dengan 34% dari ether yang dipertaruhkan memilihnya. Setiap fork hanya membutuhkan 50% dari validator yang tersisa untuk memberikan suara yang mendukung agar kedua fork didukung oleh supermayoritas, dalam hal ini kedua rantai dapat diselesaikan (karena 34% validator penyerang + setengah dari 66% yang tersisa = 67% pada setiap fork). Blok-blok yang bersaing masing-masing harus diterima oleh sekitar 50% dari validator yang jujur, sehingga serangan ini hanya dapat dilakukan jika penyerang memiliki kontrol terhadap waktu dari pesan yang menyebar melalui jaringan, sehingga mereka dapat menyenggol setengah dari validator yang jujur ke dalam setiap rantai. Penyerang harus menghancurkan seluruh stake mereka (34% dari ~10 juta ether dengan set validator hari ini) untuk mencapai finalitas ganda ini karena 34% dari validator mereka akan melakukan pemungutan suara ganda secara bersamaan - sebuah pelanggaran yang dapat ditebas dengan penalti korelasi maksimum. Pertahanan terhadap serangan ini adalah biaya yang sangat besar untuk menghancurkan 34% dari total eter yang dipertaruhkan. Pemulihan dari serangan ini akan membutuhkan komunitas Ethereum untuk berkoordinasi "out-of-band" dan setuju untuk mengikuti salah satu fork dan mengabaikan fork lainnya.

### Penyerang menggunakan ~50% dari total taruhan {#penyerang-dengan-50-taruhan}

Pada 50% ether yang dipertaruhkan, sekelompok validator yang nakal secara teoritis dapat membagi rantai menjadi dua garpu yang berukuran sama dan kemudian dengan mudah menggunakan seluruh 50% saham mereka untuk memberikan suara yang berlawanan dengan himpunan validator yang jujur, dengan demikian mempertahankan kedua garpu tersebut dan mencegah finalitas. Kebocoran ketidakaktifan pada kedua fork pada akhirnya akan membuat kedua rantai tersebut berakhir. Pada titik ini, satu-satunya pilihan adalah kembali ke pemulihan sosial.

Sangat kecil kemungkinannya bagi sekelompok validator yang bersifat adversarial untuk secara konsisten mengendalikan tepat 50% dari total stake, mengingat adanya fluktuasi jumlah validator yang jujur, latensi jaringan, dan faktor lainnya. Biaya besar untuk melancarkan serangan semacam itu, dikombinasikan dengan rendahnya kemungkinan keberhasilan, tampaknya menjadi penghalang yang kuat bagi penyerang yang rasional, apalagi ketika investasi tambahan yang kecil untuk mendapatkan _lebih dari_ 50% dapat memberikan kekuatan yang jauh lebih besar.

Dengan memiliki >50% dari total stake, penyerang dapat mendominasi algoritma pemilihan fork. Dalam kasus ini, penyerang akan dapat membuktikan dengan suara mayoritas, memberikan mereka kontrol yang cukup untuk melakukan reorganisasi singkat tanpa perlu menipu klien yang jujur. Validator yang jujur akan mengikutinya karena algoritma pemilihan fork mereka juga akan melihat rantai yang disukai penyerang sebagai yang terberat, sehingga rantai tersebut dapat diselesaikan. Hal ini memungkinkan penyerang untuk menyensor transaksi tertentu, melakukan reorganisasi jarak pendek dan mengekstrak MEV maksimum dengan menyusun ulang blok-blok yang menguntungkan mereka. Pertahanan terhadap hal ini adalah biaya yang sangat besar dari saham mayoritas (saat ini hanya di bawah $19 miliar USD) yang ditempatkan dalam risiko oleh penyerang karena lapisan sosial kemungkinan besar akan turun tangan dan mengadopsi fork minoritas yang jujur, sehingga mendevaluasi saham penyerang secara dramatis.

### Penyerang menggunakan >=66% dari total taruhan {#penyerang-dengan-66-taruhan}

Seorang penyerang dengan 66% atau lebih dari total ether yang dipertaruhkan dapat menyelesaikan rantai yang mereka inginkan tanpa harus memaksa validator yang jujur. Penyerang dapat dengan mudah memilih fork yang mereka sukai dan kemudian menyelesaikannya, hanya karena mereka dapat memberikan suara dengan supermayoritas yang tidak jujur. Sebagai pemegang saham supermayoritas, penyerang akan selalu mengontrol isi blok yang telah selesai, dengan kekuatan untuk membelanjakan, memundurkan, dan membelanjakan lagi, menyensor transaksi tertentu, dan mengatur ulang rantai sesuka hati. Dengan membeli ether tambahan untuk mengontrol 66% alih-alih 51%, penyerang secara efektif membeli kemampuan untuk melakukan reorg ex post dan pembalikan finalitas (yaitu, mengubah masa lalu serta mengontrol masa depan). Satu-satunya pertahanan yang nyata di sini adalah biaya yang sangat besar yaitu 66% dari total eter yang dipertaruhkan, dan opsi untuk kembali ke lapisan sosial untuk mengoordinasikan adopsi garpu alternatif. Kita bisa menjelajahi hal ini secara lebih rinci di bagian berikutnya.

## Orang: garis pertahanan terakhir {#orang-garis-pertahanan-terakhir}

Jika validator yang tidak jujur berhasil menyelesaikan versi rantai yang mereka sukai, komunitas Ethereum akan berada dalam situasi yang sulit. Rantai kanonik memiliki bagian yang tidak jujur yang tertanam dalam sejarahnya, sementara validator yang jujur bisa saja dihukum karena membuktikan rantai alternatif (yang jujur). Perhatikan bahwa rantai yang sudah selesai tetapi salah juga dapat muncul dari bug pada klien mayoritas. Pada akhirnya, jalan keluar yang paling tepat adalah dengan mengandalkan lapisan sosial - Lapisan 0 - untuk menyelesaikan situasi tersebut.

Salah satu kekuatan konsensus PoS Ethereum adalah adanya beragam [strategi pertahanan] (https://youtu.be/1m12zgJ42dI?t=1712) yang dapat digunakan komunitas saat menghadapi serangan. Tanggapan minimal dapat berupa keluarnya secara paksa validator penyerang dari jaringan tanpa penalti tambahan. Untuk masuk kembali ke jaringan, penyerang harus bergabung dengan antrian aktivasi yang memastikan set validator tumbuh secara bertahap. Sebagai contoh, menambahkan validator yang cukup untuk menggandakan jumlah eter yang dipertaruhkan membutuhkan waktu sekitar 200 hari, secara efektif membeli validator yang jujur 200 hari sebelum penyerang dapat mencoba serangan 51% lainnya. Namun, komunitas juga dapat memutuskan untuk menghukum penyerang dengan lebih keras, dengan mencabut hadiah yang telah diberikan atau membakar sebagian (hingga 100%) dari modal yang dipertaruhkan.

Apapun hukuman yang dijatuhkan kepada penyerang, komunitas juga harus memutuskan bersama apakah rantai yang tidak jujur, meskipun merupakan rantai yang disukai oleh algoritma pilihan fork yang dikodekan ke dalam klien Ethereum, pada kenyataannya tidak valid dan komunitas harus membangun di atas rantai yang jujur sebagai gantinya. Validator yang jujur dapat secara kolektif setuju untuk membangun di atas fork blockchain Ethereum yang diterima oleh komunitas yang mungkin, sebagai contoh, telah bercabang dari rantai kanonik sebelum serangan dimulai atau validator penyerang dihapus secara paksa. Validator yang jujur akan mendapatkan insentif untuk membangun rantai ini karena mereka akan terhindar dari hukuman yang diterapkan kepada mereka karena gagal (dengan benar) membuktikan rantai penyerang. Pertukaran, on-ramp dan aplikasi yang dibangun di atas Ethereum mungkin akan lebih memilih untuk berada di rantai yang jujur dan akan mengikuti validator yang jujur ke blockchain yang jujur.

Namun, hal ini akan menjadi tantangan tata kelola yang besar. Beberapa pengguna dan validator tidak diragukan lagi akan mengalami kerugian sebagai akibat dari peralihan kembali ke rantai yang jujur, transaksi dalam blok yang divalidasi setelah serangan berpotensi untuk dibatalkan, mengganggu lapisan aplikasi, dan hal ini merusak etika beberapa pengguna yang cenderung percaya bahwa "kode adalah hukum". Bursa dan aplikasi kemungkinan besar memiliki aksi off-chain yang terkait dengan transaksi on-chain yang sekarang bisa dibatalkan, memicu rantai pembatalan dan revisi yang sulit diurai secara adil, terutama jika keuntungan yang diperoleh secara tidak sah telah dicampur, disetorkan ke DeFi, atau derivatif lain dengan efek sekunder bagi pengguna jujur. Tidak diragukan lagi, beberapa pengguna, bahkan mungkin pengguna institusional, telah diuntungkan oleh rantai yang tidak jujur, baik karena kelihaian mereka atau karena kebetulan, dan mungkin menentang fork untuk melindungi keuntungan mereka. Telah ada seruan untuk melatih respons komunitas terhadap serangan >51%, sehingga mitigasi yang terkoordinasi dan masuk akal dapat dilakukan dengan cepat. Ada beberapa diskusi berguna oleh Vitalik di ethresear.ch [di sini] (https://ethresear.ch/t/timeliness-detectors-and-51-attack-recovery-in-blockchains/6925) dan [di sini] (https://ethresear.ch/t/responding-to-51-attacks-in-casper-ffg/6363) serta di Twitter [di sini] (https://twitter.com/skylar_eth/status/1551798684727508992?s=20&t=oHZ1xv8QZdOgAXhxZKtHEw). Tujuan dari respons sosial yang terkoordinasi haruslah sangat terarah dan spesifik dalam menghukum penyerang dan meminimalisir efek bagi pengguna lain.

Tata kelola sudah menjadi topik yang rumit. Mengelola respons darurat Layer-0 terhadap rantai finalisasi yang tidak jujur tentu akan menjadi tantangan bagi komunitas Ethereum, tetapi hal ini [pernah terjadi](/ethereum-forks/#dao-fork-summary) - [dua kali](/ethereum-forks/#tangerine-whistle) - dalam sejarah Ethereum).

Namun demikian, ada sesuatu yang cukup memuaskan di bagian akhir yang duduk di ruang daging. Pada akhirnya, bahkan dengan tumpukan teknologi fenomenal di atas kita, jika hal terburuk terjadi, orang-orang nyata harus mengoordinasikan jalan keluarnya.

## Rangkuman {#summary}

Halaman ini mengeksplorasi beberapa cara yang mungkin dilakukan oleh para penyerang untuk mengeksploitasi protokol konsensus proof-of-stake Ethereum. Reorganisasi dan penundaan finalitas dieksplorasi untuk penyerang dengan proporsi yang meningkat dari total eter yang dipertaruhkan. Secara keseluruhan, penyerang yang lebih kaya memiliki lebih banyak kesempatan untuk sukses karena saham mereka diterjemahkan ke dalam kekuatan voting yang dapat mereka gunakan untuk mempengaruhi isi blok di masa depan. Pada jumlah ambang batas tertentu dari eter yang dipertaruhkan, kekuatan penyerang meningkat:

33%: penundaan penyelesaian

34%: penundaan finalitas, finalitas ganda

51%: penundaan finalitas, finalitas ganda, penyensoran, kontrol atas masa depan blockchain

66%: penundaan finalitas, finalitas ganda, penyensoran, kontrol atas masa depan dan masa lalu blockchain

Ada juga berbagai serangan yang lebih canggih yang membutuhkan sejumlah kecil eter yang dipertaruhkan tetapi bergantung pada penyerang yang sangat canggih yang memiliki kontrol yang baik atas waktu pesan untuk mempengaruhi validator yang jujur yang ditetapkan untuk kepentingan mereka.

Secara keseluruhan, terlepas dari vektor-vektor serangan potensial ini, risiko serangan yang berhasil adalah rendah, tentu saja lebih rendah daripada yang setara dengan bukti kerja. Hal ini dikarenakan biaya yang sangat besar dari staked ether yang dipertaruhkan oleh penyerang yang bertujuan untuk membanjiri validator yang jujur dengan kekuatan voting mereka. Lapisan insentif "wortel dan tongkat" yang ada di dalamnya melindungi dari sebagian besar penyalahgunaan, terutama untuk penyerang dengan taruhan rendah. Serangan bouncing dan balancing yang lebih halus juga tidak mungkin berhasil karena kondisi jaringan yang sebenarnya membuat kontrol yang baik atas pengiriman pesan ke subset tertentu dari validator menjadi sangat sulit untuk dicapai, dan tim klien telah dengan cepat menutup vektor serangan bouncing, balancing, dan longsoran salju yang diketahui dengan tambalan sederhana.

34%, 51%, atau 66% serangan kemungkinan besar akan membutuhkan koordinasi sosial di luar jaringan untuk mengatasinya. Meskipun hal ini mungkin akan menyakitkan bagi komunitas, kemampuan komunitas untuk merespons di luar jalur merupakan disinsentif yang kuat bagi penyerang. Lapisan sosial Ethereum adalah penghalang utama - serangan yang berhasil secara teknis masih dapat dilumpuhkan oleh komunitas yang setuju untuk mengadopsi fork yang jujur. Akan ada perlombaan antara penyerang dan komunitas Ethereum - miliaran dolar yang dihabiskan untuk serangan 66% mungkin akan dilenyapkan oleh serangan koordinasi sosial yang berhasil jika dikirim dengan cukup cepat, meninggalkan penyerang dengan kantong-kantong besar berisi eter yang dipertaruhkan yang tidak likuid di rantai yang diketahui tidak jujur yang diabaikan oleh komunitas Ethereum. Kemungkinan hal ini akan menguntungkan bagi penyerang cukup rendah untuk menjadi pencegah yang efektif. Inilah sebabnya mengapa investasi dalam mempertahankan lapisan sosial yang kohesif dengan nilai-nilai yang selaras sangat penting.

## Bacaan Lebih Lanjut {#bacaan-lebih lanjut}

- [Versi lebih lengkap dari halaman ini](https://mirror.xyz/jmcook.eth/YqHargbVWVNRQqQpVpzrqEQ8IqwNUJDIpwRP7SS5FXs)
- [Vitalik tentang finalisasi penyelesaian](https://blog.ethereum.org/2016/05/09/on-settlement-finality/)
- [Kertas LMD GHOST](https://arxiv.org/abs/2003.03052)
- [Penjelasan Casper-FFG](https://arxiv.org/abs/1710.09437)
- [Penjelasan Gasper](https://arxiv.org/pdf/2003.03052.pdf)
- [Spesifikasi konsensus peningkatan bobot pengusul](https://github.com/ethereum/consensus-specs/pull/2730)
- [Memantulkan serangan ke ethresear.ch](https://ethresear.ch/t/prevention-of-bouncing-attack-on-ffg/6114)
- [penelitian SSLE](https://ethresear.ch/t/secret-non-single-leader-election/11789)
