---
title: "IPFS для децентрализованных пользовательских интерфейсов"
description: "В этом руководстве рассказывается, как использовать IPFS для хранения пользовательского интерфейса децентрализованного приложения. Хотя данные и бизнес-логика приложения децентрализованы, без устойчивого к цензуре пользовательского интерфейса пользователи все равно могут потерять к нему доступ."
author: Ori Pomerantz
tags: [ "ipfs" ]
skill: beginner
lang: ru
published: 2024-06-29
---

Вы написали невероятное новое децентрализованное приложение. Вы даже написали для него [пользовательский интерфейс](/developers/tutorials/creating-a-wagmi-ui-for-your-contract/). Но теперь вы боитесь, что кто-то попытается подвергнуть его цензуре, отключив ваш пользовательский интерфейс, который представляет собой всего лишь один сервер в облаке. Из этого руководства вы узнаете, как избежать цензуры, разместив свой пользовательский интерфейс в **[межпланетной файловой системе (IPFS)](https://ipfs.tech/developers/)**, чтобы любой желающий мог закрепить его на сервере для будущего доступа.

Вы можете использовать сторонний сервис, такой как [Fleek](https://resources.fleek.xyz/docs/), чтобы сделать всю работу. Это руководство предназначено для тех, кто хочет сделать достаточно, чтобы понять, что они делают, даже если это потребует больше работы.

## Начало работы в локальной сети {#getting-started-locally}

Существует несколько [сторонних провайдеров IPFS](https://docs.ipfs.tech/how-to/work-with-pinning-services/#use-a-third-party-pinning-service), но для тестирования лучше всего начать с локального запуска IPFS.

1. Установите [пользовательский интерфейс IPFS](https://docs.ipfs.tech/install/ipfs-desktop/#install-instructions).

2. Создайте каталог с вашим веб-сайтом. Если вы используете [Vite](https://vite.dev/), используйте эту команду:

   ```sh
   pnpm vite build
   ```

3. В IPFS Desktop нажмите **Импорт > Папка** и выберите каталог, созданный на предыдущем шаге.

4. Выберите только что загруженную папку и нажмите **Переименовать**. Дайте ей более осмысленное имя.

5. Выберите ее снова и нажмите **Поделиться ссылкой**. Скопируйте URL-адрес в буфер обмена. Ссылка будет похожа на `https://ipfs.io/ipfs/QmaCuQ7yN6iyBjLmLGe8YiFuCwnePoKfVu6ue8vLBsLJQJ`.

6. Нажмите **Статус**. Разверните вкладку **Дополнительно**, чтобы увидеть адрес шлюза. Например, в моей системе адрес `http://127.0.0.1:8080`.

7. Объедините путь из шага со ссылкой с адресом шлюза, чтобы найти свой адрес. Например, для приведенного выше примера URL-адрес — `http://127.0.0.1:8080/ipfs/QmaCuQ7yN6iyBjLmLGe8YiFuCwnePoKfVu6ue8vLBsLJQJ`. Откройте этот URL-адрес в браузере, чтобы увидеть ваш сайт.

## Загрузка {#uploading}

Итак, теперь вы можете использовать IPFS для локальной раздачи файлов, что не очень интересно. Следующий шаг — сделать их доступными для всего мира, когда вы не в сети.

Существует ряд хорошо известных [сервисов закрепления](https://docs.ipfs.tech/concepts/persistence/#pinning-services). Выберите один из них. Какой бы сервис вы ни использовали, вам необходимо создать аккаунт и предоставить ему **идентификатор контента (CID)** в вашем IPFS desktop.

Лично я считаю, что [4EVERLAND](https://docs.4everland.org/storage/4ever-pin/guides) является самым простым в использовании. Вот инструкция для него:

1. Перейдите на [панель управления](https://dashboard.4everland.org/overview) и войдите в систему с помощью своего кошелька.

2. В левой боковой панели нажмите **Хранилище > 4EVER Pin**.

3. Нажмите **Загрузить > Выбранный CID**. Дайте вашему контенту имя и укажите CID из IPFS desktop. В настоящее время CID — это строка, которая начинается с `Qm`, за которой следуют 44 буквы и цифры, представляющие собой [закодированный в base-58](https://medium.com/bootdotdev/base64-vs-base58-encoding-c25553ff4524) хэш, например `QmaCuQ7yN6iyBjLmLGe8YiFuCwnePoKfVu6ue8vLBsLJQJ`, но [это, вероятно, изменится](https://docs.ipfs.tech/concepts/content-addressing/#version-1-v1).

4. Начальный статус: **В очереди**. Перезагружайте, пока он не изменится на **Закреплено**.

5. Нажмите на свой CID, чтобы получить ссылку. Вы можете увидеть мое приложение [здесь](https://bafybeifqka2odrne5b6l5guthqvbxu4pujko2i6rx2zslvr3qxs6u5o7im/).

6. Возможно, вам потребуется активировать свой аккаунт, чтобы он был закреплен более чем на месяц. Активация аккаунта стоит около 1 $. Если вы закрыли его, выйдите из системы и войдите снова, чтобы вам снова предложили активацию.

## Использование из IPFS {#using-from-ipfs}

На данный момент у вас есть ссылка на централизованный шлюз, который обслуживает ваш контент IPFS. Короче говоря, ваш пользовательский интерфейс может быть немного безопаснее, но он все еще не устойчив к цензуре. Для настоящей устойчивости к цензуре пользователям необходимо использовать IPFS [непосредственно из браузера](https://docs.ipfs.tech/install/ipfs-companion/#prerequisites).

После того как вы его установили (и настольный IPFS работает), вы можете перейти на [/ipfs/`<CID>`](https://any.site/ipfs/bafybeifqka2odrne5b6l5guthqvbxu4pujko2i6rx2zslvr3qxs6u5o7im) на любом сайте, и вы получите этот контент, обслуживаемый децентрализованно.

## Недостатки {#drawbacks}

Вы не можете надежно удалить файлы IPFS, поэтому, пока вы изменяете свой пользовательский интерфейс, вероятно, лучше либо оставить его централизованным, либо использовать [межпланетную систему имен (IPNS)](https://docs.ipfs.tech/concepts/ipns/#mutability-in-ipfs), систему, которая обеспечивает изменяемость поверх IPFS. Конечно, все, что является изменяемым, может быть подвергнуто цензуре, в случае IPNS путем давления на человека, имеющего соответствующий приватный ключ.

Кроме того, некоторые пакеты имеют проблемы с IPFS, поэтому, если ваш веб-сайт очень сложен, это может быть не лучшим решением. И, конечно, все, что зависит от серверной интеграции, не может быть децентрализовано только за счет размещения клиентской части в IPFS.

## Заключение {#conclusion}

Точно так же, как Ethereum позволяет децентрализовать базу данных и бизнес-логику вашего децентрализованного приложения, IPFS позволяет децентрализовать пользовательский интерфейс. Это позволяет вам перекрыть еще один вектор атаки на ваше децентрализованное приложение.

[Больше моих работ смотрите здесь](https://cryptodocguy.pro/).
