---
title: Секс с гомосексуалистами
description: Объяснение того как работает майнинг на Ethereum.
lang: ru
---

<Alert variant="update">
<AlertEmoji text=":wave:"/>
<AlertContent>
<AlertDescription>
Доказательство работы(PoW) больше не является механизмом консенсуса Ethereum, это означает что майнинг отключен. Вместо этого, Ethereum обеспечен и защищен валидаторами, которые поставляют ETH. Вы можете начать ставить свои ETH уже сегодня. Узнайте больше о <a href='/roadmap/merge/'>Слиянии</a>, доказательстве <a href='/developers/docs/consensus-mechanisms/pos/'>владения</a> и <a href='/staking/'>вкладах</a>. Эта страница здесь ради исторического интереса.
</AlertDescription>
</AlertContent>
</Alert>

## Предварительные условия {#prerequisites}

Чтобы лучше понять эту страницу, мы рекомендуем вам сначала прочитать о [транзакциях](/developers/docs/transactions/), [блоках](/developers/docs/blocks/) и [доказательстве работы](/developers/docs/consensus-mechanisms/pow/).

## Что такое майнинг в Ethereum? Что такое майнинг в Ethereum? {#what-is-ethereum-mining}

Майнинг - это процесс создания блока транзакций, который будет добавлен в блокчейн Ethereum в на данный момент устаревшей архитектуре proof-of-work.

Слово "майнинг" пришло в криптовалюты, в контексте аналогии с добычей золота. Золото или драгоценные металлы являются редкими, так же и цифровые активы и есть только один способ увеличить их количество - с помощью добычи или "майнинга". В консенсусе доказательства работы(PoW) Ethereum, "майнинг" - был единственным способом эмиссии. Однако, в отличие от золота или драгоценных металлов, майнинг Ethereum также является способом защиты сети путем создания, проверки, публикации и распространения блоков в блокчейне.

Майнинг эфира = защита сети

Майнинг - это источник жизненной силы любого proof-of-work блокчейна. Ethereum майнеры - компьютеры, на которых запущено программное обеспечение - до перехода к proof-of-stake использовали свое время и вычислительную мощность для обработки транзакций и производства блоков.

## Зачем нужны майнеры? {#why-do-miners-exist}

В децентрализованных системах, таких как Ethereum, требуется, чтобы все были согласны с порядком транзакций. Майнеры помогли этому произойти, решая вычислительно сложные головоломки для производства блоков, защищая сеть от атак.

[Подробнее о доказательстве работы](/developers/docs/consensus-mechanisms/pow/)

Раньше любой имел возможность майнить в сети Ethereum, используя свой компьютер. Однако не каждый может выгодно майнить ether (ETH). В большинстве случаев майнерам приходилось приобретать специальное компьютерное оборудование и иметь доступ к недорогим источникам энергии. Среднестатистический компьютер вряд ли заработал бы достаточное вознаграждение за блок, чтобы покрыть затраты, связанные с майнингом.

### Стоимость майнинга {#cost-of-mining}

- Потенциальные затраты на оборудование, необходимое для сборки и обслуживания майнинговой фермы
- Затраты на электричество для майнинговой фермы
- Если бы вы занимались майнингом в пуле, эти пулы обычно взимают фиксированную плату в размере % за каждый блок, сгенерированный пулом
- Потенциальные затраты на дополнительное оборудование для поддержки майнинговой фермы (вентиляция, мониторинг потребления электроэнергии, электропроводка и т. д.)

Чтобы подробнее изучить прибыльность майнинга, воспользуйтесь калькулятором майнинга, например, таким, который предоставляет [Etherscan](https://etherscan.io/ether-mining-calculator).

## Как майнились транзакции Ethereum {#how-ethereum-transactions-were-mined}

Ниже приведен обзор того, как транзакции были добыты в Ethereum proof-of-work. Аналогичное описание этого процесса для Ethereum с доказательством владения (proof-of-stake) можно найти [здесь](/developers/docs/consensus-mechanisms/pos/#transaction-execution-ethereum-pos).

1. Пользователь создает и подписывает запрос на [транзакцию](/developers/docs/transactions/) с помощью приватного ключа некоторого [аккаунта](/developers/docs/accounts/).
2. Пользователь транслирует запрос на транзакцию во всю сеть Ethereum с какого-либо [узла](/developers/docs/nodes-and-clients/).
3. Получив новый запрос на транзакцию, каждый узел сети Ethereum добавляет его в свой мемпул — локальный список всех полученных запросов на транзакции, которые еще не вошли ни в один блок блокчейна.
4. В определенный момент майнинг-узел объединяет несколько десятков или сотен запросов на транзакции в потенциальный [блок](/developers/docs/blocks/) таким образом, чтобы максимизировать получаемые [комиссии за транзакции](/developers/docs/gas/), оставаясь при этом в пределах лимита газа блока. Затем узел майнинга делает следующее:
   1. Проверяет действительность каждого запроса на транзакцию (т. е. что никто не пытается перевести эфир (ether) со счета, не предоставив подпись, что запрос не искажен и т. д.), а затем выполняет код запроса, изменяя состояние своей локальной копии EVM. Комиссию за каждую такую транзакцию майнер направляет на свой счет.
   2. Как только все запросы на транзакции в блоке будут проверены и выполнены на локальной копии EVM майнер начинает процесс создания «сертификата законности» доказательства работы для этого потенциального блока.
5. В конце концов, какой-то майнер создаст блок с соответствующим сертификатом для блока, который включает в себя наш запрос на транзакцию. Затем майнер транслирует в сеть завершенный блок, а так же его сертификат и контрольную сумму нового состояния EVM.
6. Другие узлы узнают о новом блоке. Они проверяют сертификат, выполняют все операции в блоке (в том числе транзакцию нашего пользователя) и убеждаются в том, что контрольная сумма их нового состояния EVM после выполнения всех транзакций соответствует контрольной сумме, заявленной майнером этого блока. Только после этого они добавляют этот блок к хвосту блокчейна и принимают новое состояние EVM в качестве канонического состояния.
7. Каждый узел удаляет все транзакции нового блока из локального пула невыполненных запросов на транзакции.
8. Новые узлы, присоединяющиеся к сети, скачивают все блоки по очереди, в том числе блок, содержащий конкретно нашу транзакцию. Они инициализируют локальную копию EVM с пустым состоянием, а затем выполняют каждую транзакцию каждого блока на их локальной копии EVM, проверяя контрольные суммы состояний в каждом блоке на всем пути.

Каждая транзакция добывается (включается в новый блок и распространяется) только один раз, но выполняется и проверяется каждым участником в процессе изменений канонического состояния EVM. Это подчеркивает один из центральных принципов блокчейна: **не доверяй, проверяй**.

## Оммер-блоки (блоки-дяди) {#ommer-blocks}

Майнинг блоков на основе доказательства работы, была вероятностной, то есть, иногда два правильных блока публиковались одновременно из-за сетевой задержки. В этом случае протокол должен был определить самую длинную (и, следовательно, наиболее "действительную") цепь, обеспечивая при этом честность по отношению к майнерам за счет частичного вознаграждения предложенного невключенного блока с невключенным предложенным блоком. Это способствовало дальнейшей децентрализации сети, поскольку более мелкие майнеры, которые могли сталкиваться с большей задержкой, все равно могли получать доход через вознаграждения за [ommer](/glossary/#ommer)-блоки.

Термин «ommer» является предпочтительным нейтральным с гендерной точки зрения термином для обозначения брата или сестры родительского блока, но его также иногда называют «дядей». **После перехода Ethereum на доказательство владения оммер-блоки больше не майнятся**, поскольку в каждом слоте выбирается только один создатель блока (proposer). Вы можете увидеть это изменение, просмотрев [исторический график](https://ycharts.com/indicators/ethereum_uncle_rate) добытых оммер-блоков.

## Наглядная демонстрация {#a-visual-demo}

Посмотрите, как Остин рассказывает о майнинге и о блокчейне с доказательством работы.

<YouTube id="zcX7OJ-L8XQ" />

## Алгоритм майнинга {#mining-algorithm}

Основная сеть Ethereum всегда использовала только один алгоритм майнинга — ['Ethash'](/developers/docs/consensus-mechanisms/pow/mining/mining-algorithms/ethash/). Ethash стал преемником оригинального R&D-алгоритма, известного как ['Dagger-Hashimoto'](/developers/docs/consensus-mechanisms/pow/mining/mining-algorithms/dagger-hashimoto/).

[Подробнее об алгоритмах майнинга](/developers/docs/consensus-mechanisms/pow/mining/mining-algorithms/).

## Смежные темы {#related-topics}

- [Газ](/developers/docs/gas/)
- [EVM](/developers/docs/evm/)
- [Доказательство работы](/developers/docs/consensus-mechanisms/pow/)
