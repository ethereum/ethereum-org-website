---
title: Мосты
description: Обзор мостов для разработчиков
lang: ru
---

С распространением блокчейнов L1 и решений для [масштабирования](/developers/docs/scaling/) L2, наряду с постоянно растущим числом децентрализованных приложений, работающих в разных цепочках, потребность в обмене данными и перемещении активов между блокчейнами стала неотъемлемой частью сетевой инфраструктуры. Существуют различные типы мостов, которые помогают сделать это возможным.

## Потребность в мостах {#need-for-bridges}

Мосты существуют для соединения блокчейн сетей. Они обеспечивают подключение и функциональную совместимость между блокчейнами.

Блокчейны существуют в изолированных средах, это означает, что блокчейны не имеют возможности для торговли и коммуникаций с другими блокчейнами напрямую, т.н. естественным образом. В результате, несмотря на то, что в экосистеме может быть значительная активность и инновации, она ограничена отсутствием связи и совместимости с другими экосистемами.

Мосты предлагают способ для изолированных сред блокчейна соединяться друг с другом. Они устанавливают транспортный маршрут между блокчейнами, по которому токены, сообщения, произвольные данные и даже вызовы [умных контрактов](/developers/docs/smart-contracts/) могут передаваться из одной цепочки в другую.

## Преимущества мостов {#benefits-of-bridges}

Проще говоря, мосты открывают множество вариантов использования, позволяя сетям блокчейнов обмениваться данными и перемещать активы между ними.

Блокчейны обладают уникальными сильными и слабыми сторонами, а также подходами к построению приложений (таких, как скорость, пропускная способность, дороговизна и т. д.). Мосты помогают развитию всей криптоэкосистемы, позволяя блокчейнам использовать инновации друг друга.

Для разработчиков, мосты обеспечивают следующие возможности:

- Передача любых данных, информации и активов между сетями.
- Разблокировка новых функций и вариантов использования протоколов в качестве мостов, расширяет возможности проектирования для того, что могут предложить протоколы. Например, протокол "yield farming", первоначально развернутый в основной сети Ethereum, может предлагать пулы ликвидности во всех сетях, совместимых с EVM.
- Возможность использовать сильные стороны различных блокчейнов. Например, разработчики могут извлечь выгоду из более низких комиссий, предлагаемых различными решениями L2, путем развертывания своих децентрализованных приложений через rollups, а сайдчейны и пользователи могут соединяться посредством их.
- Сотрудничество между разработчиками из различных блокчейн-экосистем для создания новых продуктов.
- Привлечение пользователей и сообществ из различных экосистем в свои децентрализованные приложения.

## Как работают мосты? {#how-do-bridges-work}

Хотя существует множество [типов конструкций мостов](https://li.fi/knowledge-hub/blockchain-bridges-and-classification/), выделяются три способа облегчения межсетевой передачи активов:

- **Блокировка и минт —** блокировка активов в исходной сети и минт активов в сети назначения.
- **Сжигание и минт —** сжигание активов в исходной сети и минт активов в сети назначения.
- **Атомарные свопы —** обмен активов в исходной сети на активы в сети назначения с другой стороной.

## Типы мостов {#bridge-types}

Мосты обычно можно классифицировать одним из следующих сегментов:

- **Нативные мосты —** эти мосты обычно создаются для начальной загрузки ликвидности на определенном блокчейне, что упрощает пользователям перевод средств в экосистему. Например, [мост Arbitrum](https://bridge.arbitrum.io/) создан для того, чтобы пользователям было удобно переходить из основной сети Ethereum в Arbitrum. Другие подобные мосты включают Polygon PoS Bridge, [шлюз Optimism](https://app.optimism.io/bridge) и т. д.
- **Мосты на основе валидаторов или оракулов —** эти мосты полагаются на внешний набор валидаторов или оракулов для проверки межсетевых переводов. Примеры: Multichain и Across.
- **Универсальные мосты для передачи сообщений —** эти мосты могут передавать активы, а также сообщения и произвольные данные между сетями. Примеры: Axelar, LayerZero, и Nomad.
- **Сети ликвидности —** эти мосты в основном ориентированы на передачу активов из одной сети в другую посредством атомарных свопов. Как правило, они не поддерживают передачу сообщений между сетями. Примеры: Connext и Hop.

## Компромиссы, которые следует учесть {#trade-offs}

С мостами нет идеальных решений. Скорее, есть только компромиссы, сделанные для достижения цели. Разработчики и пользователи могут оценивать мосты на основе следующих факторов:

- **Безопасность —** кто проверяет систему? Мосты, защищенные внешними валидаторами, обычно менее безопасны, чем мосты, которые локально или изначально защищены валидаторами блокчейна.
- **Удобство —** сколько времени требуется для завершения транзакции и сколько транзакций должен подписать пользователь? Сколько времени занимает у разработчика интеграция моста и насколько сложен этот процесс?
- **Возможности подключения —** к каким различным сетям назначения может подключаться мост (т. е. роллапы, сайдчейны, другие блокчейны уровня 1 и т. д.), и насколько сложно интегрировать новый блокчейн?
- **Возможность передавать более сложные данные —** может ли мост обеспечивать передачу сообщений и более сложных произвольных данных между сетями или он поддерживает только межсетевую передачу активов?
- **Экономичность —** сколько стоит передача активов между сетями через мост? Как правило, мосты взимают фиксированную или переменную комиссию в зависимости от стоимости газа и ликвидности конкретных маршрутов. Также очень важно оценить экономическую эффективность моста на основе капитала, необходимого для обеспечения его безопасности.

На высшем уровне, мосты можно разделить на доверенные и недоверенные.

- **Доверенные —** доверенные мосты проходят внешнюю проверку. Они используют внешний набор верификаторов (федерации с мультиподписями, многосторонними вычислительными системами, сетью оракулов) для отправки данных по сетям. В результате они могут предложить отличные возможности подключения и обеспечить полностью обобщенную передачу сообщений по сетям. Также они, как правило, хорошо работают с точки зрения скорости и экономической эффективности. Это достигается за счет обеспечения безопасности, так как пользователи должны полагаться на безопасность моста.
- **Бездоверительные —** эти мосты для передачи сообщений и токенов полагаются на блокчейны, которые они соединяют, и их валидаторов. Они «недоверенные», потому что не добавляют новых предположений о доверии (в дополнение к блокчейнам). Как результат, недоверенные мосты считаются более безопасными, чем доверенные.

Чтобы оценить недоверенные мосты на основе других факторов, мы должны разбить их на обобщенные мосты передачи сообщений и сети ликвидности.

- **Универсальные мосты для передачи сообщений —** эти мосты отличаются высокой безопасностью и возможностью передавать более сложные данные между сетями. Как правило, они также являются экономически эффективными. Однако эти преимущества, как правило, достигаются за счет ухудшения связности для мостов с легкими клиентами (например, IBC) и снижения скорости для оптимистичных мостов (например, Nomad), использующих доказательства мошенничества.
- **Сети ликвидности —** эти мосты используют атомарные свопы для передачи активов и являются локально верифицируемыми системами (т. е. для проверки транзакций они используют валидаторов базовых блокчейнов). В результате они отличаются высокой безопасностью и скоростью. Более того, они считаются сравнительно экономичными и обеспечивают хорошую связность. Однако их главный недостаток — неспособность передавать более сложные данные, поскольку они не поддерживают межсетевую передачу сообщений.

## Риски, связанные с мостами {#risk-with-bridges}

На долю мостов приходятся три крупнейших [взлома в сфере DeFi](https://rekt.news/leaderboard/), и они все еще находятся на ранней стадии разработки. Использование любого моста сопряжено со следующими рисками:

- **Риск, связанный с умными контрактами —** хотя многие мосты успешно прошли аудиты, достаточно одной уязвимости в умном контракте, чтобы активы оказались под угрозой взлома (например, [мост Wormhole для Solana](https://rekt.news/wormhole-rekt/)).
- **Системные финансовые риски —** многие мосты используют обернутые активы для минтинга канонических версий исходного актива в новой сети. Это подвергает экосистему системному риску, поскольку мы уже видели случаи эксплуатации уязвимостей в обернутых версиях токенов.
- **Контрагентский риск —** некоторые мосты используют доверенную конструкцию, которая требует от пользователей исходить из предположения, что валидаторы не вступят в сговор с целью кражи средств пользователей. Необходимость доверять этим третьим сторонам подвергает пользователей таким рискам, как раг-пуллы, цензура и другие злонамеренные действия.
- **Открытые вопросы —** учитывая, что мосты находятся на начальных этапах разработки, существует много вопросов без ответов, касающихся того, как мосты будут работать в различных рыночных условиях, например, во время перегрузки сети и при непредвиденных событиях, таких как атаки на уровне сети или откаты состояния. Эта неопределенность порождает определенные риски, степень которых до сих пор неизвестна.

## Как децентрализованные приложения могут использовать мосты? {#how-can-dapps-use-bridges}

Вот несколько практических применений, которые разработчики могут рассмотреть в отношении мостов и переноса своих децентрализованных приложений в другие сети:

### Интеграция мостов {#integrating-bridges}

У разработчиков есть множество способов добавить поддержку мостов:

1. **Создание собственного моста —** создание безопасного и надежного моста — непростая задача, особенно если вы выбираете путь с минимизацией доверия. Более того, это требует многолетнего опыта и технических знаний в области исследований масштабируемости и совместимости. Кроме того, потребуется специальная команда для обслуживания моста и привлечения достаточной ликвидности для обеспечения его рентабельности.

2. **Предложение пользователям нескольких вариантов мостов —** многие [децентрализованные приложения](/developers/docs/dapps/) требуют от пользователей наличия своего нативного токена для взаимодействия с ними. Чтобы предоставить пользователям доступ к своим токенам, они предлагают на своем веб-сайте различные варианты мостов. Однако этот метод является лишь временным решением проблемы, поскольку он уводит пользователя из интерфейса децентрализованного приложения и по-прежнему требует взаимодействия с другими децентрализованными приложениями и мостами. Это усложняет процесс адаптации и увеличивает вероятность совершения ошибок.

3. **Интеграция моста —** это решение не требует, чтобы децентрализованное приложение отправляло пользователей на внешние интерфейсы моста и DEX. Это позволяет децентрализованным приложениям улучшить процесс адаптации пользователей. Однако у этого подхода есть свои ограничения:

   - Оценка и обслуживание мостов — это сложный и трудоемкий процесс.
   - Выбор одного моста создает единую точку отказа и зависимость.
   - Децентрализованное приложение ограничено возможностями моста.
   - Одних лишь мостов может быть недостаточно. Децентрализованным приложениям могут потребоваться DEX для предоставления дополнительных функций, таких как межсетевые свопы.

4. **Интеграция нескольких мостов —** это решение устраняет многие проблемы, связанные с интеграцией одного моста. Однако у него также есть ограничения, поскольку интеграция нескольких мостов требует больших ресурсов и создает технические и коммуникационные накладные расходы для разработчиков — самого дефицитного ресурса в криптоиндустрии.

5. **Интеграция агрегатора мостов —** еще один вариант для децентрализованных приложений — интеграция решения для агрегации мостов, которое дает им доступ к нескольким мостам. Агрегаторы мостов наследуют сильные стороны всех мостов и, таким образом, не ограничены возможностями какого-либо одного моста. Примечательно, что агрегаторы мостов обычно поддерживают интеграции мостов, что избавляет децентрализованное приложение от необходимости заниматься техническими и операционными аспектами интеграции моста.

Однако у агрегаторов мостов тоже есть ограничения. Так, например, несмотря на то, что они могут предложить большее количество мостов, на рынке неизбежно будет присутствовать намного больше мостов, чем может предложить агрегатор. Более того, как и мосты, агрегаторы мостов также подвержены рискам, связанным со смарт-контрактами и технологиями (больше смарт-контрактов = больше рисков).

Если децентрализованное приложение выбирает путь интеграции моста или агрегатора, существуют различные варианты в зависимости от предполагаемой глубины интеграции. Например, если это всего лишь интеграция на уровне фронтенда для улучшения процесса адаптации пользователя, децентрализованное приложение может интегрировать виджет. Однако если интеграция предназначена для использования более сложных межсетевых стратегий, таких как стейкинг, доходное фермерство и т. д., децентрализованное приложение интегрирует SDK или API.

### Развертывание децентрализованного приложения в нескольких сетях {#deploying-a-dapp-on-multiple-chains}

Чтобы развернуть децентрализованное приложение в нескольких сетях, разработчики могут использовать такие платформы для разработки, как [Alchemy](https://www.alchemy.com/), [Hardhat](https://hardhat.org/), [Moralis](https://moralis.io/) и т. д. Как правило, эти платформы поставляются с компонуемыми плагинами, которые могут позволить децентрализованным приложениям работать в нескольких сетях. Например, разработчики могут использовать детерминированный прокси-сервер развертывания, предлагаемый [плагином hardhat-deploy](https://github.com/wighawag/hardhat-deploy).

#### Примеры:

- [Как создавать межсетевые децентрализованные приложения](https://moralis.io/how-to-build-cross-chain-dapps/)
- [Создание межсетевого NFT-маркетплейса](https://youtu.be/WZWCzsB1xUE)
- [Moralis: создание межсетевых NFT-приложений](https://www.youtube.com/watch?v=ehv70kE1QYo)

### Мониторинг активности контрактов в разных сетях {#monitoring-contract-activity-across-chains}

Для мониторинга активности контрактов в разных сетях разработчики могут использовать субграфы и платформы для разработчиков, такие как Tenderly, для наблюдения за умными контрактами в режиме реального времени. Такие платформы также имеют инструменты, которые предлагают более широкие функциональные возможности мониторинга данных для межсетевых действий, например, проверку [событий, генерируемых контрактами](https://docs.soliditylang.org/en/v0.8.14/contracts.html?highlight=events#events), и т. д.

#### Инструменты

- [The Graph](https://thegraph.com/en/)
- [Tenderly](https://tenderly.co/)

## Дополнительные материалы {#further-reading}

- [Блокчейн-мосты](/bridges/) — ethereum.org
- [Система оценки рисков мостов от L2Beat](https://l2beat.com/bridges/summary)
- [Блокчейн-мосты: создание сетей криптосетей](https://medium.com/1kxnetwork/blockchain-bridges-5db6afac44f8) — 8 сентября 2021 г. — Дмитрий Берензон
- [Трилемма совместимости](https://blog.connext.network/the-interoperability-trilemma-657c2cf69f17) — 1 октября 2021 г. — Арджун Бхуптани
- [Кластеры: как доверенные и минимизирующие доверие мосты формируют мультисетевой ландшафт](https://blog.celestia.org/clusters/) — 4 октября 2021 г. — Мустафа аль-Бассам
- [LI.FI: в мостах доверие — это спектр](https://blog.li.fi/li-fi-with-bridges-trust-is-a-spectrum-354cd5a1a6d8) — 28 апреля 2022 г. — Арджун Чанд
- [Состояние решений для совместимости роллапов](https://web.archive.org/web/20250428015516/https://research.2077.xyz/the-state-of-rollup-interoperability) — 20 июня 2024 г. — Алекс Хук
- [Использование общей безопасности для защищенной межсетевой совместимости: комитеты состояний Lagrange и не только](https://web.archive.org/web/20250125035123/https://research.2077.xyz/harnessing-shared-security-for-secure-blockchain-interoperability) — 12 июня 2024 г. — Эммануэль Авосика

Кроме того, вот несколько содержательных презентаций [Джеймса Прествича](https://twitter.com/_prestwich), которые помогут глубже понять, что такое мосты:

- [Строим мосты, а не огороженные сады](https://youtu.be/ZQJWMiX4hT0)
- [Разбираем мосты](https://youtu.be/b0mC-ZqN8Oo)
- [Почему горят мосты](https://youtu.be/c7cm2kd20j8)
