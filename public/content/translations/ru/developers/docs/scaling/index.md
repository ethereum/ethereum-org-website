---
title: Масштабирование
description: Введение в различные варианты масштабирования, которые в настоящее время разрабатывает сообщество Ethereum.
lang: ru
sidebarDepth: 3
---

## Обзор масштабирования {#scaling-overview}

По мере роста числа людей, использующих Ethereum, блокчейн достиг определенных ограничений по мощности. Это привело к увеличению стоимости использования сети, создавая потребность в «решениях для масштабирования» В настоящее время исследуются, тестируются и внедряются несколько решений, в которых используются разные подходы для достижения схожих целей.

Основная цель масштабируемости — повысить скорость транзакций (ускорить финализацию) и пропускную способность (увеличить количество транзакций в секунду) без ущерба для децентрализации и безопасности. В блокчейне Ethereum уровня 1 высокий спрос приводит к замедлению транзакций и непомерным [ценам на газ](/developers/docs/gas/). Увеличение пропускной способности сети с точки зрения скорости и пропускной способности имеет фундаментальное значение для значимого и массового внедрения Ethereum.

Хотя скорость и пропускная способность важны, важно, чтобы решения для масштабирования, позволяющие достичь этих целей, оставались децентрализованными и безопасными. Сохранение низкого барьера для входа для операторов узлов имеет решающее значение для предотвращения перехода к централизованным и небезопасным вычислительным мощностям.

Концептуально мы сначала классифицируем масштабирование на ончейн-масштабирование и оффчейн-масштабирование.

## Предварительные условия {#prerequisites}

Вы должны хорошо понимать все основные темы. Реализация решений масштабирования продвигается вперед, поскольку технология менее проверена в боевых условиях, а ее исследования и разработки продолжаются.

## Ончейн-масштабирование {#onchain-scaling}

Ончейн-масштабирование требует внесения изменений в протокол Ethereum (уровень 1 [основной сети](/glossary/#mainnet)). Долгое время масштабирование Ethereum предполагалось реализовать с помощью шардинга. В результате этого блокчейн был бы разделён на частички (шарды), которые бы верифицировались набором валидаторов. Однако, масштабирование с помощью роллапов (обёрток) 2-го уровня было выбрано приоритетным методом. Этот вариант также усилился реализацией более дешевого метода прикрепления даты в блоки Ethereum, специально разработанного чтобы сделать роллапы (обёртки) дешевыми для пользователей.

### Шардинг {#sharding}

Шардинг — это процесс расщепления базы данных. Подряды валидаторов ответственны за индивидуальные шарды, и не нуждаются в отслеживании всего состояния сети Ethereum. Шардинг долгое время был частью [дорожной карты](/roadmap/) Ethereum, и его планировалось запустить до перехода на proof-of-stake в рамках «Слияния» (The Merge). Однако быстрое развитие [ролл-апов уровня 2](#layer-2-scaling) и изобретение [Danksharding](/roadmap/danksharding) (добавление больших двоичных объектов с данными ролл-апов в блоки Ethereum, которые могут очень эффективно проверяться валидаторами) привело к тому, что сообщество Ethereum предпочло масштабирование, ориентированное на ролл-апы, вместо масштабирования с помощью шардинга. Это также позволило оставить простую логику консенсуса Ethereum.

## Оффчейн-масштабирование {#offchain-scaling}

Оффчейн-решения реализуются отдельно от основной сети (Mainnet) уровня 1 — они не требуют изменений в существующем протоколе Ethereum. Некоторые решения, известные как решения «уровня 2», получают свою безопасность непосредственно от консенсуса Ethereum уровня 1. К ним относятся [оптимистические ролл-апы](/developers/docs/scaling/optimistic-rollups/), [ролл-апы с нулевым разглашением](/developers/docs/scaling/zk-rollups/) или [каналы состояния](/developers/docs/scaling/state-channels/). Другие решения подразумевают создание новых цепей в различных формах, безопасность которых обеспечивается отдельно от основной сети (Mainnet), например [сайдчейны](#sidechains), [валидиумы](#validium) или [плазменные цепи](#plasma). Эти решения взаимодействуют с основной сетью (Mainnet), но для достижения различных целей по-разному обеспечивают свою безопасность.

### Масштабирование уровня 2 {#layer-2-scaling}

Эта категория оффчейн-решений получает свою безопасность от основной сети Ethereum (Mainnet).

Уровень 2 - это собирательный термин для решений, разработанных для помощи в масштабировании Вашего приложения, используя обработку транзакций вне основной сети Ethereum (уровень 1), пользуясь преимуществом высокой децентрализации модели надежности Основной сети. Скорость транзакций снижается, когда сеть занята, что ухудшает пользовательский опыт для некоторых типов dapps. По мере того, как сеть становится более загруженной, цены на газ растут, поскольку отправители транзакций стремятся перебить цену друг друга. Это может сделать использование Ethereum очень дорогим.

Большинство решений уровня 2 сосредоточено вокруг сервера или кластера серверов, каждый из которых может называться узлом, валидатором, оператором, секвенсором, производителем блоков или аналогичным термином. В зависимости от реализации, эти узлы уровня 2 могут запускаться отдельными лицами, предприятиями или организациями, которые их используют, или сторонним оператором, или большой группой лиц (аналогично Mainnet). Вообще говоря, транзакции отправляются на эти узлы уровня 2, а не напрямую на уровень 1 (Mainnet). В некоторых решениях экземпляр уровня 2 объединяет транзакции в группы перед их закреплением на уровне 1, после чего они защищаются уровнем 1 и не могут быть изменены. Детали того, как это делается, значительно различаются между различными технологиями и реализациями уровня 2.

Конкретный экземпляр уровня 2 может быть открытым и совместно использоваться многими приложениями или может быть развернут одним проектом и предназначен для поддержки только своего приложения.

#### Зачем нужен слой 2? {#why-is-layer-2-needed}

- Увеличение количества транзакций в секунду значительно улучшает пользовательский опыт и снижает перегрузку сети в Mainnet Ethereum.
- Транзакции объединяются в одну транзакцию в основной сети Ethereum (Mainnet), что снижает плату за газ для пользователей и делает Ethereum более инклюзивным и доступным для людей во всем мире.
- Любые обновления масштабируемости не должны происходить за счет децентрализации или безопасности - уровень 2 строится поверх Ethereum.
- Существуют специализированные сети уровня 2, которые обеспечивают собственный набор преимуществ при работе с активами в больших масштабах.

[Подробнее об уровне 2](/layer-2/).

#### Ролл-апы {#rollups}

Свертывания выполняют транзакцию за пределами уровня 1, а затем данные отправляются на уровень 1, где достигается консенсус. Поскольку данные транзакции включены в блоки уровня 1, это позволяет защищать свертки с помощью собственной системы безопасности Ethereum.

Есть два типа накопительных пакетов с разными моделями безопасности:

- **Оптимистические ролл-апы**: по умолчанию предполагают, что транзакции действительны, и выполняют вычисления через [**доказательство мошенничества**](/glossary/#fraud-proof) только в случае оспаривания. [Подробнее об оптимистических ролл-апах](/developers/docs/scaling/optimistic-rollups/).
- **Ролл-апы с нулевым разглашением**: выполняют вычисления оффчейн и предоставляют в сеть [**доказательство достоверности**](/glossary/#validity-proof). [Подробнее о ролл-апах с нулевым разглашением](/developers/docs/scaling/zk-rollups/).

#### Каналы состояния {#channels}

State channels utilize multisig contracts to enable participants to transact quickly and freely offchain, then settle finality with Mainnet. Это сводит к минимуму перегрузку сети, сборы и задержки. В настоящее время двумя типами каналов являются каналы состояния и каналы оплаты.

Подробнее о [каналах состояния](/developers/docs/scaling/state-channels/).

### Сайдчейны {#sidechains}

Сайдчейн — это независимый, совместимый с EVM блокчейн, который работает параллельно с основной сетью (Mainnet). Они совместимы с Ethereum через двусторонние мосты и работают по собственным правилам консенсуса и с собственными параметрами блоков.

Подробнее о [сайдчейнах](/developers/docs/scaling/sidechains/).

### Плазма {#plasma}

Плазменная цепь — это отдельный блокчейн, который привязан к основной цепи Ethereum и использует доказательства мошенничества (как [оптимистические ролл-апы](/developers/docs/scaling/optimistic-rollups/)) для разрешения споров.

Подробнее о [плазме](/developers/docs/scaling/plasma/).

### Валидиум {#validium}

Цепь Валидиум использует доказательства валидности, такие как ролл-апы с нулевым разглашением, но данные не хранятся на основном уровне 1 сети Ethereum. Это может привести к 10 тысячам транзакций в секунду на цепочку Валидиум и несколько цепочек может быть запущено параллельно.

Подробнее о [валидиуме](/developers/docs/scaling/validium/).

## Зачем нужно столько масштабных решений? {#why-do-we-need-these}

- Различные решения могут помочь снизить общую перегрузку на любом участке сети, а также предотвратить появление единых точек отказа.
- Целое больше, чем сумма его частей. Различные решения могут существовать и работать в гармонии, что дает экспоненциальный эффект на скорость и пропускную способность транзакций в будущем.
- Не все решения требуют прямого использования алгоритма консенсуса Ethereum, а альтернативы могут предложить преимущества, которые иначе было бы трудно получить.

## Больше увлекаетесь визуализацией? {#visual-learner}

<YouTube id="BgCgauWVTs0" />

_Обратите внимание: в видео термин «Layer 2» используется для обозначения всех решений масштабирования вне основной цепи, тогда как мы различаем «Layer 2» как решение вне основной цепи, которое получает свою безопасность через консенсус основной сети Layer 1 Mainnet._

<YouTube id="7pWxCklcNsU" />

## Дополнительные материалы {#further-reading}

- [Дорожная карта Ethereum, ориентированная на ролл-апы](https://ethereum-magicians.org/t/a-rollup-centric-ethereum-roadmap/4698) _Виталик Бутерин_
- [Актуальная аналитика по решениям масштабирования уровня 2 для Ethereum](https://www.l2beat.com/)
- [Оценка решений масштабирования уровня 2 для Ethereum: система сравнения](https://medium.com/matter-labs/evaluating-ethereum-l2-scaling-solutions-a-comparison-framework-b6b2f410f955)
- [Неполное руководство по ролл-апам](https://vitalik.eth.limo/general/2021/01/05/rollup.html)
- [ZK-ролл-апы на базе Ethereum: покорители мира](https://hackmd.io/@canti/rkUT0BD8K)
- [Оптимистические ролл-апы или ZK-ролл-апы](https://limechain.tech/blog/optimistic-rollups-vs-zk-rollups/)
- [Почему ролл-апы и шардинг данных — единственное устойчивое решение для высокой масштабируемости](https://polynya.medium.com/why-rollups-data-shards-are-the-only-sustainable-solution-for-high-scalability-c9aabd6fbb48)
- [Какие решения уровня 3 имеют смысл?](https://vitalik.eth.limo/general/2022/09/17/layer_3.html)
- [Доступность данных, или: как ролл-апы научились не волноваться и полюбили Ethereum](https://web.archive.org/web/20250515194659/https://web.archive.org/web/20241108192208/https/research.2077.xyz/data-availability-or-how-rollups-learned-to-stop-worrying-and-love-ethereum)
- [Практическое руководство по ролл-апам Ethereum](https://web.archive.org/web/20241108192208/https://research.2077.xyz/the-practical-guide-to-ethereum-rollups)

_Знаете ресурс сообщества, который вам пригодился? Измените эту страницу и добавьте его!_
