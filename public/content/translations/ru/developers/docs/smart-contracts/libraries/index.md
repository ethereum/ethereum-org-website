---
title: "Библиотеки смарт-контрактов"
description: "Откройте для себя многократно используемые библиотеки смарт-контрактов и строительные блоки для ускорения ваших проектов по разработке Ethereum."
lang: ru
---

Вам не нужно писать каждый смарт-контракт в своем проекте с нуля. Доступно множество библиотек смарт-контрактов с открытым исходным кодом, которые предоставляют многократно используемые строительные блоки для вашего проекта, которые могут избавить вас от необходимости изобретать колесо.

## Предварительные условия {#prerequisites}

Прежде чем переходить к библиотекам смарт-контрактов, неплохо было бы хорошо понять структуру смарт-контракта. Перейдите к [анатомии умного контракта](/developers/docs/smart-contracts/anatomy/), если вы еще этого не сделали.

## Что находится в библиотеке {#whats-in-a-library}

Обычно в библиотеках смарт-контрактов можно найти два типа строительных блоков: многоразовые варианты поведения, которые вы можете добавить в свои контракты, и реализации различных стандартов.

### Поведения {#behaviors}

При написании смарт-контрактов вы, скорее всего, будете снова и снова писать похожие шаблоны, например, назначать адрес _администратора_ для выполнения защищенных операций в контракте или добавлять кнопку экстренной _паузы_ в случае непредвиденной проблемы.

Библиотеки смарт-контрактов обычно предоставляют повторно используемые реализации такого поведения в виде [библиотек](https://solidity.readthedocs.io/en/v0.7.2/contracts.html#libraries) или через [наследование](https://solidity.readthedocs.io/en/v0.7.2/contracts.html#inheritance) в Solidity.

В качестве примера ниже приведена упрощенная версия [контракта `Ownable`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v3.2.0/contracts/access/Ownable.sol) из [библиотеки контрактов OpenZeppelin](https://github.com/OpenZeppelin/openzeppelin-contracts), которая назначает адрес в качестве владельца контракта и предоставляет модификатор для ограничения доступа к методу только этому владельцу.

```solidity
contract Ownable {
    address public owner;

    constructor() internal {
        owner = msg.sender;
    }

    modifier onlyOwner() {
        require(owner == msg.sender, "Ownable: caller is not the owner");
        _;
    }
}
```

Чтобы использовать такой строительный блок в своем контракте, вам нужно сначала импортировать его, а затем расширить его в своих собственных контрактах. Это позволит вам использовать модификатор, предоставляемый базовым контрактом `Ownable`, для защиты ваших собственных функций.

```solidity
import ".../Ownable.sol"; // Path to the imported library

contract MyContract is Ownable {
    // The following function can only be called by the owner
    function secured() onlyOwner public {
        msg.sender.transfer(1 ether);
    }
}
```

Другим популярным примером является [SafeMath](https://docs.openzeppelin.com/contracts/3.x/utilities#math) или [DsMath](https://dappsys.readthedocs.io/en/latest/ds_math.html). Это библиотеки (в отличие от базовых контрактов), которые предоставляют арифметические функции с проверками переполнения, которые не предусмотрены языком. Рекомендуется использовать любую из этих библиотек вместо собственных арифметических операций для защиты вашего контракта от переполнений, которые могут иметь катастрофические последствия!

### Стандарты {#standards}

Для обеспечения [компонуемости и функциональной совместимости](/developers/docs/smart-contracts/composability/) сообщество Ethereum определило несколько стандартов в виде **ERC**. Вы можете прочитать о них подробнее в разделе [стандартов](/developers/docs/standards/).

При включении ERC в свои контракты рекомендуется искать стандартные реализации, а не пытаться развернуть свои собственные. Многие библиотеки смарт-контрактов включают реализации наиболее популярных ERC. Например, повсеместно распространенный [стандарт взаимозаменяемых токенов ERC20](/developers/tutorials/understand-the-erc-20-token-smart-contract/) можно найти в [HQ20](https://github.com/HQ20/contracts/blob/master/contracts/token/README.md), [DappSys](https://github.com/dapphub/ds-token/) и [OpenZeppelin](https://docs.openzeppelin.com/contracts/3.x/erc20). Кроме того, некоторые ERC также предоставляют канонические реализации как часть самого ERC.

Стоит отметить, что некоторые ERC не являются автономными, а являются дополнениями к другим ERC. Например, [ERC2612](https://eips.ethereum.org/EIPS/eip-2612) добавляет расширение к ERC20 для повышения удобства его использования.

## Как добавить библиотеку {#how-to}

Всегда обращайтесь к документации библиотеки, которую вы включаете, для получения конкретных инструкций о том, как включить ее в свой проект. Несколько библиотек контрактов Solidity упакованы с использованием `npm`, так что вы можете просто установить их командой `npm install`. Большинство инструментов для [компиляции](/developers/docs/smart-contracts/compiling/) контрактов будут искать в вашем каталоге `node_modules` библиотеки смарт-контрактов, поэтому вы можете сделать следующее:

```solidity
// This will load the @openzeppelin/contracts library from your node_modules
import "@openzeppelin/contracts/token/ERC721/ERC721.sol";

contract MyNFT is ERC721 {
    constructor() ERC721("MyNFT", "MNFT") public { }
}
```

Независимо от используемого вами метода, при подключении библиотеки всегда следите за версией [языка](/developers/docs/smart-contracts/languages/). Например, вы не можете использовать библиотеку для Solidity 0.6, если вы пишете свои контракты на Solidity 0.5.

## Когда использовать {#when-to-use}

Использование библиотеки смарт-контрактов для вашего проекта имеет несколько преимуществ. Прежде всего, это экономит ваше время, предоставляя вам готовые к использованию строительные блоки, которые вы можете включить в свою систему, вместо того, чтобы кодировать их самостоятельно.

Безопасность также является большим плюсом. Библиотеки смарт-контрактов с открытым исходным кодом также часто подвергаются тщательной проверке. Поскольку от них зависят многие проекты, у сообщества есть сильный стимул держать их под постоянным контролем. Гораздо чаще ошибки обнаруживаются в коде приложения, чем в многократно используемых библиотеках контрактов. Некоторые библиотеки также проходят [внешний аудит](https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/audits) для дополнительной безопасности.

Однако использование библиотек смарт-контрактов сопряжено с риском включения кода, с которым вы не знакомы, в свой проект. Заманчиво импортировать контракт и включить его непосредственно в ваш проект, но без хорошего понимания того, что делает этот контракт, вы можете случайно создать проблему в своей системе из-за неожиданного поведения. Всегда обязательно читайте документацию по импортируемому коду, а затем просматривайте сам код, прежде чем делать его частью своего проекта!

Наконец, при принятии решения о включении библиотеки следует учитывать ее общее использование. Широко распространенный метод имеет то преимущество, что у него более широкое сообщество и больше глаз, которые следят за его проблемами. Безопасность должна быть вашим основным приоритетом при создании смарт-контрактов!

## Связанные инструменты {#related-tools}

**OpenZeppelin Contracts -** **_Самая популярная библиотека для безопасной разработки смарт-контрактов._**

- [Документация](https://docs.openzeppelin.com/contracts/)
- [GitHub](https://github.com/OpenZeppelin/openzeppelin-contracts)
- [Форум сообщества](https://forum.openzeppelin.com/c/general/16)

**DappSys -** **_Безопасные, простые, гибкие строительные блоки для смарт-контрактов._**

- [Документация](https://dappsys.readthedocs.io/)
- [GitHub](https://github.com/dapphub/dappsys)

**HQ20 -** **_Проект Solidity с контрактами, библиотеками и примерами, которые помогут вам создавать полнофункциональные распределенные приложения для реального мира._**

- [GitHub](https://github.com/HQ20/contracts)

**thirdweb Solidity SDK -** **_Предоставляет инструменты, необходимые для эффективной разработки пользовательских смарт-контрактов_**

- [Документация](https://portal.thirdweb.com/contracts/build/overview)
- [GitHub](https://github.com/thirdweb-dev/contracts)

## Связанные руководства {#related-tutorials}

- [Рекомендации по безопасности для разработчиков Ethereum](/developers/docs/smart-contracts/security/) _– руководство по вопросам безопасности при создании смарт-контрактов, включая использование библиотек._
- [Принципы работы смарт-контракта токена ERC-20](/developers/tutorials/understand-the-erc-20-token-smart-contract/) _– руководство по стандарту ERC20, предоставляемое несколькими библиотеками._

## Дополнительные материалы {#further-reading}

_Знаете ресурс сообщества, который вам пригодился? Измените эту страницу и добавьте его!_
