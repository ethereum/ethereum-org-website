---
title: "Абстрагирование аккаунта"
description: "Обзор планов Ethereum по тому, как сделать аккаунты пользователей более простыми и безопасными"
lang: ru
summaryPoints:
  - Абстрагирование аккаунта позволяет упростить создание кошельков умных контрактов
  - Кошельки умных контрактов позволяют упростить управление доступом к аккаунтам Ethereum
  - Потерянные и украденные ключи могут быть восстановлены с помощью нескольких резервных копий
---

# Абстракция аккаунта {#account-abstraction}

Большинство существующих пользователей взаимодействуют с Ethereum, используя **[внешние аккаунты (EOA)](/glossary/#eoa)**. Эта система ограничивает пользователей в способах взаимодействия с Ethereum. Например, это затрудняет пакетную обработку транзакций и требует от пользователей всегда держать баланс ETH для оплаты комиссий за транзакции.

Абстрагирование аккаунта — один из способов решить эту проблему, дав пользователям возможность программировать свои кошельки для улучшения безопасности и упрощения процесса пользования кошельком. Этого можно достичь путем [обновления EOA](https://eips.ethereum.org/EIPS/eip-7702) (EIP-7702), чтобы ими можно было управлять с помощью смарт-контрактов. Также существует другой путь, который заключается в добавлении [второй, отдельной системы транзакций](https://eips.ethereum.org/EIPS/eip-4337) (EIP-4337) для параллельной работы с существующим протоколом. Вне зависимости от выбранной реализации результатом будет доступ к Ethereum через кошельки умных контрактов, либо нативно поддерживаемые в существующем протоколе, либо добавленные через дополнительную сеть для транзакций.

Кошельки умных контрактов открывают пользователю множество возможностей, например:

- Определять собственные гибкие правила безопасности
- Восстанавливать аккаунт в случае потери ключей
- Разделить доступ к аккаунту между доверенными устройствами и лицами
- Расплачиваться за чей-либо газ либо давать другим платить за ваш
- Объединять транзакции в партии (например, одобрять и выполнять обмен за раз)
- Больше возможностей для децентрализованных приложений и разработчиков кошельков, чтобы развивать опыт взаимодействия пользователей

Эти преимущества сегодня не поддерживаются нативно, поскольку только внешние аккаунты ([EOA](/glossary/#eoa)) могут инициировать транзакции. EOA — это простые пары публичных и приватных ключей. Они работают следующим образом:

- если у вас есть приватный ключ, вы можете делать _что угодно_ в рамках правил виртуальной машины Ethereum (EVM)
- если у вас нет приватного ключа, вы не можете делать _ничего_.

Если вы потеряете свои ключи, их нельзя будет восстановить, а украденные ключи дадут похитителю полный доступ ко всем вашим средствам на аккаунте.

Кошельки на основе смарт-контрактов — это решение этих проблем, но сегодня их сложно программировать, поскольку в конечном счете любая реализуемая ими логика должна быть преобразована в набор транзакций EOA, прежде чем они смогут быть обработаны Ethereum. Абстрагирование аккаунта дает возможность умным контрактам инициировать транзакции самостоятельно, поэтому любая логика, которую пользователь захочет реализовать, сможет быть запрограммирована в самом кошельке умного контракта и выполнена в Ethereum.

В конечном счете абстрагирование аккаунта улучшает поддержку кошельков умных контрактов, упрощая их разработку и делая их использование безопаснее. С помощью абстрагирования аккаунта пользователи могут пользоваться всеми преимуществами Ethereum без необходимости понимать базовую технологию.

## За рамками сид-фраз {#beyond-seed-phrases}

В настоящий момент все аккаунты защищены приватными ключами, которые вычисляются на основе кодовых фраз. Любой человек с доступом к кодовой фразе может без проблем получить приватный ключ, которым защищен аккаунт, и доступ ко всем хранящимся в нем средствам. Если приватный ключ и кодовая фраза утеряны, активы становятся навсегда недоступными. Надежно хранить эти кодовые фразы — непростая задача даже для экспертов, а их получение с помощью фишинга — один из самых распространенных способов сделать пользователей своей жертвой.

Абстрагирование аккаунта решает это путем использования умного контракта для хранения активов и авторизации транзакций. Умные контракты могут включать в себя специальную логику, разработанную для максимальной безопасности и удобства использования. Пользователи по-прежнему используют приватные ключи для управления доступом, но с улучшенными мерами безопасности.

Например, в кошелек можно добавить резервные ключи, что позволяет заменить основной ключ, если он будет скомпрометирован. Каждый ключ может быть защищен по-разному или распределен между доверенными лицами, что значительно повышает безопасность. Дополнительные правила для кошелька могут смягчить ущерб от раскрытия ключа, например, можно требовать несколько подписей для дорогостоящих транзакций или ограничить транзакции только доверенными адресами.

## Улучшенный пользовательский опыт {#better-user-experience}

Абстракция аккаунтов значительно улучшает пользовательский опыт и безопасность, обеспечивая поддержку кошельков на основе смарт-контрактов на уровне протокола. Разработчики могут свободно внедрять инновации, улучшая объединение транзакций в пакеты для повышения скорости и эффективности. Простые обмены могут стать операциями в один клик, что значительно повышает удобство использования.

Управление газом значительно улучшается. Приложения могут оплачивать комиссию за газ для пользователей или разрешать оплату в токенах, отличных от ETH, что избавляет от необходимости поддерживать баланс в ETH.

## Как будет внедряться абстрагирование аккаунтов? {#how-will-aa-be-implemented}

В настоящее время кошельки на основе смарт-контрактов сложно реализовать, поскольку они полагаются на сложный код, "обертывающий" стандартные транзакции. Ethereum может изменить это, позволив смарт-контрактам напрямую инициировать транзакции и встраивая логику в смарт-контракты Ethereum, а не полагаясь на внешних ретрансляторов.

### EIP-4337: абстракция аккаунта без изменений в протоколе

EIP-4337 обеспечивает нативную поддержку кошельков на основе смарт-контрактов без изменения основного протокола Ethereum. Он вводит объекты `UserOperation`, которые собираются валидаторами в пакеты транзакций, что упрощает разработку кошельков. Контракт EntryPoint для EIP-4337 был развернут в основной сети Ethereum 1 марта 2023 года и способствовал созданию более 26 миллионов смарт-кошельков и 170 миллионов UserOperations.

## Текущий прогресс {#current-progress}

В рамках обновления Pectra для Ethereum внедрение EIP-7702 запланировано на 7 мая 2025 года. EIP-4337 получил широкое распространение: [было развернуто более 26 миллионов смарт-аккаунтов и обработано более 170 миллионов UserOperations](https://www.bundlebear.com/erc4337-overview/all).

## Дополнительные материалы {#further-reading}

- [erc4337.io](https://docs.erc4337.io/)
- [Документация по EIP-4337](https://eips.ethereum.org/EIPS/eip-4337)
- [Документация по EIP-7702](https://eips.ethereum.org/EIPS/eip-7702)
- [Панель внедрения ERC-4337](https://www.bundlebear.com/erc4337-overview/all)
- [Статья Виталика "Путь к абстракции аккаунтов"](https://notes.ethereum.org/@vbuterin/account_abstraction_roadmap#Transaction-inclusion-lists)
- [Блог Виталика о кошельках с социальным восстановлением](https://vitalik.eth.limo/general/2021/01/11/recovery.html)
- [Подборка материалов по абстракции аккаунтов](https://github.com/4337Mafia/awesome-account-abstraction)
