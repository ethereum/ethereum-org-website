---
title: "アカウント抽象化"
description: "ユーザーアカウントをよりシンプルかつ安全にするためのイーサリアムの計画概要"
lang: ja
summaryPoints:
  - アカウント抽象化により、スマートコントラクトウォレットの構築が大幅に簡素化されます。
  - スマートコントラクトウォレットにより、イーサリアムアカウントへのアクセス管理が大幅に簡素化されます。
  - 複数のバックアップを使用して、紛失・漏洩した鍵を復元できます。
---

# アカウント抽象化 {#account-abstraction}

ほとんどの既存ユーザーは、\*\*[外部所有アカウント(EOA)](/glossary/#eoa)\*\*を使用してイーサリアムとやりとりします。 ユーザーとイーサリアムのやり取りは、EOAにより制限されています。 例えば、トランザクションのバッチ処理が困難になり、ユーザーはトランザクションフィーを支払うために常にETH残高を維持する必要があります。

アカウント抽象化は、ユーザーがアカウントに対してセキュリティを強化したり、ユーザーエクスペリエンスを柔軟にプログラムできるようにすることで、これらの問題を解決する方法です。 これは[EOAをアップグレードする](https://eips.ethereum.org/EIPS/eip-7702) (EIP-7702) ことで可能になり、スマートコントラクトでEOAを制御できるようになります。 また、既存のプロトコルと並行して動作する[第2の独立したトランザクションシステム](https://eips.ethereum.org/EIPS/eip-4337) (EIP-4337) を追加するという方法もあります。 どの方法であっても、結果としてスマートコントラクトウォレットを介してイーサリアムにアクセスします。これは、既存のプロトコルの一部を利用しても、アドオンのトランザクションネットワークを介しても、ネイティブにサポートされます。

スマートコントラクトウォレットは、ユーザーにさまざまな利点をもたらします。

- 独自の柔軟なセキュリティルールを定義できる
- 鍵を失くしても、アカウントを復元できる
- 信頼しているデバイスや個人間でアカウントのセキュリティを共有できる
- 他のアカウントのガスを支払う、または他のアカウントに自分のガス代を支払ってもらうことができる
- トランザクションをまとめて処理できる (例: 一括でスワップを承認して実行する)
- dAppとウォレットのデベロッパーがユーザーエクスペリエンスでイノベーションを起こす機会が増える

現在、外部所有アカウント ([EOA](/glossary/#eoa)) のみがトランザクションを開始できるため、これらの利点はネイティブにサポートされていません。 EOAは、シンプルに公開鍵と秘密鍵のペアで構成されており、 仕組みは以下のとおりです。

- 秘密鍵を持っていれば、イーサリアム仮想マシン(EVM)のルールの範囲内で_何でも_できます
- 秘密鍵を持っていなければ、_何も_できません。

鍵を紛失すると、復元できません。また、鍵が盗まれると、アカウント内のすべての資金に即座にアクセスされてしまいます。

スマートコントラクトウォレットは、これらの問題の解決策ですが、実装するロジックはイーサリアムで処理する前に一連のEOAトランザクションに変換する必要があるため、現在ではプログラムすることが難しくなっています。 アカウント抽象化により、スマートコントラクト自体がトランザクションを開始できるようになり、ユーザーが実装したいロジックをスマートコントラクトウォレット自体にコード化し、イーサリアム上で実行できるようになります。

最終的に、アカウント抽象化によってスマートコントラクトウォレットのサポートが向上するため、構築が簡素化し、安全に使用できるようになり、 アカウントの抽象化により、ユーザーは基盤となるテクノロジーを理解する必要なく、イーサリアムのすべての利点を享受できます。

## シードフレーズを超えて {#beyond-seed-phrases}

現在のアカウントは、シードフレーズから計算された秘密鍵を使用して保護されています。 シードフレーズにアクセスできる人は、アカウントを保護する秘密鍵を簡単に発見し、保護されているすべての資産にアクセスできます。 秘密鍵とシードフレーズを紛失した場合、資産に永久にアクセスできなくなります。 シードフレーズの保護は、熟練ユーザーであっても簡単ではありません。また、ユーザーが詐欺に遭う最も一般的な手法の1つとしてシードフレーズフィッシングがあります。

アカウント抽象化では、スマートコントラクトを使用して資産を保持し、トランザクションを承認することで、この問題を解決します。 スマートコントラクトには、セキュリティとユーザビリティを最大限に高めるために調整されたカスタムロジックを含めることができます。 ユーザーは引き続き秘密鍵を使用してアクセスを制御しますが、安全対策が強化されています。

例えば、ウォレットにバックアップキーを追加でき、プライマリーキーが漏洩した場合にキーの交換が可能になります。 各キーは異なる方法で保護したり、信頼できる個人に配布したりでき、セキュリティが大幅に向上します。 追加のウォレットルールにより、高額なトランザクションに複数の署名を要求したり、トランザクションを信頼できるアドレスに制限したりするなどして、キーの漏洩による損害を軽減できます。

## より良いユーザーエクスペリエンス {#better-user-experience}

アカウントの抽象化は、プロトコルレベルでスマートコントラクトウォレットをサポートすることにより、ユーザーエクスペリエンスとセキュリティを大幅に向上させます。 デベロッパーは自由にイノベーションを起こし、トランザクションのバンドルを改善して速度と効率を向上させることができます。 単純なスワップがワンクリック操作になり、使いやすさが大幅に向上します。

ガス管理が大幅に改善されます。 アプリケーションがユーザーのガス代を支払ったり、ETH以外のトークンでの支払いを許可したりできるため、ETH残高を維持する必要がなくなります。

## アカウント抽象化の実装方法 {#how-will-aa-be-implemented}

現在、スマートコントラクトウォレットは、標準的なトランザクションをラップする複雑なコードに依存しているため、実装が困難です。 イーサリアムは、外部リレーヤーに頼るのではなく、スマートコントラクトが直接トランザクションを開始し、ロジックをイーサリアムのスマートコントラクトに埋め込めるようにすることで、この状況を変えることができます。

### EIP-4337: プロトコル変更を伴わないアカウント抽象化

EIP-4337は、イーサリアムのコアプロトコルを変更することなく、ネイティブなスマートコントラクトウォレットのサポートを可能にします。 これにより`UserOperation`オブジェクトが導入され、バリデータによってトランザクションバンドルに集められることで、ウォレット開発が簡素化されます。 EIP-4337のEntryPointコントラクトは2023年3月1日にイーサリアムメインネットにデプロイされ、2,600万を超えるスマートウォレットと1億7,000万のUserOperationの作成を促進しました。

## 現在の進捗 {#current-progress}

イーサリアムのPectraアップグレードの一環として、EIP-7702は2025年5月7日に予定されています。 EIP-4337は広く採用されており、[2,600万を超えるスマートアカウントがデプロイされ、1億7,000万を超えるUserOperationが処理されています](https://www.bundlebear.com/erc4337-overview/all)。

## 参考リンク{#further-reading}

- [erc4337.io](https://docs.erc4337.io/)
- [EIP-4337ドキュメント](https://eips.ethereum.org/EIPS/eip-4337)
- [EIP-7702ドキュメント](https://eips.ethereum.org/EIPS/eip-7702)
- [ERC-4337採用ダッシュボード](https://www.bundlebear.com/erc4337-overview/all)
- [Vitalikの「アカウント抽象化への道」](https://notes.ethereum.org/@vbuterin/account_abstraction_roadmap#Transaction-inclusion-lists)
- [ソーシャルリカバリーウォレットに関するVitalikのブログ](https://vitalik.eth.limo/general/2021/01/11/recovery.html)
- [素晴らしいアカウント抽象化](https://github.com/4337Mafia/awesome-account-abstraction)
