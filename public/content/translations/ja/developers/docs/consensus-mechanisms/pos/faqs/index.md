---
title: よくある質問
description: プルーフ・オブ・ステークについてのよくある質問
lang: ja
---

## プルーフ・オブ・ステークとは何ですか？ {#what-is-proof-of-stake}

プルーフ・オブ・ステークとは、悪意の行為を実行した攻撃者の資産価値を没収することで、ブロックチェーンの安全性を保護するアルゴリズムのクラスを指します。 プルーフ・オブ・ステークのシステムでは、バリデータ(検証者)が不正行為を行ったと実証される場合、自分の資産の一部が破壊されることを了承した上で預け入れる意思を持つバリデータ群が必要になります。 イーサリアムでは、ブロックチェーンの安全性を保護するためにプルーフ・オブ・ステークのメカニズムを採用しています。

## プルーフ・オブ・ステークとプルーフ・オブ・ワークの違いは何ですか？ {#comparison-to-proof-of-work}

プルーフ・オブ・ワークとプルーフ・オブ・ステークはいずれも、悪意のアクターがスパム行為やネットワーク上の不正行為を行う場合に経済的な不利益を被ることになるメカニズムであるという点では共通しています。 どちらのメカニズムでも、コンセンサスに積極的に関与する各ノードは、自分の資産の一部を「ネットワークに預け入れる」必要があり、預け入れられた資産は不正行為が発覚した場合に没収されます。

プルーフ・オブ・ワークでは、この預け入れる資産はユーザーのエネルギーです。 マイナーと呼ばれるノードは、他のノードよりも迅速に特定の値を処理することを目標とするアルゴリズムを実行します。 最も速く処理を完了したノードが、チェーンにブロックを提案する権利を得ます。 チェーンの履歴を変更したり、ブロック提案における支配権を獲得するには、マイナーは常にこの処理レースに勝利するために莫大な処理能力を持つ必要があります。 これは途方もなく高額な費用を要し、実行が困難であるため、チェーンを攻撃から守ることができます。 プルーフ・オブ・ワークにおいて「マイニング」を実行するために必要なエネルギーとは、マイナーが支払う現実世界の資産です。

一方、プルーフ・オブ・ステークでは、バリデータと呼ばれるノードが必要となります。バリデータは、当該のスマートコントラクトに対して、自らの暗号資産を明確に預け入れる必要があります。 プルーフ・オブ・ワークはエネルギー費用による間接的な制裁メカニズムを採用していますが、プルーフ・オブ・ステークでは、バリデータはチェーンに直接自分の資産を「預け入れる」ため、不正行為を行った場合はその暗号資産が破壊されます。

プルーフ・オブ・ワークではマイニングにおいて電力が消費されるため、よりエネルギー効率が低いと言えます。 一方、プルーフ・オブ・ステークではエネルギー消費量は非常に少なく抑えることができ、イーサリアムのバリデータはRaspberry Piなどの低電力消費のコンピュータでも作業を実行できます。 イーサリアムが採用したプルーフ・オブ・ステークのメカニズムでは、攻撃者が負担するコストがより大きく、より厳格な制裁が課されるため、プルーフ・オブ・ワークよりも安全性が高いと考えられています。

プルーフ・オブ・ワークとプルーフ・オブ・ステークのどちらが優れているかについては、現在も論争が続いています。 [ビタリック・ブテリンのブログ](https://vitalik.eth.limo/general/2017/12/31/pos_faq.html#what-are-the-benefits-of-proof-of-stake-as-opposed-to-proof-of-work)およびジャスティン・ドレイクとリン・オールデンとのディベートは、この論争で参考となる要約になっています。

<YouTube id="1m12zgJ42dI" />

## プルーフ・オブ・ステークは、エネルギー効率が良いと言えますか？ {#is-pos-energy-efficient}

プルーフ・オブ・ステークのネットワークに含まれる各ノードは、ごくわずかの電力しか消費しません。 あるサードパーティ調査によれば、イーサリアムにおけるプルーフ・オブ・ステークのネットワーク全体で消費される電力は年間0.0026TWhであり、米国のゲーム用途の電力消費量と比較するとおよそ1万3,000分の1に過ぎません。

[イーサリアムのエネルギー消費についての詳細](/energy-consumption/)

## プルーフ・オブ・ステークは安全ですか？ {#is-pos-secure}

イーサリアムのプルーフ・オブ・ステークは、非常に安全性が高いと言えます。 プルーフ・オブ・ステークのメカニズムは、実際に導入される前に、8年間にわたりって研究・開発、厳格な検証が行われてきました。 プルーフ・オブ・ステークによるセキュリティの保証は、プルーフ・オブ・ワークの場合とは異なっています。 プルーフ・オブ・ステークでは、悪意のバリデータを積極的に処罰し(「スラッシュする」)、バリデータリストから削除できるため、攻撃者は多額のイーサを失うことになります。 一方プルーフ・オブ・ワークでは、攻撃者はハッシュパワーが十分である限り攻撃を継続できてしまいます。 また、同等の攻撃を行うための費用も、プルーフ・オブ・ステークの方がプルーフ・オブ・ワークよりも高価になります。 プルーフ・オブ・ステークでは、チェーンの生存性に悪影響を及ぼすためにはネットワークにステーキングするイーサの量が全体の33%以上でなければなりません(成功確率がきわめて低い非常に洗練された攻撃の場合を除く)。 将来のブロックの内容を支配するためには、ステーキングされたイーサの合計量の51%以上が必要であり、履歴の変更には66%以上が必要になります。 イーサリアムのプロトコルでは、これらの33%あるいは51%を保有する攻撃者の資産を破壊することができ、66%の攻撃シナリオでは社会的コンセンサスにより破壊が可能です。

- [イーサリアムにおけるプルーフ・オブ・ステークのメカニズムを攻撃者から防御する方法についての詳細](/developers/docs/consensus-mechanisms/pos/attack-and-defense)
- [プルーフ・オブ・ステークの設計に関する詳細](https://medium.com/@VitalikButerin/a-proof-of-stake-design-philosophy-506585978d51)

## プルーフ・オブ・ステークの導入により、イーサリアムの利用コストを引き下げられますか？ {#does-pos-make-ethereum-cheaper}

できません。 トランザクションを送信するコスト(ガス代)は常に変化する手数料市場により決定され、ネットワーク需要と比例して上昇します。 イーサリアムのコンセンサス・メカニズムは、利用コストに直接的な影響を及ぼしません。

[ガスについての詳細](/developers/docs/gas)

## ノード、クライアント、バリデータとは何ですか？ {#what-are-nodes-clients-and-validators}

ノードとは、イーサリアム・ネットワークに接続されたコンピュータを指します。 クライアントとは、各コンピュータがノードとして機能するために実行されるソフトウェアを指します。 クライアントには、実行クライアントとコンセンサス・クライアントの2種類があります。 ノードとして機能するためには、これら2種類のソフトウェアが両方必要です。 バリデータとは、コンセンサス・クライアントがオプションで搭載できるアドオン機能であり、この機能を持つノードはプルーフ・オブ・ステークによるコンセンサス作業に参加できるようになります。 具体的には、バリデータに選定された場合にブロックを作成、提案でき、ネットワーク上で情報を得たブロックに対するアテステーションを実行できるようになります。 ノードの運用者がバリデータを実行するには、入金コントラクトに32イーサを預け入れる必要があります。

- [ノードおよびクライアントについての詳細](/developers/docs/nodes-and-clients)
- [ステークの詳細](/staking)

## プルーフ・オブ・ステークは新しいアイデアですか？ {#is-pos-new}

できません。 BitcoinTalk上のあるユーザーが2011年に、ビットコインをアップグレードする方法として[プルーフ・オブ・ステークの基本概念](https://bitcointalk.org/index.php?topic=27787.0)を提案しました。 イーサリアム・メインネット上でプルーフ・オブ・ステークの導入が可能になる11年前のことでした。 他のいくつかのブロックチェーンではイーサリアムよりも早期にプルーフ・オブ・ステークのメカニズムを導入しましたが、イーサリアムが導入したメカニズム(ガスパー)とは異なります。

## イーサリアムにおけるプルーフ・オブ・ステークのメカニズムは、他のチェーンの場合と何が異なりますか？ {#why-is-ethereum-pos-special}

イーサリアムにおけるプルーフ・オブ・ステークのメカニズムは、独自の設計になっています。 イーサリアムに先がけて設計、実装されたプルーフ・オブ・ステークのメカニズムと比較すると、最も堅牢なメカニズムであると言えるでしょう。 イーサリアムにおけるプルーフ・オブ・ステークのメカニズムは、「キャスパー」と呼ばれます。 キャスパーでは、ブロック提案を行うバリデータを選出する方法、アテステーションがいつ、どのように作成されるか、アテステーションをどのように数えるか、バリデータに提供される報酬およびバリデータに課されるペナルティ、スラッシングの実行条件、インアクティブ・リークなどのフェイルセーフのメカニズム、および「ファイナリティ」の条件といった事項が定義されています。 ファイナリティとは、当該ブロックが正規チェーンの永続的な一部であると見なされるための条件であり、ネットワーク上でステーキングされたイーサ総量の少なくとも66%以上が投票する必要があります。 キャスパーは、特にイーサリアムを念頭に置いて開発されたメカニズムであり、イーサリアムが最初に実装して以降、現在も他のブロックチェーンは採用していません。

イーサリアムのプルーフ・オブ・ステークでは、キャスパーに加えて、LMD-GHOSTというフォーク選択アルゴリズムを採用しています。 このアルゴリズムは、同一スロットに複数のブロックが存在する状況において必要になります。 このような状況では、ブロックチェーンが2つのフォークに分岐します。 LMD-GHOSTは、アテステーションの「加重」がより大きい方を正規のフォークとして選びます。 この加重は、アテステーションの数を、バリデータの有効な残高に基づき加重した値です。 LMD-GHOSTも、イーサリアム独自の機能です。

キャスパーおよびLMD-GHOSTをまとめて、「ガスパー」と呼んでいます。

[ガスパーについての詳細](/developers/docs/consensus-mechanisms/pos/gasper/)

## スラッシングとは何ですか？ {#what-is-slashing}

スラッシングとは、バリデータがステーキングした資産の一部を破壊し、バリデータをネットワークから退出させる行為を指します。 スラッシングで破壊されるイーサの量は、スラッシング対象のバリデータの数に応じて変化します。つまり、複数のバリデータが共謀して悪意の行為を行った場合、1名の悪意のユーザーに対する場合よりも厳格に罰せられます。

[スラッシングについての詳細](/developers/docs/consensus-mechanisms/pos/rewards-and-penalties#slashing)

## バリデータが32イーサを預け入れなければならないのはなぜですか？ {#why-32-eth}

バリデータに対してイーサのステーキングを要求するのは、悪意の行為を行った場合にペナルティを課すためです。 預入額を32イーサに設定しているのは、各ノードがあまり高額でないなハードウェアで実行できるようにするためです。 バリデータに要求される預入額が32イーサよりも少ない場合、各スロットにおいて処理が必要なバリデータの数およびそれに伴うメッセージの数が増加するため、ノードを実行するのにより処理能力が高いハードウェアが必要になるのです。

## バリデータは、どのように選出されますか？ {#how-are-validators-selected}

各スロットにおいてブロックを提案できるバリデータが、疑似的な無作為性に基づき1名選出されます。これは、ブロック提案者のハッシュとブロックごとに更新されるシードを混合するRANDAOというアルゴリズムを用いて行われます。 この混合値は、バリデータの全リストから当該の1名を選出するために用いられます。 バリデータの選出は、2つ前のエポックの時点で事前に完了しています。

[バリデータの選出についての詳細](/developers/docs/consensus-mechanisms/pos/block-proposal)

## ステーク・グラインディングとは何ですか？ {#what-is-stake-grinding}

ステーク・グラインディングとは、プルーフ・オブ・ステークのネットワークに対する攻撃の一種であり、攻撃者が自分にとって有利なバリデータが選出されるようにバリデータ選出アルゴリズムを影響付けようとする手法です。 RANDAOに対するステーク・グラインディング攻撃を実行するには、ステーキングされたイーサ総量の約半分が必要になります。

[ステーク・グラインディングについての詳細](https://eth2book.info/altair/part2/building_blocks/randomness/#randao-biasability)

## ソーシャルスラッシングとは何ですか？ {#what-is-social-slashing}

ソーシャルスラッシングとは、ネットワークが攻撃を受けた際に、ユーザーコミュニティがブロックチェーンのフォークを調整する能力を指します。 ユーザーコミュニティは、ソーシャルスラッシングを通じて、攻撃者がファイナライズしてしまった不正なチェーンを元に戻すことができます。 ソーシャルスラッシングはさらに、検閲攻撃に対しても活用できます。

- [ソーシャルスラッシングについての詳細](https://ercwl.medium.com/the-case-for-social-slashing-59277ff4d9c7)
- [ソーシャルスラッシングについてのヴィタリック・ブテリンの意見](https://vitalik.eth.limo/general/2017/12/31/pos_faq.html#what-is-proof-of-stake)

## 私もスラッシングの対象になりますか？ {#will-i-get-slashed}

バリデータに対しては、故意に悪意の行動を実行しない限り、スラッシングの対象になる可能性は非常に低いです。 スラッシングが実行されるのは、バリデータが同一スロットに対して複数のブロックを提案する場合や、アテステーションと矛盾した行動を取るという非常に限定的なシナリオにおいてのみであり、これらの状況が偶然発生する可能性はほとんどありません。

[スラッシングの実行条件についての詳細](https://eth2book.info/altair/part2/incentives/slashing)

## ステーキング無しの問題とは何ですか？ {#what-is-nothing-at-stake-problem}

ステーキング無しの問題とは、報酬のみを伴い、ペナルティが科せられない一部のプルーフ・オブ・ステークのメカニズムにおける概念上の問題です。 ステーキングが要求されない場合、実利を求めるバリデータは、報酬を増やすために、ブロックチェーンのいかなるいかなるフォークに対して、あるいは複数のフォークに対して喜んでアテステーションを行うでしょう。 イーサリアムでは、ファイナリティ条件とスラッシングのメカニズムを採用することで、唯一の正規チェーンを維持できるようにしています。

[ステーキング無し問題についての詳細](https://vitalik.eth.limo/general/2017/12/31/pos_faq.html#what-is-the-nothing-at-stake-problem-and-how-can-it-be-fixed)

## フォーク選択アルゴリズムとは何ですか？ {#what-is-a-fork-choice-algorithm}

フォーク選択アルゴリズムは、正規チェーンを選定するためのルールを実装するものです。 望ましい状況においては、各スロットにつき1名のブロック提案者が存在し、選択できるブロックが1つであるため、フォーク選択ルールの必要性がありません。 しかし、同一スロットに複数のブロックが存在したり、情報の到着が遅延することにより、チェーンの先頭近くにおいてどのようにブロックを並べるかについて複数の選択肢が生まれる場合があります。 この場合、すべてのクライアントが同一のルールを実行することで、全クライアントがブロックの正しいシーケンスを選択するようにしなければなりません。 フォーク選択アルゴリズムは、このようなルールをコード化するものです。

イーサリアムでは、LMD-GHOSTというフォーク選択アルゴリズムを採用しています。 このアルゴリズムでは、アテステーションの加重が最も大きいフォーク、つまりステーキングされたイーサ量を最も多く集めたフォークが選択されます。

[LMD-GHOSTについての詳細](/developers/docs/consensus-mechanisms/pos/gasper/#fork-choice)

## プルーフ・オブ・ステークにおけるファイナリティとは何ですか？ {#what-is-finality}

プルーフ・オブ・ステークにおけるファイナリティとは、特定のブロックが正規チェーンの永続的な一部となり、攻撃者がステーキングされたイーサ総量の33%をバーンすることでコンセンサス障害を発生させない限り、取り消すことができない状況を指します。 これは、「暗号経済的な」ファイナリティであり、プルーフ・オブ・ワークを採用したブロックチェーンにおける「確率論的なファイナリティ」と対比される概念です。 確率論的なファイナリティにおいては、ブロックに対して明確にファイナライズされた/されていない状態というものが存在しません。つまり、各ブロックは、作成後の時間が経過するに従ってチェーンから削除される可能性が徐々に少なくなり、ユーザー自身が当該ブロックが「安全」である時期が到来したかどうかを決定する必要があるのです。 暗号経済的なファイナリティは、ステーキングされたイーサ総量の66%を占めるユーザーが、チェックポイントとなるブロックのペアを投票することで決定されます。 この投票で認められた場合、チェックポイントであるブロックのペア間に挟まれたブロックは明示的に「ファイナライズ」されます。

[ファイナリティについての詳細](/developers/docs/consensus-mechanisms/pos/#finality)

## 「弱い主観性」とは何ですか? {#what-is-weak-subjectivity}

弱い主観性とは、プルーフ・オブ・ステークのネットワークにおいて、ソーシャル情報を用いてブロックチェーンの現在の状態を確認する機能を指します。 新規ノードに対して、あるいは長期にわたりオフラインだったノードがネットワークに再参加する場合に、チェーンの最新状態が提供されるので、ノードはただちに正規チェーンに含まれていることを確認することができます。 チェーンのこれらの状態は「弱い主観性のチェックポイント」と呼ばれ、帯域外の他のノード運用者から、あるいはブロックエクスプローラーから、あるいは複数のパブリックエンドポイントから取得することができます。

[弱い主観性についての詳細](/developers/docs/consensus-mechanisms/pos/weak-subjectivity)

## プルーフ・オブ・ステークは、検閲耐性を持ちますか？ {#is-pos-censorship-resistant}

現在のところ、検閲耐性を証明するのは困難です。 ただしプルーフ・オブ・ワークの場合とは異なり、プルーフ・オブ・ステークではスラッシングを連携して実行するオプションが提供されるため、検閲するバリデータを罰することができます。 今後予定されているプロトコルの変更では、ブロック作成者とブロック提案者が分離され、作成者が各ブロックに含まなければならないトランザクションのリストが実装されます。 この提案は、提案者/作成者の分離と呼ばれており、バリデータがトランザクションを検閲できなくするために役立ちます。

[提案者/作成者の分離についての詳細](https://notes.ethereum.org/@fradamt/H1TsYRfJc#Original-basic-scheme)

## イーサリアムのプルーフ・オブ・ステークに対しては、51%攻撃が可能ですか？ {#pos-51-attack}

プルーフ・オブ・ワークの場合と同様に、プルーフ・オブ・ステークも51%攻撃に対する脆弱性が存在します。 ただし、攻撃者に必要なのはネットワーク全体のハッシュパワーのうち51%ではなく、ステーキングされたイーサ総量の51%である点が異なります。 攻撃者は、ステーキングされたイーサ総量の51%することで、フォーク選択アルゴリズムを支配することが可能になります。 この場合、攻撃者は一部のトランザクションを検閲し、ショートレンジの再編成を行い、自分に有利になるようにブロックの順序を入れ換えることでMEVを獲得することができます。

[プルーフ・オブ・ステークに対する攻撃の詳細](/developers/docs/consensus-mechanisms/pos/attack-and-defense)

## ソーシャル・コーディネーションとは何であり、なぜ必要なのですか？ {#what-is-social-coordination}

ソーシャル・コーディネーションは、イーサリアムにおける最後の防衛ラインであり、不正なブロックをファイナライズした攻撃から、正当なチェーンを回復することが可能になるものです。 この場合、イーサリアム・コミュニティは「帯域外」で連携して、正当な少数派フォークを採用することに合意し、同時に攻撃者のバリデータに対してスラッシングを実行する必要があります。 このプロセスには、正当なフォークを認識するためのアプリおよび取引所も必要になります。

[ソーシャル・コーディネーションについての詳細](/developers/docs/consensus-mechanisms/pos/attack-and-defense#people-the-last-line-of-defense)

## プルーフ・オブ・ステークでは、すでに資金が豊富なユーザーがさらに富を得るのですか？ {#do-rich-get-richer}

ステーキング可能なイーサ資金が多ければ多いほど、より多くのバリデータを実行でき、より多くの報酬を得ることができます。 報酬額はステーキングしたイーサの量と比例するため、どのユーザーも同一の割合の報酬を得ます。 プルーフ・オブ・ステークと比較すると、プルーフ・オブ・ワークの方が資金力が豊かなユーザーにとって有利です。と言うのも、資金が豊富なユーザーはその資金力を活かして高価なハードウェアを購入し、規模の経済による恩恵を得れらのです。つまり、プルーフ・オブ・ワークでは、資金力と報酬との関係が比例的ではありません。

## プルーフ・オブ・ステークのメカニズムは、プルーフ・オブ・ワークよりも分散性が低いのですか？ {#is-pos-decentralized}

いいえ。むしろプルーフ・オブ・ワークの方が、マイニングの費用が高額になり、参加できないユーザーや中小企業等が増加するため、分散性が損なわれます。 プルーフ・オブ・ステークが現在直面している課題は、流動性ステーキングデリバティブ(LSD)の影響をどう排除するかです。 LSDは、一部のプロバイダーがステーキングしたイーサを原資産とするトークンであり、ステーキングされた実際のイーサを解除することなく、流通市場で誰もがスワップすることができます。 このようなLSDを用いることで、32イーサ未満の資産でもステーキングが可能にありますが、ステークの大部分を少数の大規模組織が支配することが可能になるため、中央集権化のリスクを生み出してしまいます。 このため、イーサリアムにおいては [ソロ・ステーキング](/staking/solo)が最善の選択肢なのです。

[LSDによるステークの分散性低下についての詳細](https://notes.ethereum.org/@djrtwo/risks-of-lsd)

## ステーキングにイーサしか利用できないのはなぜですか？ {#why-can-i-only-stake-eth}

ETHはイーサリアムにおけるネイティブな通貨です。 投票の加重を決定し、セキュリティを維持するためには有効残高を正確に計算することが必要であり、それには、すべてのステーキングを同一の単位で表示する単一の通貨を定めなければなりません。 ETHは、それ自体がイーサリアムの基本的な構成要素であり、単なるスマートコントラクトとは言えません。 他の通貨を利用可能にする場合、ステーキングのプロセスがさらに複雑になり、安全性が低下します。

## イーサリアムは、プルーフ・オブ・ステークを採用した唯一のブロックチェーンですか？ {#is-ethereum-the-only-pos-blockchain}

いいえ、他にもプルーフ・オブ・ステークを採用しているブロックチェーンが存在します。 ただし、イーサリアムにおけるプルーフ・オブ・ステークは独自のメカニズムを採用しており、他のブロックチェーンの場合とは異なります。

## マージとは何ですか？ {#what-is-the-merge}

マージとは、イーサリアムのコンセンサス・メカニズムにつき、プルーフ・オブ・ワークに基づくものからプルーフ・オブ・ステークに基づくものに移行する作業を指します。 マージは、2022年9月15日に実行されました。

[マージの詳細](/roadmap/merge)

## 生存性および安全性とは何ですか？ {#what-are-liveness-and-safety}

生存性と安全性は、ブロックチェーンにおいて最も基本的なセキュリティ上の懸念事項です。 生存性とは、ファイナライズされたチェーンが存在することを指します。 つまり、チェーンのファイナライズが実行されなくなったり、ユーザーがファイナライズされたチェーンに簡単にアクセスできなくなった場合、生存性が失われたと言えます。 また、ネットワークへのアクセス費用が非常に高額になった場合も、生存性が失われたと考えられるでしょう。 一方、安全性とは、チェーンへの攻撃(競合するチェックポイントをファイナライズすること)がどれだけ困難であるかを示す概念です。

[キャスパー文書でより詳細に学ぶ](https://arxiv.org/pdf/1710.09437.pdf)
