---
title: ステーキングの引き出し
description: ステーキングの引き出しとその仕組み、そしてステーカーが報酬を獲得するためにすべきことをまとめたページ
lang: ja
template: staking
image: /images/staking/leslie-withdrawal.png
alt: サイのレズリーとそのステーキング報酬
sidebarDepth: 2
summaryPoints:
  - 上海/カペラアップグレードによってイーサリアム上でのステーキング引き出しが可能になりました。
  - 引き出しを可能にするためにバリデーター運用者は、引き出しアドレスを設定する必要があります。
  - 報酬は数日ごとに自動的に分配されます。
  - ステーキングを完全に終了したバリデーターは残高を受け取ります。
---

**ステーキングによる出金**とは、イーサリアムのコンセンサスレイヤー（ビーコンチェーン）上のバリデータアカウントから、取引が可能な実行レイヤーへのETHの送金を指します。

**32 ETHを超える超過残高の報酬**は、ユーザーが出金用アドレスを提供すると、各バリデータにリンクされたそのアドレスに自動的かつ定期的に送金されます。 ユーザーは**ステーキングを完全に終了**して、バリデータの全残高をアンロックすることもできます。

## ステーキング報酬 {#staking-rewards}

報酬の支払いは、有効残高の上限である32ETHに達したアクティブなバリデータアカウントに対して自動的に処理されます。

報酬で獲得した32ETHを超える残高は、実際には元金に寄与せず、ネットワークにおけるこのバリデータの重みを増やすことはなく、数日ごとに報酬の支払いとして自動的に引き出されます。 引き出しアドレスを設定する以外には、これらの報酬のためにバリデータ運用者は何もする必要はありません。 引き出しはコンセンサスレイヤーで始まるため、ガス（取引手数料）はどの段階でも不要です。

### ここまでの道のり {#how-did-we-get-here}

過去数年間でイーサリアムはいくつかのネットワークアップグレードを経て、かつてのようなエネルギー集約的なマイニングからETH自体によって保護されるネットワークに移行しました。 イーサリアムのコンセンサスに参加することは、その能力のために参加者がETHを自発的にロックアップして「賭ける（ステークする）」ことから「ステーキング」として知られています。 ルールに従うユーザーは報酬を与えられる一方、不正を試みた場合は罰せられます。

2020年11月にステーキング預け入れコントラクトがローンチされて以降、勇敢なイーサリアム先駆者が自発的に資産をロックし、ネットワークのルールに従って正式にブロックの証明や提案を行う特別なアカウントである「バリデータ」を起動させました。

上海/カペラのアップグレード以前は、ステークされたETHを使用したり、それにアクセスしたりすることはできませんでした。 しかし現在は、指定されたアカウントに報酬を自動的に受け取れるようにオプトインすることができ、また、いつでもステークされたETHを引き出すことができます。

### 準備すること {#how-do-i-prepare}

<WithdrawalsTabComparison />

### 重要なお知らせ {#important-notices}

引き出しアドレスの設定は、残高からETHを引き出させるようするために全てのバリデータアカウントに必要なステップです。

<Alert variant="warning">
<AlertEmoji text="⚠️"/>
<AlertContent>
<AlertDescription><strong>各バリデータアカウントには、出金アドレスを1回のみ、1つだけ割り当てることができます。</strong> アドレスを選択してコンセンサスレイヤーに送信した後は、これを取り消したり、再度変更したりすることはできません。 送信する前に、提供するアドレスの所有権と正確性を再確認してください。
</AlertDescription>
</AlertContent>
</Alert>

ニーモニック/シードフレーズが安全なオフラインのままであり、いかなる方法でも侵害されていないと仮定すると、引き出しアドレスを指定しない間も<strong>資金に対する脅威はありません</strong>。 引き出し認証情報の追加に失敗すると、ETHは引き出しアドレスが指定されるまでの間、単にバリデーターアカウントにロックされたままになります。

## ステーキングの完全な終了 {#exiting-staking-entirely}

バリデータアカウントの残高から資金を移動するには、事前に_いずれかの_出金用アドレスの提供が必要です。

ステーキングを完全に終了し、全残高を引き出そうとしているユーザーはまた、「自発的な終了」メッセージにバリデーター鍵で署名、ブロードキャストすることで、ステーキング終了のプロセスを開始しなければいけません。 この自発的な終了は、バリデータクライアントで行われ、コンセンサスノードに送信されます。また、ガスは必要ありません。

バリデーターがステーキングを終了するプロセスにかかる時間は、どれだけ他のバリデーターが同時に終了するかによって変動します。 プロセスが完了すると、このアカウントはもう検証ネットワークの義務を実行する責任を負うことはなく、 報酬を得る資格を失い、ETHが「賭けられて」は無くなります。 この時点で、アカウントは完全に「引き出し可能」としてマークされます。

アカウントが「引き出し可能」としてフラグされ、引き出し資格情報が設定されると、ユーザーは待機以外に何もする必要はありません。 アカウントは、出金対象の資金を求めてブロック提案者によって自動的かつ継続的にスイープされ、あなたのアカウント残高は次回の<a href="#validator-sweeping" customEventOptions={{ eventCategory: "Anchor link", eventAction: "Exiting staking entirely (sweep)", eventName: "click" }}>スイープ</a>中に全額送金されます（「全額出金」とも呼ばれます）。

## ステーキング出金はいつ有効になりましたか？ {#when}

出金機能は、**2023年4月12日**に行われたShanghai/Capellaアップグレードの一環として有効化されました。

上海/カペラアップグレードによって、過去にステークされていたETHを一般的なイーサリアムアカウントに回収することが可能になりました。 これにより、流動性をステークするループが閉じられ、イーサリアムは持続可能でスケーラブルかつ安全な分散型エコシステムの構築に向けた旅に一歩近づきました。

- [イーサリアムの歴史に関する詳細](/ethereum-forks/)
- [イーサリアムのロードマップに関する詳細](/roadmap/)

## 引き出しはどのように機能しますか？ {#how-do-withdrawals-work}

特定のバリデータが引き出しの対象であるかどうかは、そのバリデターアカウントの状態によって決定されます。 アカウントが引き出しを開始するかどうかを決定するために、どの時点でもユーザーによる入力は必要ありません。プロセス全体はコンセンサス層での継続的なループによって自動的に行われます。

### 映像で学びたい場合 {#visual-learner}

Finematicsによるイーサリアムステーキングの引き出しについての説明をチェックして下さい。

<YouTube id="RwwU3P9n3uo" />

### バリデータの「スイープ」 {#validator-sweeping}

バリデーターが次のブロックを提案する予定である場合、最大16件の適格な引き出しからなる引き出しキューを構築する必要があります。 これは、最初はバリデーターインデックス 0 から始まり、 プロトコルの規則に従ってこのアカウントが引き出し対象かどうかを判断し、対象である場合はキューに追加することで行われます。 次のブロックを提案するように設定されたバリデーターは、最後のブロックが中断したところから再開し、無限に順番に進めます。

<Alert variant="update">
<AlertEmoji text="🕛"/>
<AlertContent>
<AlertDescription>
アナログ時計について考えてみてください。 時計の針は時間を指し、一方向に進み、どの時間も飛ばさず、最後の数字に達すると、最終的に最初に戻ります。<br/><br/>
では、1から12の代わりに、時計に0からNまでの数字があると想像してみてください<em>（Nは、コンセンサスレイヤーにこれまでに登録されたバリデータアカウントの総数で、2023年1月時点で50万以上です）。</em><br/><br/>
時計の針は、出金対象かどうかを確認する必要がある次のバリデータを指します。 それは0から始まり、どのアカウントもスキップすることなく最後まで進みます。 最後のバリデータに達すると、サイクルは最初に戻って続きます。
</AlertDescription>
</AlertContent>
</Alert>

#### アカウントの出金確認 {#checking-an-account-for-withdrawals}

ブロック提案者がスイープしてバリデーターが引き出し可能かをチェックしている間、チェックされる各バリデータは短い一連の質問に対して評価され、引き出しが実行されるべきか、その場合はどれだけのETHが引き出されるべきか判断されます。

1. **出金アドレスは提供されていますか？** 出金アドレスが提供されていない場合、そのアカウントはスキップされ、出金は開始されません。
2. **バリデータは終了し、出金可能ですか？** バリデータが完全に終了し、そのアカウントが「出金可能」と見なされるエポックに到達した場合、全額出金が処理されます。 これにより全ての残高が引き出しアドレスに移されます。
3. **有効残高は上限の32に達していますか？** アカウントが出金認証情報を持ち、完全には終了しておらず、32を超える報酬が待機している場合、32を超える報酬のみをユーザーの出金アドレスに送金する部分出金が処理されます。

バリデーターのライフサイクルの過程で、このフローに直接影響を与えるバリデーター運用者の行動は2つしかありません：

- 引き出し資格情報を指定し、全ての形式の引き出しを有効にする。
- ネットワークから撤退し、完全引き出しを実行する。

### ガス手数料無料 {#gas-free}

ステーキング引き出しに対するこのアプローチでは、特定の量のETHの引き出しを要求するトランザクションをステーカーが手動で送信する必要がありません。 これは、**ガス（取引手数料）が不要**であり、出金が既存の実行レイヤーのブロックスペースを奪い合うこともない、ということを意味します。

### どれくらいの頻度でステーキング報酬を受け取れますか？ {#how-soon}

一つのブロックで処理が可能な引き出しの数は最大16です。 このレートでは、1日あたり115,200のバリデーターの引き出しを処理することができます(スロットの欠落がないと仮定)。 上記のように、引き出し対象でないバリデーターがスキップされると、スイープを完了するまでの時間が短縮されます。

この計算を拡張すると、任意の回数の引き出し処理にかかる時間を推定できます:

<TableContainer>

|   出金数   |        完了までの時間       |
| :-----: | :------------------: |
| 400,000 | 3.5日 |
| 500,000 | 4.3日 |
| 600,000 | 5.2日 |
| 700,000 | 6.1日 |
| 800,000 | 7.0日 |

</TableContainer>

このように、ネットワーク上のバリデーター数が増えると、完了にかかる時間は遅くなります。 スロットの欠落が増えればそれに比例して遅くなる可能性はありますが、これは一般的に起こりうる結果のの中では遅い方です。

## よくある質問 {#faq}

<ExpandableCard
title="出金アドレスを一度提供したら、別の出金アドレスに変更できますか？"
eventCategory="FAQ"
eventAction="Once I have provided a withdrawal address, can I change it to an alternative withdrawal address?"
eventName="read more">
できません。出金認証情報を提供するプロセスは一度きりであり、送信後は変更できません。 </ExpandableCard>

<ExpandableCard
title="なぜ出金アドレスは一度しか設定できないのですか？"
eventCategory="FAQ"
eventAction="Why can a withdrawal address only be set once?"
eventName="read more">
実行レイヤーの出金アドレスを設定することにより、そのバリデータの出金認証情報は恒久的に変更されるためです。 これはつまり、古い認証情報は使えなくなり、新しい認証情報が実行層アカウントに直結します。

引き出しアドレスは、スマートコントラクト(コードによって制御される) もしくは外部所有アカウント(EOA、秘密鍵によって制御される) のどちらかです。 現時点で、これらのアカウントがバリデーター認証情報の変更をコンセンサスレイヤーに伝える方法はありません。また、この機能を追加するとプロトコルが不必要に複雑になります。

特定のバリデーターの引き出しアドレスを変更する代わりに、 ユーザーは、Safeのような鍵の交換が可能なスマートコントラクトを引き出しアドレスに設定することを選択することができます。 自分のEOAに資金を設定したユーザーは、完全引き出しを行ってステークした全ての資金を引き出し、 新しい認証情報を使って再度ステークすることができます。 </ExpandableCard>

<ExpandableCard
title="ステーキングトークンやプールステーキングに参加している場合は？"
eventCategory="FAQ"
eventAction="What if I participate in staking tokens or pooled staking"
eventName="read more">

[ステーキングプール](/staking/pools/)に参加している場合や、ステーキングトークンを保有している場合は、各サービスの運営方法が異なるため、ステーキング出金がどのように処理されるかの詳細について、プロバイダーに確認する必要があります。

一般的に、ユーザーは自由に元金であるステークされたETHを回収したり、利用するステーキングプロバイダーを変更したりできるはずです。 特定のプールが大きくなりすぎた場合は、撤退および償還し、<a href="https://rated.network/">より小さいプロバイダー</a>で再びステーキングできます。 または、十分な量のETHを貯めたのであれば、[自宅からステーキング](/staking/solo/)することも可能です。

</ExpandableCard>

<ExpandableCard
title="報酬の支払い（部分出金）は自動的に行われますか？"
eventCategory="FAQ"
eventAction="Do reward payments (partial withdrawals) happen automatically?"
eventName="read more">
はい、バリデータが出金アドレスを提供している限り、自動的に行われます。 これは、最初に引き出しを有効にするために一度だけ設定する必要があります。すると、報酬の支払いは各バリデーターのスイープによって数日ごとに自動的に発生します。 </ExpandableCard>

<ExpandableCard
title="全額出金は自動的に行われますか？"
eventCategory="FAQ"
eventAction="Do full withdrawals happen automatically?"
eventName="read more">

いいえ、バリデーターがネットワーク上でまだアクティブである場合、完全引き出しは自動的には行われません。 これには自主的な終了を手動で行う必要があります。

バリデーターが終了プロセスを完了し、アカウントが引き出し認証情報に紐づいている場合、残高は次の<em></em><a href="#validator-sweeping">バリデータースイープ</a>の間に引き出されます。

</ExpandableCard>

<ExpandableCard title="任意の金額を出金できますか？"
eventCategory="FAQ"
eventAction="Can I withdraw a custom amount?"
eventName="read more">
出金は自動的にプッシュされるように設計されており、ステークに積極的に貢献していないETHが送金されます。 これには、終了プロセスを完了したアカウントの全残高も含まれてます。

特定の量のETHの引き出しを手動でリクエストすることはできません。 </ExpandableCard>

<ExpandableCard
title="バリデータを運用しています。 出金の有効化に関する詳細情報はどこで確認できますか？"
eventCategory="FAQ"
eventAction="I operate a validator. 出金の有効化に関する詳細情報はどこで確認できますか？"
eventName="read more">

バリデータのオペレータは、「<a href="https://launchpad.ethereum.org/withdrawals/">Staking Launchpad Withdrawals</a>」のページにアクセスすることをお勧めします。このページでは、引き出しのためにバリデータが準備することについて詳細、イベントのタイミング、引き出しの機能に関する詳細が記載されています。

まずテストネットで設定を試すには、<a href="https://hoodi.launchpad.ethereum.org">Hoodiテストネット・ステーキング・ランチパッド</a>にアクセスして始めましょう。

</ExpandableCard>

<ExpandableCard
title="終了後にETHをさらにデポジットして、バリデータを再アクティベートできますか？"
eventCategory="FAQ"
eventAction="Can I re-activate my validator after exiting by depositing more ETH?"
eventName="read more">
できません。 一度バリデーターを終了し、残高がすべて引き出されると、そのバリデーターに入金された追加の資金は次のバリデータースイープで引き出しアドレスに自動的に移されます。 そのためETHを再びステークするには、新しいバリデーターを起動する必要があります。 </ExpandableCard>

## 参考リンク{#further-reading}

- [ステーキング・ランチパッドでの出金](https://launchpad.ethereum.org/withdrawals)
- [EIP-4895: 操作としてのビーコンチェーン・プッシュ出金](https://eips.ethereum.org/EIPS/eip-4895)
- [PEEPanEIP #94: Potuz氏とHsiao-Wei Wang氏によるステークされたETHの出金（テスト）](https://www.youtube.com/watch?v=G8UstwmGtyE)
- [PEEPanEIP#68: EIP-4895: Alex Stokes氏による「操作としてのビーコンチェーン・プッシュ出金」の解説](https://www.youtube.com/watch?v=CcL9RJBljUs)
- [バリデータの有効残高について](https://www.attestant.io/posts/understanding-validator-effective-balance/)
