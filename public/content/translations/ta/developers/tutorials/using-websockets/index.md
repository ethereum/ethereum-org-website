---
title: வெப்சாக்கெட்களைப் பயன்படுத்துதல்
description: JSON-RPC கோரிக்கைகளைச் செய்வதற்கும் நிகழ்வுகளுக்கு குழுசேருவதற்கும் வெப்சாக்கெட்டுகள் மற்றும் அல்கெமியைப் பயன்படுத்துவதற்கான வழிகாட்டி.
author: "எலன் ஹால்பெர்ன்"
lang: ta
tags:
  [
    "அல்கெமி",
    "வெப்சாக்கெட்டுகள்",
    "வினவுதல்",
    "ஜாவாஸ்கிரிப்ட்"
  ]
skill: beginner
source: அல்கெமி ஆவணங்கள்
sourceUrl: https://www.alchemy.com/docs/reference/best-practices-for-using-websockets-in-web3
published: 2020-12-01
---

இது எத்தேரியம் பிளாக்செயினுக்கு கோரிக்கைகளை வைக்க வெப்சாக்கெட்டுகள் மற்றும் அல்கெமியைப் பயன்படுத்துவதற்கான ஒரு நுழைவு நிலை வழிகாட்டியாகும்.

## வெப்சாக்கெட்கள் vs. HTTP {#websockets-vs-http}

HTTP போலல்லாமல், வெப்சாக்கெட்களுடன், நீங்கள் குறிப்பிட்ட தகவலை விரும்பும்போது தொடர்ந்து கோரிக்கைகளைச் செய்ய வேண்டியதில்லை. வெப்சாக்கெட்கள் உங்களுக்காக ஒரு நெட்வொர்க் இணைப்பை (சரியாகச் செய்தால்) பராமரித்து மாற்றங்களைக் கவனிக்கின்றன.

எந்தவொரு நெட்வொர்க் இணைப்பைப் போலவே, ஒரு வெப்சாக்கெட் குறுக்கீடு இல்லாமல் எப்போதும் திறந்திருக்கும் என்று நீங்கள் கருதக்கூடாது, ஆனால் கைவிடப்பட்ட இணைப்புகளைச் சரியாகக் கையாள்வதும், மீண்டும் இணைப்பதும் சரியாகச் செய்வது சவாலானது. வெப்சாக்கெட்டுகளின் மற்றொரு தீங்கு என்னவென்றால், பதிலில் நீங்கள் HTTP நிலைக் குறியீடுகளைப் பெறுவதில்லை, பிழைச் செய்தியை மட்டுமே பெறுவீர்கள்.

[அல்கெமி Web3](https://docs.alchemy.com/reference/api-overview) ஆனது, எந்த உள்ளமைவும் தேவையில்லாமல் வெப்சாக்கெட் தோல்விகள் மற்றும் மீண்டும் முயற்சிகளுக்கான கையாளுதலைத் தானாகவே சேர்க்கிறது.

## இதை முயற்சித்துப் பாருங்கள் {#try-it-out}

வெப்சாக்கெட்களை சோதித்துப் பார்ப்பதற்கான எளிதான வழி, [wscat](https://github.com/websockets/wscat) போன்ற வெப்சாக்கெட் கோரிக்கைகளைச் செய்வதற்கான கட்டளை வரி கருவியை நிறுவுவதாகும். wscat ஐப் பயன்படுத்தி, பின்வருமாறு கோரிக்கைகளை அனுப்பலாம்:

_குறிப்பு: உங்களிடம் ஒரு அல்கெமி கணக்கு இருந்தால், நீங்கள் `demo` என்பதை உங்கள் சொந்த API கீயுடன் மாற்றலாம்._ _[இங்கே ஒரு இலவச அல்கெமி கணக்கிற்கு பதிவு செய்யுங்கள்!](https://auth.alchemy.com/signup)_

```
wscat -c wss://eth-mainnet.ws.alchemyapi.io/ws/demo

>  {"jsonrpc":  "2.0", "id": 0, "method":  "eth_gasPrice"}

<  {"jsonrpc":  "2.0", "result":  "0xb2d05e00", "id": 0}

```

## வெப்சாக்கெட்களை எவ்வாறு பயன்படுத்துவது {#how-to-use-websockets}

தொடங்குவதற்கு, உங்கள் செயலிக்கான வெப்சாக்கெட் URL ஐப் பயன்படுத்தி ஒரு வெப்சாக்கெட்டைத் திறக்கவும். [உங்கள் டாஷ்போர்டில்](https://dashboard.alchemy.com/) உள்ள செயலியின் பக்கத்தைத் திறந்து "View Key" என்பதைக் கிளிக் செய்வதன் மூலம் உங்கள் செயலியின் வெப்சாக்கெட் URL ஐக் கண்டறியலாம். வெப்சாக்கெட்டுகளுக்கான உங்கள் செயலியின் URL ஆனது HTTP கோரிக்கைகளுக்கான அதன் URL இலிருந்து வேறுபட்டது என்பதைக் கவனத்தில் கொள்ளவும், ஆனால் இரண்டையும் "View Key" என்பதைக் கிளிக் செய்வதன் மூலம் காணலாம்.

![உங்கள் அல்கெமி டாஷ்போர்டில் உங்கள் வெப்சாக்கெட் URL ஐ எங்கே கண்டுபிடிப்பது](./use-websockets.gif)

[அல்கெமி API குறிப்பில்](https://www.alchemy.com/docs/reference/api-overview) பட்டியலிடப்பட்டுள்ள எந்தவொரு API களையும் வெப்சாக்கெட் வழியாகப் பயன்படுத்தலாம். அவ்வாறு செய்ய, HTTP POST கோரிக்கையின் ಮುಖ್ಯப் பகுதியாக அனுப்பப்படும் அதே பேலோடைப் பயன்படுத்தவும், ஆனால் அதற்குப் பதிலாக அந்தப் பேலோடை வெப்சாக்கெட் மூலம் அனுப்பவும்.

## Web3 உடன் {#with-web3}

Web3 போன்ற ஒரு வாடிக்கையாளர் நூலகத்தைப் பயன்படுத்தும் போது வெப்சாக்கெட்டுகளுக்கு மாறுவது எளிது. உங்கள் Web3 வாடிக்கையாளரை உருவாக்கும் போது HTTP ஒன்றிற்குப் பதிலாக வெப்சாக்கெட் URL ஐ அனுப்பினால் போதும். உதாரணமாக:

```js
const web3 = new Web3("wss://eth-mainnet.ws.alchemyapi.io/ws/your-api-key")

web3.eth.getBlockNumber().then(console.log) // -> 7946893
```

## சந்தா API {#subscription-api}

ஒரு வெப்சாக்கெட் மூலம் இணைக்கப்படும்போது, நீங்கள் இரண்டு கூடுதல் முறைகளைப் பயன்படுத்தலாம்: `eth_subscribe` மற்றும் `eth_unsubscribe`. இந்த முறைகள் குறிப்பிட்ட நிகழ்வுகளைக் கேட்கவும் உடனடியாக அறிவிக்கப்படவும் உங்களை அனுமதிக்கும்.

### `eth_subscribe` {#eth-subscribe}

குறிப்பிட்ட நிகழ்வுகளுக்கு ஒரு புதிய சந்தாவை உருவாக்குகிறது. [`eth_subscribe` பற்றி மேலும் அறிக](https://docs.alchemy.com/reference/eth-subscribe).

#### அளவுருக்கள் {#parameters}

1. சந்தா வகைகள்
2. விருப்ப அளவுருக்கள்

முதல் வாதம் எந்த வகையான நிகழ்வைக் கேட்க வேண்டும் என்பதைக் குறிப்பிடுகிறது. இரண்டாவது வாதத்தில் முதல் வாதத்தைப் பொறுத்து கூடுதல் விருப்பங்கள் உள்ளன. வெவ்வேறு விளக்க வகைகள், அவற்றின் விருப்பங்கள் மற்றும் அவற்றின் நிகழ்வு பேலோடுகள் கீழே விவரிக்கப்பட்டுள்ளன.

#### திரும்பப் பெறுபவை {#returns}

சந்தா ஐடி: இந்த ஐடி பெறப்பட்ட எந்த நிகழ்வுகளுடனும் இணைக்கப்படும், மேலும் `eth_unsubscribe` ஐப் பயன்படுத்தி சந்தாவை ரத்து செய்யவும் பயன்படுத்தலாம்.

#### சந்தா நிகழ்வுகள் {#subscription-events}

சந்தா செயலில் இருக்கும்போது, பின்வரும் புலங்களைக் கொண்ட பொருட்களைக் கொண்ட நிகழ்வுகளைப் பெறுவீர்கள்:

- `jsonrpc`: எப்போதும் "2.0"
- `முறை`: எப்போதும் "eth_subscription"
- `params`: பின்வரும் புலங்களைக் கொண்ட ஒரு பொருள்:
  - `சந்தா`: இந்தச் சந்தாவை உருவாக்கிய `eth_subscribe` அழைப்பால் திருப்பியளிக்கப்பட்ட சந்தா ஐடி.
  - `முடிவு`: சந்தாவின் வகையைப் பொறுத்து உள்ளடக்கங்கள் மாறுபடும் ஒரு பொருள்.

#### சந்தா வகைகள் {#subscription-types}

1. `alchemy_newFullPendingTransactions`

நிலுவையில் உள்ள நிலைக்குச் சேர்க்கப்படும் அனைத்துப் பரிவர்த்தனைகளுக்கான பரிவர்த்தனைத் தகவலையும் திருப்பியளிக்கிறது. இந்தச் சந்தா வகை, நிலுவையில் உள்ள பரிவர்த்தனைகளுக்கு குழுசேர்கிறது. இது `web3.eth.subscribe("pendingTransactions")` என்ற நிலையான Web3 அழைப்பைப் போன்றது. ஆனால், பரிவர்த்தனை துண்டிகளை மட்டும் வெளியிடுவதற்குப் பதிலாக, _முழுமையான பரிவர்த்தனை தகவலை_ வெளியிடுவதில் இது வேறுபடுகிறது.

உதாரணம்:

```json
>  {"jsonrpc":  "2.0",  "id":  1,  "method":  "eth_subscribe",  "params":  ["alchemy_newFullPendingTransactions"]}

<  {"id":1,"result":"0x9a52eeddc2b289f985c0e23a7d8427c8","jsonrpc":"2.0"}
<  {
      "jsonrpc":"2.0",
      "method":"eth_subscription",
      "params":{
          "result":{
          "blockHash":null,
          "blockNumber":null,
          "from":"0xa36452fc31f6f482ad823cd1cf5515177d57667f",
          "gas":"0x1adb0",
          "gasPrice":"0x7735c4d40",
          "hash":"0x50bff0736c713458c92dd1848d12f3354149be1363123dae35e94e0f2a9d56bf",
"input":"0xa9059cbb0000000000000000000000000d0707963952f2fba59dd06f2b425ace40b492fe0000000000000000000000000000000000000000000015b1111266cfca100000",
          "nonce":"0x0",
          "to":"0xea38eaa3c86c8f9b751533ba2e562deb9acded40",
          "transactionIndex":null,
          "value":"0x0",
          "v":"0x26",
          "r":"0x195c2c1ed126088e12d290aa93541677d3e3b1d10f137e11f86b1b9227f01e3b",
          "s":"0x60fc4edbf1527832a2a36dbc1e63ed6193a6eee654472fbebbf88ef1750b5344"},
          "subscription":"0x9a52eeddc2b289f985c0e23a7d8427c8"
      }
  }

```

2. `newHeads`

சங்கிலி மறுசீரமைப்பின் போது உட்பட, சங்கிலியில் ஒரு புதிய தலைப்பு சேர்க்கப்படும் எந்த நேரத்திலும் ஒரு நிகழ்வை வெளியிடுகிறது.

ஒரு சங்கிலி மறுசீரமைப்பு ஏற்படும் போது, இந்த சந்தா புதிய சங்கிலிக்கான அனைத்து புதிய தலைப்புகளையும் கொண்ட ஒரு நிகழ்வை வெளியிடும். குறிப்பாக, ஒரே உயரத்துடன் பல தலைப்புகள் வெளியிடப்படுவதை நீங்கள் காணலாம், இது நிகழும்போது, பிந்தைய தலைப்பு மறுசீரமைப்பிற்குப் பிறகு சரியானதாக எடுத்துக்கொள்ளப்பட வேண்டும்.

உதாரணம்:

```json
>  {"jsonrpc":  "2.0",  "id":  1,  "method":  "eth_subscribe",  "params":  ["newHeads"]}

<  {"jsonrpc":"2.0","id":2,"result":"0x9ce59a13059e417087c02d3236a0b1cc"}
<  {
  "jsonrpc":  "2.0",
  "method":  "eth_subscription",
  "params":  {
      "result":  {
          "extraData":  "0xd983010305844765746887676f312e342e328777696e646f7773",
          "gasLimit":  "0x47e7c4",
          "gasUsed":  "0x38658",
          "logsBloom":
"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
          "nonce":  "0x084149998194cc5f",
          "number":  "0x1348c9",
          "parentHash":  "0x7736fab79e05dc611604d22470dadad26f56fe494421b5b333de816ce1f25701",
          "receiptRoot":  "0x2fab35823ad00c7bb388595cb46652fe7886e00660a01e867824d3dceb1c8d36",
          "sha3Uncles":  "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
          "stateRoot":  "0xb3346685172db67de536d8765c43c31009d0eb3bd9c501c9be3229203f15f378",
          "timestamp":  "0x56ffeff8",
          "transactionsRoot":  "0x0167ffa60e3ebc0b080cdb95f7c0087dd6c0e61413140e39d94d3468d7c9689f"
      },
  "subscription":  "0x9ce59a13059e417087c02d3236a0b1cc"
  }
}

```

3. `logs`

குறிப்பிட்ட வடிகட்டி நிபந்தனைகளுடன் பொருந்தக்கூடிய புதிதாகச் சேர்க்கப்பட்ட பிளாக்குகளின் பகுதியாக இருக்கும் பதிவுகளை வெளியிடுகிறது.

ஒரு சங்கிலி மறுசீரமைப்பு ஏற்படும் போது, பழைய சங்கிலியில் உள்ள பிளாக்குகளின் பகுதியாக இருக்கும் பதிவுகள் `removed` என்ற பண்புடன் `true` என அமைக்கப்பட்டு மீண்டும் வெளியிடப்படும். மேலும், புதிய சங்கிலியில் உள்ள பிளாக்குகளின் பகுதியாக இருக்கும் பதிவுகள் வெளியிடப்படுகின்றன, அதாவது மறுசீரமைப்பு விஷயத்தில் ஒரே பரிவர்த்தனைக்கான பதிவுகளை பலமுறை பார்க்க முடியும்.

அளவுருக்கள்

1. பின்வரும் புலங்களைக் கொண்ட ஒரு பொருள்:
   - `முகவரி` (விருப்பத்தேர்வு): ஒரு முகவரியைக் குறிக்கும் சரம் அல்லது அத்தகைய சரங்களின் வரிசை.
     - இந்த முகவரிகளில் ஒன்றிலிருந்து உருவாக்கப்பட்ட பதிவுகள் மட்டுமே வெளியிடப்படும்.
   - `தலைப்புகள்`: தலைப்பு குறிப்பிடுபவர்களின் ஒரு வரிசை.
     - ஒவ்வொரு தலைப்பு குறிப்பிடுபவரும் `null`, ஒரு தலைப்பைக் குறிக்கும் சரம் அல்லது சரங்களின் வரிசை.
     - `null` இல்லாத வரிசையில் உள்ள ஒவ்வொரு நிலையும், அந்த நிலையில் கொடுக்கப்பட்ட தலைப்புகளில் ஒன்றைக் கொண்ட பதிவுகளை மட்டுமே வெளியிட கட்டுப்படுத்துகிறது.

தலைப்பு விவரக்குறிப்புகளின் சில எடுத்துக்காட்டுகள்:

- `[]`: எந்த தலைப்புகளும் அனுமதிக்கப்படுகின்றன.
- `[A]`: முதல் நிலையில் A (மற்றும் அதன் பிறகு எதுவும்).
- `[null, B]`: முதல் நிலையில் எதுவும் மற்றும் இரண்டாவது நிலையில் B (மற்றும் அதன் பிறகு எதுவும்).
- `[A, B]`: முதல் நிலையில் A மற்றும் இரண்டாவது நிலையில் B (மற்றும் அதன் பிறகு எதுவும்).
- `[[A, B], [A, B]]`: முதல் நிலையில் (A அல்லது B) மற்றும் இரண்டாவது நிலையில் (A அல்லது B) (மற்றும் அதன் பிறகு எதுவும்).

உதாரணம்:

```json
>  {"jsonrpc":  "2.0",  "id":  1,  "method":  "eth_subscribe",  "params":  ["logs",  {"address":  "0x8320fe7702b96808f7bbc0d4a888ed1468216cfd",  "topics":  ["0xd78a0cb8bb633d06981248b816e7bd33c2a35a6089241d099fa519e361cab902"]}]}

<  {"jsonrpc":"2.0","id":2,"result":"0x4a8a4c0517381924f9838102c5a4dcb7"}
<  {
  "jsonrpc":  "2.0",
  "method":  "eth_subscription",
  "params":  {
      "subscription":  "0x4a8a4c0517381924f9838102c5a4dcb7",
      "result":  {
          "address":  "0x8320fe7702b96808f7bbc0d4a888ed1468216cfd",
          "blockHash":  "0x61cdb2a09ab99abf791d474f20c2ea89bf8de2923a2d42bb49944c8c993cbf04",
          "blockNumber":  "0x29e87",
          "data": "0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000003",
          "logIndex":"0x0",
          "topics":["0xd78a0cb8bb633d06981248b816e7bd33c2a35a6089241d099fa519e361cab902"],
          "transactionHash":  "0xe044554a0a55067caafd07f8020ab9f2af60bdfe337e395ecd84b4877a3d1ab4",
          "transactionIndex":  "0x0"
      }
  }
}

```

### `eth_unsubscribe` {#eth-unsubscribe}

ஏற்கனவே உள்ள சந்தாவை ரத்து செய்கிறது, அதனால் மேலும் எந்த நிகழ்வுகளும் அனுப்பப்படாது.

அளவுருக்கள்

1. சந்தா ஐடி, முன்பு `eth_subscribe` அழைப்பிலிருந்து திருப்பியளிக்கப்பட்டபடி.

திரும்பப் பெறுபவை

ஒரு சந்தா வெற்றிகரமாக ரத்து செய்யப்பட்டால் `true`, அல்லது கொடுக்கப்பட்ட ஐடியுடன் எந்த சந்தாவும் இல்லை என்றால் `false`.

உதாரணம்:

**கோரிக்கை**

```
curl https://eth-mainnet.alchemyapi.io/v2/your-api-key
-X POST
-H "Content-Type: application/json"
-d '{"id": 1, "method": "eth_unsubscribe", "params": ["0x9cef478923ff08bf67fde6c64013158d"]}'


```

**முடிவு**

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "result": true
}
```

---

இலவசமாக [அல்கெமியுடன் பதிவு செய்யுங்கள்](https://auth.alchemy.com), [எங்கள் ஆவணத்தைப்](https://www.alchemy.com/docs/) பாருங்கள், மற்றும் சமீபத்திய செய்திகளுக்கு, [ட்விட்டரில்](https://x.com/AlchemyPlatform) எங்களைப் பின்தொடரவும்.
