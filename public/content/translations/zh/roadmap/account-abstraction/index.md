---
title: "账户抽象"
description: "关于以太坊简化用户帐户和增强用户帐户安全性的计划的概述"
lang: zh
summaryPoints:
  - 帐户抽象大大简化了构建智能合约钱包的过程
  - 智能合约钱包大大简化了管理以太坊帐户访问的过程
  - 丢失和泄露的密钥可以通过多重备份进行找回
---

# 账户抽象 {#account-abstraction}

大多数现有用户通过\*\*[外部持有账户 (EOA)](/glossary/#eoa)\*\*与以太坊进行交互。 这限制了用户与以太坊的交互方式。 例如，它使批量交易变得困难，并且要求用户始终保持一定的 ETH 余额以支付交易费用。

帐户抽象是解决这些问题的一种方式，可以让用户灵活地设置自己的帐户，以提高安全性和改善用户体验。 这可以通过[升级 EOA](https://eips.ethereum.org/EIPS/eip-7702) (EIP-7702) 来实现，这样它们就可以由智能合约来控制。 还有另一种途径，即添加一个[第二个独立的交易系统](https://eips.ethereum.org/EIPS/eip-4337) (EIP-4337)，与现有协议并行运行。 无论选择哪条路径，最终结果都是通过智能合约钱包访问以太坊，无论是作为现有协议的一部分原生支持，还是通过附加的交易网络实现。

智能合约钱包可以为用户带来许多好处，包括：

- 灵活定义自己的安全规则
- 丢失密钥后找回帐户
- 在信赖的设备或个人之间共享帐户安全性
- 支付他人的燃料费用，或让他人为你支付燃料费用
- 将交易批量处理（例如，一次性批准并执行兑换）
- 增加去中心化应用程序和钱包开发者创新用户体验的机会

由于目前只有外部持有账户 ([EOA](/glossary/#eoa)) 可以发起交易，所以这些好处还没有得到原生支持。 外部帐户采用简单的公钥-私钥对。 它们的工作原理如下：

- 如果你拥有私钥，就可以在以太坊虚拟机 (EVM) 的规则范围内做_任何_事情。
- 如果你没有私钥，将_无法进行任何操作_。

如果你丢失了密钥则无法找回，而窃取者可以使用窃取的密钥立即获得帐户中的所有资金。

智能合约钱包是解决这些问题的方法，但是目前它们很难编程，因为最终它们实现的任何逻辑都必须被转换为一系列 EOA 交易，然后才能被以太坊处理。 帐户抽象可以让智能合约自行发起交易，因此用户希望实现的任何逻辑都可以编码到智能合约钱包本身，并在以太坊上执行。

最后，帐户抽象可以改善对智能合约钱包的支持，使其更易于构建且更安全地使用。 通过账户抽象，用户可以享受以太坊的所有优势，而无需了解其底层技术。

## 超越助记词 {#beyond-seed-phrases}

目前，帐户是通过私钥保护的，而私钥是通过助记词计算出来的。 任何拥有种子短语的人都可以轻松找到账户的私钥，并获得对其保护的所有资产的访问权限。 如果私钥和种子短语丢失，资产将永久无法访问。 即使对于专家来说，保护这些种子短语也很困难，而针对种子短语的网络骗局是最常见的。

而账户抽象通过使用智能合约来持有资产并授权交易，解决了这个问题。 智能合约可以通过量身定制的逻辑，实现最大化的安全性和可用性。 用户仍然使用私钥来控制访问权限，但采用了增强版的安全措施。

例如，可以在钱包中添加备份密钥，当初始密钥遭到泄露时，可以替换为备份密钥，从而提高安全性。 每个密钥可以采用不同的安全措施，或者分配给可信的个人，这样可以显著提高安全性。 可以通过设置额外的钱包规则来减轻一旦密钥泄露带来的损害，例如设置高额交易必须通过多个签名，或规定交易只能发送到可信地址。

## 更好的用户体验 {#better-user-experience}

账户抽象通过在协议层支持智能合约钱包，极大地提升了用户体验和安全性。 开发者可以自由创新，改进交易批量处理，以提高速度和效率。 简单的兑换操作可以变成一键完成，显著提升了使用体验。

Gas管理得到显著改善。 应用程序可以为用户支付 Gas 费，或允许使用 ETH 以外的代币进行支付，从而消除了必须持有 ETH 的需求。

## 帐户抽象将如何实施？ {#how-will-aa-be-implemented}

目前，智能合约钱包的实现较为复杂，因为它们依赖于将标准交易封装在复杂的代码中。 以太坊可以通过允许智能合约直接发起交易来改变这一点，将逻辑嵌入到以太坊智能合约中，而不是依赖外部中继者。

### EIP-4337：实现了无需协议更改的账户抽象

EIP-4337 使得原生智能合约钱包的支持成为可能，而无需修改以太坊的核心协议。 它引入了 `UserOperation` 对象，由验证者收集并打包成交易批次，从而简化钱包开发。 EIP-4337 的 EntryPoint 合约 在 2023年3月1日 上线到以太坊主网，已经惠及超过 2600万个智能钱包 和 1.7亿个用户操作。

## 当前进展 {#current-progress}

作为以太坊 Pectra 升级 的一部分，EIP-7702 计划于 2025年5月7日 实施。 EIP-4337 已被广泛采用，[已部署超过 2600 万个智能账户，并处理了超过 1.7 亿次 UserOperation](https://www.bundlebear.com/erc4337-overview/all)。

## 扩展阅读{#further-reading}

- [erc4337.io](https://docs.erc4337.io/)
- [EIP-4337 相关文档](https://eips.ethereum.org/EIPS/eip-4337)
- [EIP-7702 相关文档](https://eips.ethereum.org/EIPS/eip-7702)
- [ERC-4337 采用仪表板](https://www.bundlebear.com/erc4337-overview/all)
- [Vitalik 的“通往账户抽象之路”](https://notes.ethereum.org/@vbuterin/account_abstraction_roadmap#Transaction-inclusion-lists)
- [Vitalik 关于社交恢复钱包的博客](https://vitalik.eth.limo/general/2021/01/11/recovery.html)
- [账户抽象资源大全](https://github.com/4337Mafia/awesome-account-abstraction)
