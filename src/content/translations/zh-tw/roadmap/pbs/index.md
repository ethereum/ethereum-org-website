---
title: 提交者-建置者分離
description: 瞭解以太坊驗證者如何以及為何要將區塊建置與區塊廣播職責分離。
lang: zh-tw
---

# 提交者-建置者分離 {#proposer-builder-separation}

目前以太坊驗證者負責建置*和*廣播區塊。 他們將從流言（註：gossip，一種分散式協定）網路監聽到的交易捆綁在一起，並打包進一個區塊，然後傳送到以太坊網路上。 **提交者-建置者分離 (PBS)** 會將這些任務分配給多個驗證者。 區塊建置者負責建立區塊，並在每個時隙將其提供給區塊提交者。 區塊提交者無法讀取區塊的內容，他們直接選擇收益最高的區塊，並將費用支付給區塊建置者，然後將區塊傳送至對等節點。

這個升級非常重要，有幾個原因。 首先，它在協定層面建立了避免交易審查的機會。 其次，它避免了業餘愛好驗證者在競爭中被機構參與者擊敗，機構參與者能更好地最佳化區塊建置利潤。 再者，它透過 Danksharding 升級幫助以太坊擴容。

## 提交者-建置者分離及抗審查性 {#pbs-and-censorship-resistance}

將區塊建置者與區塊提交者分離可使區塊建置者更難審查交易。 這是因為提交區塊前可以新增相對複雜的納入標準，以確保在區塊提交前沒有被審查。 由於區塊提交者是與區塊建置者分離的實體，承擔著保護者的角色，可阻止對區塊建置者的審查。

舉例來說，可以引入包含清單，以便當驗證者知道交易但沒有看到它們包含在區塊中時，可以將這些交易強加為下一個區塊中的必備項。 包含清單由區塊提交者的本地記憶體池（其自己知道的交易清單）產生，並在區塊被提交前送到其他節點。 若包含清單中缺少任何交易，區塊提交者可以選擇拒絕區塊、在提交前加上缺漏的交易，或者直接提交區塊（其他驗證者收到時會拒絕）。 這個理念還有一個潛在的更高效版本，它斷定建置者必須充分利用可用的區塊空間，如果不這樣做，交易將從提交者的包含清單中新增。 這個領域仍在活躍的研究當中，且包含清單的最佳化設定尚未確定。

[加密的記憶體池](https://www.youtube.com/watch?v=fHDjgFcha0M&list=PLpktWkixc1gUqkyc1-iE6TT0RWQTBJELe&index=3)也可以在區塊被廣播後，才讓建置者與提交者知道其打包進區塊的是哪些交易。

<ExpandableCard title="提交者-建置者分離解決了什麼類型的審查問題？" eventCategory="/roadmap/pbs" eventName="clicked what kinds of censorship does PBS solve?">

有權勢的組織可以對驗證者施壓，以審查特定地址收發的交易。 為應對這一壓力，驗證者會偵測交易池中已加入黑名單的地址並將其從提交的區塊中刪除。 提交者-建置者分離之後，這已不再可能，因為區塊提交者不會知道他們在區塊中廣播的是哪些交易。 對於某些個人或應用程式來說，遵守審查規則可能很重要，例如當審查規則在其所在地區成為法律時。 在這些情況下，合規性發生在應用程式級別，同時協定仍然無需許可且不受審查。

</ExpandableCard>

## 提交者-建置者分離和最大可提取價值 {#pbs-and-mev}

**最大可提取價值 (MEV)** 指驗證者以對自己有利的方式排列交易順序，最大程度提高自己的收益。 常見的例子包括在去中心化交易所套利掉期（例如搶先進行大宗銷售或購買）或尋找清算去中心化金融倉位的機會。 最大程度提高最大可提取價值需要復雜的技術知識和附加到一般驗證者的客製化軟體，這使得機構營運者在最大可提取價值提取方面的表現更有可能優於個人和業餘愛好者驗證者。 這表示中心化營運者的質押收益可能更高，形成一股中心化力量，抑制個人質押。

提交者-建置者分離透過重新設定最大可提取價值的經濟性解決了這個問題。 區塊提交者不需要自己搜尋最大可提取價值，只需從區塊建置者提供的許多區塊中選擇一個即可。 複雜的最大可提取價值提取作業可能是區塊建置者完成的，但獎勵歸區塊提交者所有。 這表示即使一小部分專門的區塊建置者主導了最大可提取價值提取，獎勵可能歸網路上的任何驗證者所有，包括個人質押者。

<ExpandableCard title="為什麼中心化區塊建置沒問題？" eventCategory="/roadmap/pbs" eventName="clicked why is it OK to centralize block building?">

由於複雜的最大可提取價值策略提供更高的獎勵，個人可能會被質押池吸引，而不是自己單獨質押。 將區塊建置與區塊提交分離，表示提取的最大可提取價值會分散到更多驗證者，而非集中在最高效的最大可提取價值搜尋者手上。 同時，允許專業的區塊建置者存在，消除了個人的區塊建置負擔，也避免個人自己偷取最大可提取價值，同時最大化了可以檢查區塊是否誠實的個人獨立驗證者的數量。 「證明者-驗證者不對稱性」是一個重要的概念，指的是只要有強大且最大程度去中心化的驗證者網路能夠證明區塊是誠實的，中心化區塊生產就可以接受。 去中心化是一種方法，而非最終目標，我們需要的是誠實的區塊。
</ExpandableCard>

## 提交者-建置者分離及 Danksharding {#pbs-and-danksharding}

Danksharding 是以太坊擴容至每秒 >100,000 筆交易並最小化卷軸使用者費用的方法。 它依賴提交者-建置者分離，因為它增加了區塊建置者的工作量，它們需要在不到 1 秒的時間內運算高達 64 MB 卷軸資料的證明。 這可能需要專門的建置者，他們可以為該任務投入相當多的硬體。 然而，在目前的情況下，由於最大可提取價值提取，區塊建置可能會越來越集中到更複雜、更強大的營運者手中。 提交者-建置者分離是接受這一現實，防止其對區塊驗證（重要部分）或質押獎勵分配施加集中力量的一種方式。 一項巨大的附帶好處是，專門的區塊建置者也願意並且能夠計算 Danksharding 所需的資料證明。

## 目前進度 {#current-progress}

提交者-建置者分離正處於研究的進階階段，但在以太坊用戶端中進行原型設計之前，仍有一些重要的設計問題需要解決。 目前還沒有定案的規範。 這意味著提交者-建置者分離可能還要一年或更長時間才能推出。 歡迎檢視最新的[研究現狀](https://notes.ethereum.org/@vbuterin/pbs_censorship_resistance)。

## 延伸閱讀 {#further-reading}

- [研究現狀：提交者-建置者分離的抗審查能力](https://notes.ethereum.org/@vbuterin/pbs_censorship_resistance)
- [適合提交者-建置者分離的收費市場設計](https://ethresear.ch/t/proposer-block-builder-separation-friendly-fee-market-designs/9725)
- [提交者-建置者分離及抗審查性](https://notes.ethereum.org/@fradamt/H1TsYRfJc#Secondary-auctions)
- [包含清單](https://notes.ethereum.org/@fradamt/H1ZqdtrBF)
